(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function bS(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var lm={exports:{}},Ll={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xv;function AS(){if(xv)return Ll;xv=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:i,type:s,key:f,ref:o!==void 0?o:null,props:u}}return Ll.Fragment=t,Ll.jsx=n,Ll.jsxs=n,Ll}var Mv;function SS(){return Mv||(Mv=1,lm.exports=AS()),lm.exports}var F=SS(),um={exports:{}},It={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vv;function wS(){if(Vv)return It;Vv=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),b=Symbol.iterator;function w(O){return O===null||typeof O!="object"?null:(O=b&&O[b]||O["@@iterator"],typeof O=="function"?O:null)}var V={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},K=Object.assign,Q={};function L(O,it,ct){this.props=O,this.context=it,this.refs=Q,this.updater=ct||V}L.prototype.isReactComponent={},L.prototype.setState=function(O,it){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,it,"setState")},L.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function Z(){}Z.prototype=L.prototype;function q(O,it,ct){this.props=O,this.context=it,this.refs=Q,this.updater=ct||V}var Y=q.prototype=new Z;Y.constructor=q,K(Y,L.prototype),Y.isPureReactComponent=!0;var at=Array.isArray,rt={H:null,A:null,T:null,S:null,V:null},dt=Object.prototype.hasOwnProperty;function I(O,it,ct,lt,gt,xt){return ct=xt.ref,{$$typeof:i,type:O,key:it,ref:ct!==void 0?ct:null,props:xt}}function S(O,it){return I(O.type,it,void 0,void 0,void 0,O.props)}function R(O){return typeof O=="object"&&O!==null&&O.$$typeof===i}function M(O){var it={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(ct){return it[ct]})}var N=/\/+/g;function P(O,it){return typeof O=="object"&&O!==null&&O.key!=null?M(""+O.key):it.toString(36)}function D(){}function se(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(D,D):(O.status="pending",O.then(function(it){O.status==="pending"&&(O.status="fulfilled",O.value=it)},function(it){O.status==="pending"&&(O.status="rejected",O.reason=it)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function Wt(O,it,ct,lt,gt){var xt=typeof O;(xt==="undefined"||xt==="boolean")&&(O=null);var Et=!1;if(O===null)Et=!0;else switch(xt){case"bigint":case"string":case"number":Et=!0;break;case"object":switch(O.$$typeof){case i:case t:Et=!0;break;case v:return Et=O._init,Wt(Et(O._payload),it,ct,lt,gt)}}if(Et)return gt=gt(O),Et=lt===""?"."+P(O,0):lt,at(gt)?(ct="",Et!=null&&(ct=Et.replace(N,"$&/")+"/"),Wt(gt,it,ct,"",function(Un){return Un})):gt!=null&&(R(gt)&&(gt=S(gt,ct+(gt.key==null||O&&O.key===gt.key?"":(""+gt.key).replace(N,"$&/")+"/")+Et)),it.push(gt)),1;Et=0;var Le=lt===""?".":lt+":";if(at(O))for(var $t=0;$t<O.length;$t++)lt=O[$t],xt=Le+P(lt,$t),Et+=Wt(lt,it,ct,xt,gt);else if($t=w(O),typeof $t=="function")for(O=$t.call(O),$t=0;!(lt=O.next()).done;)lt=lt.value,xt=Le+P(lt,$t++),Et+=Wt(lt,it,ct,xt,gt);else if(xt==="object"){if(typeof O.then=="function")return Wt(se(O),it,ct,lt,gt);throw it=String(O),Error("Objects are not valid as a React child (found: "+(it==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":it)+"). If you meant to render a collection of children, use an array instead.")}return Et}function X(O,it,ct){if(O==null)return O;var lt=[],gt=0;return Wt(O,lt,"","",function(xt){return it.call(ct,xt,gt++)}),lt}function ot(O){if(O._status===-1){var it=O._result;it=it(),it.then(function(ct){(O._status===0||O._status===-1)&&(O._status=1,O._result=ct)},function(ct){(O._status===0||O._status===-1)&&(O._status=2,O._result=ct)}),O._status===-1&&(O._status=0,O._result=it)}if(O._status===1)return O._result.default;throw O._result}var mt=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var it=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(it))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)};function zt(){}return It.Children={map:X,forEach:function(O,it,ct){X(O,function(){it.apply(this,arguments)},ct)},count:function(O){var it=0;return X(O,function(){it++}),it},toArray:function(O){return X(O,function(it){return it})||[]},only:function(O){if(!R(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},It.Component=L,It.Fragment=n,It.Profiler=o,It.PureComponent=q,It.StrictMode=s,It.Suspense=p,It.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=rt,It.__COMPILER_RUNTIME={__proto__:null,c:function(O){return rt.H.useMemoCache(O)}},It.cache=function(O){return function(){return O.apply(null,arguments)}},It.cloneElement=function(O,it,ct){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var lt=K({},O.props),gt=O.key,xt=void 0;if(it!=null)for(Et in it.ref!==void 0&&(xt=void 0),it.key!==void 0&&(gt=""+it.key),it)!dt.call(it,Et)||Et==="key"||Et==="__self"||Et==="__source"||Et==="ref"&&it.ref===void 0||(lt[Et]=it[Et]);var Et=arguments.length-2;if(Et===1)lt.children=ct;else if(1<Et){for(var Le=Array(Et),$t=0;$t<Et;$t++)Le[$t]=arguments[$t+2];lt.children=Le}return I(O.type,gt,void 0,void 0,xt,lt)},It.createContext=function(O){return O={$$typeof:f,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:u,_context:O},O},It.createElement=function(O,it,ct){var lt,gt={},xt=null;if(it!=null)for(lt in it.key!==void 0&&(xt=""+it.key),it)dt.call(it,lt)&&lt!=="key"&&lt!=="__self"&&lt!=="__source"&&(gt[lt]=it[lt]);var Et=arguments.length-2;if(Et===1)gt.children=ct;else if(1<Et){for(var Le=Array(Et),$t=0;$t<Et;$t++)Le[$t]=arguments[$t+2];gt.children=Le}if(O&&O.defaultProps)for(lt in Et=O.defaultProps,Et)gt[lt]===void 0&&(gt[lt]=Et[lt]);return I(O,xt,void 0,void 0,null,gt)},It.createRef=function(){return{current:null}},It.forwardRef=function(O){return{$$typeof:m,render:O}},It.isValidElement=R,It.lazy=function(O){return{$$typeof:v,_payload:{_status:-1,_result:O},_init:ot}},It.memo=function(O,it){return{$$typeof:g,type:O,compare:it===void 0?null:it}},It.startTransition=function(O){var it=rt.T,ct={};rt.T=ct;try{var lt=O(),gt=rt.S;gt!==null&&gt(ct,lt),typeof lt=="object"&&lt!==null&&typeof lt.then=="function"&&lt.then(zt,mt)}catch(xt){mt(xt)}finally{rt.T=it}},It.unstable_useCacheRefresh=function(){return rt.H.useCacheRefresh()},It.use=function(O){return rt.H.use(O)},It.useActionState=function(O,it,ct){return rt.H.useActionState(O,it,ct)},It.useCallback=function(O,it){return rt.H.useCallback(O,it)},It.useContext=function(O){return rt.H.useContext(O)},It.useDebugValue=function(){},It.useDeferredValue=function(O,it){return rt.H.useDeferredValue(O,it)},It.useEffect=function(O,it,ct){var lt=rt.H;if(typeof ct=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return lt.useEffect(O,it)},It.useId=function(){return rt.H.useId()},It.useImperativeHandle=function(O,it,ct){return rt.H.useImperativeHandle(O,it,ct)},It.useInsertionEffect=function(O,it){return rt.H.useInsertionEffect(O,it)},It.useLayoutEffect=function(O,it){return rt.H.useLayoutEffect(O,it)},It.useMemo=function(O,it){return rt.H.useMemo(O,it)},It.useOptimistic=function(O,it){return rt.H.useOptimistic(O,it)},It.useReducer=function(O,it,ct){return rt.H.useReducer(O,it,ct)},It.useRef=function(O){return rt.H.useRef(O)},It.useState=function(O){return rt.H.useState(O)},It.useSyncExternalStore=function(O,it,ct){return rt.H.useSyncExternalStore(O,it,ct)},It.useTransition=function(){return rt.H.useTransition()},It.version="19.1.1",It}var Pv;function dp(){return Pv||(Pv=1,um.exports=wS()),um.exports}var B=dp();const re=bS(B);var cm={exports:{}},Ul={},hm={exports:{}},fm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kv;function RS(){return kv||(kv=1,(function(i){function t(X,ot){var mt=X.length;X.push(ot);t:for(;0<mt;){var zt=mt-1>>>1,O=X[zt];if(0<o(O,ot))X[zt]=ot,X[mt]=O,mt=zt;else break t}}function n(X){return X.length===0?null:X[0]}function s(X){if(X.length===0)return null;var ot=X[0],mt=X.pop();if(mt!==ot){X[0]=mt;t:for(var zt=0,O=X.length,it=O>>>1;zt<it;){var ct=2*(zt+1)-1,lt=X[ct],gt=ct+1,xt=X[gt];if(0>o(lt,mt))gt<O&&0>o(xt,lt)?(X[zt]=xt,X[gt]=mt,zt=gt):(X[zt]=lt,X[ct]=mt,zt=ct);else if(gt<O&&0>o(xt,mt))X[zt]=xt,X[gt]=mt,zt=gt;else break t}}return ot}function o(X,ot){var mt=X.sortIndex-ot.sortIndex;return mt!==0?mt:X.id-ot.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();i.unstable_now=function(){return f.now()-m}}var p=[],g=[],v=1,b=null,w=3,V=!1,K=!1,Q=!1,L=!1,Z=typeof setTimeout=="function"?setTimeout:null,q=typeof clearTimeout=="function"?clearTimeout:null,Y=typeof setImmediate<"u"?setImmediate:null;function at(X){for(var ot=n(g);ot!==null;){if(ot.callback===null)s(g);else if(ot.startTime<=X)s(g),ot.sortIndex=ot.expirationTime,t(p,ot);else break;ot=n(g)}}function rt(X){if(Q=!1,at(X),!K)if(n(p)!==null)K=!0,dt||(dt=!0,P());else{var ot=n(g);ot!==null&&Wt(rt,ot.startTime-X)}}var dt=!1,I=-1,S=5,R=-1;function M(){return L?!0:!(i.unstable_now()-R<S)}function N(){if(L=!1,dt){var X=i.unstable_now();R=X;var ot=!0;try{t:{K=!1,Q&&(Q=!1,q(I),I=-1),V=!0;var mt=w;try{e:{for(at(X),b=n(p);b!==null&&!(b.expirationTime>X&&M());){var zt=b.callback;if(typeof zt=="function"){b.callback=null,w=b.priorityLevel;var O=zt(b.expirationTime<=X);if(X=i.unstable_now(),typeof O=="function"){b.callback=O,at(X),ot=!0;break e}b===n(p)&&s(p),at(X)}else s(p);b=n(p)}if(b!==null)ot=!0;else{var it=n(g);it!==null&&Wt(rt,it.startTime-X),ot=!1}}break t}finally{b=null,w=mt,V=!1}ot=void 0}}finally{ot?P():dt=!1}}}var P;if(typeof Y=="function")P=function(){Y(N)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,se=D.port2;D.port1.onmessage=N,P=function(){se.postMessage(null)}}else P=function(){Z(N,0)};function Wt(X,ot){I=Z(function(){X(i.unstable_now())},ot)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(X){X.callback=null},i.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<X?Math.floor(1e3/X):5},i.unstable_getCurrentPriorityLevel=function(){return w},i.unstable_next=function(X){switch(w){case 1:case 2:case 3:var ot=3;break;default:ot=w}var mt=w;w=ot;try{return X()}finally{w=mt}},i.unstable_requestPaint=function(){L=!0},i.unstable_runWithPriority=function(X,ot){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var mt=w;w=X;try{return ot()}finally{w=mt}},i.unstable_scheduleCallback=function(X,ot,mt){var zt=i.unstable_now();switch(typeof mt=="object"&&mt!==null?(mt=mt.delay,mt=typeof mt=="number"&&0<mt?zt+mt:zt):mt=zt,X){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=mt+O,X={id:v++,callback:ot,priorityLevel:X,startTime:mt,expirationTime:O,sortIndex:-1},mt>zt?(X.sortIndex=mt,t(g,X),n(p)===null&&X===n(g)&&(Q?(q(I),I=-1):Q=!0,Wt(rt,mt-zt))):(X.sortIndex=O,t(p,X),K||V||(K=!0,dt||(dt=!0,P()))),X},i.unstable_shouldYield=M,i.unstable_wrapCallback=function(X){var ot=w;return function(){var mt=w;w=ot;try{return X.apply(this,arguments)}finally{w=mt}}}})(fm)),fm}var Lv;function IS(){return Lv||(Lv=1,hm.exports=RS()),hm.exports}var dm={exports:{}},Ye={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uv;function CS(){if(Uv)return Ye;Uv=1;var i=dp();function t(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,v){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:p,containerInfo:g,implementation:v}}var f=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Ye.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Ye.createPortal=function(p,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return u(p,g,null,v)},Ye.flushSync=function(p){var g=f.T,v=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=g,s.p=v,s.d.f()}},Ye.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},Ye.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Ye.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var v=g.as,b=m(v,g.crossOrigin),w=typeof g.integrity=="string"?g.integrity:void 0,V=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:b,integrity:w,fetchPriority:V}):v==="script"&&s.d.X(p,{crossOrigin:b,integrity:w,fetchPriority:V,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Ye.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},Ye.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,b=m(v,g.crossOrigin);s.d.L(p,v,{crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Ye.preloadModule=function(p,g){if(typeof p=="string")if(g){var v=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},Ye.requestFormReset=function(p){s.d.r(p)},Ye.unstable_batchedUpdates=function(p,g){return p(g)},Ye.useFormState=function(p,g,v){return f.H.useFormState(p,g,v)},Ye.useFormStatus=function(){return f.H.useHostTransitionStatus()},Ye.version="19.1.1",Ye}var zv;function DS(){if(zv)return dm.exports;zv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),dm.exports=CS(),dm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bv;function NS(){if(Bv)return Ul;Bv=1;var i=IS(),t=dp(),n=DS();function s(e){var r="https://react.dev/errors/"+e;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var r=e,a=e;if(e.alternate)for(;r.return;)r=r.return;else{e=r;do r=e,(r.flags&4098)!==0&&(a=r.return),e=r.return;while(e)}return r.tag===3?a:null}function f(e){if(e.tag===13){var r=e.memoizedState;if(r===null&&(e=e.alternate,e!==null&&(r=e.memoizedState)),r!==null)return r.dehydrated}return null}function m(e){if(u(e)!==e)throw Error(s(188))}function p(e){var r=e.alternate;if(!r){if(r=u(e),r===null)throw Error(s(188));return r!==e?null:e}for(var a=e,l=r;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return m(h),e;if(d===l)return m(h),r;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var T=!1,E=h.child;E;){if(E===a){T=!0,a=h,l=d;break}if(E===l){T=!0,l=h,a=d;break}E=E.sibling}if(!T){for(E=d.child;E;){if(E===a){T=!0,a=d,l=h;break}if(E===l){T=!0,l=d,a=h;break}E=E.sibling}if(!T)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?e:r}function g(e){var r=e.tag;if(r===5||r===26||r===27||r===6)return e;for(e=e.child;e!==null;){if(r=g(e),r!==null)return r;e=e.sibling}return null}var v=Object.assign,b=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),V=Symbol.for("react.portal"),K=Symbol.for("react.fragment"),Q=Symbol.for("react.strict_mode"),L=Symbol.for("react.profiler"),Z=Symbol.for("react.provider"),q=Symbol.for("react.consumer"),Y=Symbol.for("react.context"),at=Symbol.for("react.forward_ref"),rt=Symbol.for("react.suspense"),dt=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function P(e){return e===null||typeof e!="object"?null:(e=N&&e[N]||e["@@iterator"],typeof e=="function"?e:null)}var D=Symbol.for("react.client.reference");function se(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===D?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case K:return"Fragment";case L:return"Profiler";case Q:return"StrictMode";case rt:return"Suspense";case dt:return"SuspenseList";case R:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case V:return"Portal";case Y:return(e.displayName||"Context")+".Provider";case q:return(e._context.displayName||"Context")+".Consumer";case at:var r=e.render;return e=e.displayName,e||(e=r.displayName||r.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case I:return r=e.displayName||null,r!==null?r:se(e.type)||"Memo";case S:r=e._payload,e=e._init;try{return se(e(r))}catch{}}return null}var Wt=Array.isArray,X=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ot=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,mt={pending:!1,data:null,method:null,action:null},zt=[],O=-1;function it(e){return{current:e}}function ct(e){0>O||(e.current=zt[O],zt[O]=null,O--)}function lt(e,r){O++,zt[O]=e.current,e.current=r}var gt=it(null),xt=it(null),Et=it(null),Le=it(null);function $t(e,r){switch(lt(Et,r),lt(xt,e),lt(gt,null),r.nodeType){case 9:case 11:e=(e=r.documentElement)&&(e=e.namespaceURI)?av(e):0;break;default:if(e=r.tagName,r=r.namespaceURI)r=av(r),e=ov(r,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}ct(gt),lt(gt,e)}function Un(){ct(gt),ct(xt),ct(Et)}function Oo(e){e.memoizedState!==null&&lt(Le,e);var r=gt.current,a=ov(r,e.type);r!==a&&(lt(xt,e),lt(gt,a))}function ca(e){xt.current===e&&(ct(gt),ct(xt)),Le.current===e&&(ct(Le),xl._currentValue=mt)}var ha=Object.prototype.hasOwnProperty,hs=i.unstable_scheduleCallback,fa=i.unstable_cancelCallback,uf=i.unstable_shouldYield,xo=i.unstable_requestPaint,on=i.unstable_now,Su=i.unstable_getCurrentPriorityLevel,Re=i.unstable_ImmediatePriority,Oe=i.unstable_UserBlockingPriority,Ii=i.unstable_NormalPriority,cf=i.unstable_LowPriority,Mo=i.unstable_IdlePriority,hf=i.log,fs=i.unstable_setDisableYieldValue,or=null,$e=null;function Sn(e){if(typeof hf=="function"&&fs(e),$e&&typeof $e.setStrictMode=="function")try{$e.setStrictMode(or,e)}catch{}}var tn=Math.clz32?Math.clz32:Ru,ff=Math.log,wu=Math.LN2;function Ru(e){return e>>>=0,e===0?32:31-(ff(e)/wu|0)|0}var ii=256,lr=4194304;function zn(e){var r=e&42;if(r!==0)return r;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function wn(e,r,a){var l=e.pendingLanes;if(l===0)return 0;var h=0,d=e.suspendedLanes,T=e.pingedLanes;e=e.warmLanes;var E=l&134217727;return E!==0?(l=E&~d,l!==0?h=zn(l):(T&=E,T!==0?h=zn(T):a||(a=E&~e,a!==0&&(h=zn(a))))):(E=l&~d,E!==0?h=zn(E):T!==0?h=zn(T):a||(a=l&~e,a!==0&&(h=zn(a)))),h===0?0:r!==0&&r!==h&&(r&d)===0&&(d=h&-h,a=r&-r,d>=a||d===32&&(a&4194048)!==0)?r:h}function ur(e,r){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&r)===0}function da(e,r){switch(e){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Vo(){var e=ii;return ii<<=1,(ii&4194048)===0&&(ii=256),e}function cr(){var e=lr;return lr<<=1,(lr&62914560)===0&&(lr=4194304),e}function ma(e){for(var r=[],a=0;31>a;a++)r.push(e);return r}function de(e,r){e.pendingLanes|=r,r!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Iu(e,r,a,l,h,d){var T=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var E=e.entanglements,C=e.expirationTimes,j=e.hiddenUpdates;for(a=T&~a;0<a;){var W=31-tn(a),et=1<<W;E[W]=0,C[W]=-1;var H=j[W];if(H!==null)for(j[W]=null,W=0;W<H.length;W++){var G=H[W];G!==null&&(G.lane&=-536870913)}a&=~et}l!==0&&hr(e,l,0),d!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=d&~(T&~r))}function hr(e,r,a){e.pendingLanes|=r,e.suspendedLanes&=~r;var l=31-tn(r);e.entangledLanes|=r,e.entanglements[l]=e.entanglements[l]|1073741824|a&4194090}function fr(e,r){var a=e.entangledLanes|=r;for(e=e.entanglements;a;){var l=31-tn(a),h=1<<l;h&r|e[l]&r&&(e[l]|=r),a&=~h}}function Po(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function ko(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Ci(){var e=ot.p;return e!==0?e:(e=window.event,e===void 0?32:Rv(e.type))}function df(e,r){var a=ot.p;try{return ot.p=e,r()}finally{ot.p=a}}var ri=Math.random().toString(36).slice(2),me="__reactFiber$"+ri,Ue="__reactProps$"+ri,Di="__reactContainer$"+ri,ds="__reactEvents$"+ri,ms="__reactListeners$"+ri,mf="__reactHandles$"+ri,Bn="__reactResources$"+ri,dr="__reactMarker$"+ri;function pa(e){delete e[me],delete e[Ue],delete e[ds],delete e[ms],delete e[mf]}function si(e){var r=e[me];if(r)return r;for(var a=e.parentNode;a;){if(r=a[Di]||a[me]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(e=hv(e);e!==null;){if(a=e[me])return a;e=hv(e)}return r}e=a,a=e.parentNode}return null}function ai(e){if(e=e[me]||e[Di]){var r=e.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return e}return null}function mr(e){var r=e.tag;if(r===5||r===26||r===27||r===6)return e.stateNode;throw Error(s(33))}function pr(e){var r=e[Bn];return r||(r=e[Bn]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function pe(e){e[dr]=!0}var Cu=new Set,ps={};function oi(e,r){li(e,r),li(e+"Capture",r)}function li(e,r){for(ps[e]=r,e=0;e<r.length;e++)Cu.add(r[e])}var gs=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ui={},ga={};function pf(e){return ha.call(ga,e)?!0:ha.call(ui,e)?!1:gs.test(e)?ga[e]=!0:(ui[e]=!0,!1)}function ys(e,r,a){if(pf(r))if(a===null)e.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(r);return}}e.setAttribute(r,""+a)}}function _s(e,r,a){if(a===null)e.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(r);return}e.setAttribute(r,""+a)}}function Rn(e,r,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(r,a,""+l)}}var vs,ya;function Ni(e){if(vs===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);vs=r&&r[1]||"",ya=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+vs+e+ya}var _a=!1;function va(e,r){if(!e||_a)return"";_a=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var et=function(){throw Error()};if(Object.defineProperty(et.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(et,[])}catch(G){var H=G}Reflect.construct(e,[],et)}else{try{et.call()}catch(G){H=G}e.call(et.prototype)}}else{try{throw Error()}catch(G){H=G}(et=e())&&typeof et.catch=="function"&&et.catch(function(){})}}catch(G){if(G&&H&&typeof G.stack=="string")return[G.stack,H.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),T=d[0],E=d[1];if(T&&E){var C=T.split(`
`),j=E.split(`
`);for(h=l=0;l<C.length&&!C[l].includes("DetermineComponentFrameRoot");)l++;for(;h<j.length&&!j[h].includes("DetermineComponentFrameRoot");)h++;if(l===C.length||h===j.length)for(l=C.length-1,h=j.length-1;1<=l&&0<=h&&C[l]!==j[h];)h--;for(;1<=l&&0<=h;l--,h--)if(C[l]!==j[h]){if(l!==1||h!==1)do if(l--,h--,0>h||C[l]!==j[h]){var W=`
`+C[l].replace(" at new "," at ");return e.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",e.displayName)),W}while(1<=l&&0<=h);break}}}finally{_a=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?Ni(a):""}function gf(e){switch(e.tag){case 26:case 27:case 5:return Ni(e.type);case 16:return Ni("Lazy");case 13:return Ni("Suspense");case 19:return Ni("SuspenseList");case 0:case 15:return va(e.type,!1);case 11:return va(e.type.render,!1);case 1:return va(e.type,!0);case 31:return Ni("Activity");default:return""}}function jn(e){try{var r="";do r+=gf(e),e=e.return;while(e);return r}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function le(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function gr(e){var r=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Ts(e){var r=gr(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,r),l=""+e[r];if(!e.hasOwnProperty(r)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,d=a.set;return Object.defineProperty(e,r,{configurable:!0,get:function(){return h.call(this)},set:function(T){l=""+T,d.call(this,T)}}),Object.defineProperty(e,r,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(T){l=""+T},stopTracking:function(){e._valueTracker=null,delete e[r]}}}}function yr(e){e._valueTracker||(e._valueTracker=Ts(e))}function Kt(e){if(!e)return!1;var r=e._valueTracker;if(!r)return!0;var a=r.getValue(),l="";return e&&(l=gr(e)?e.checked?"true":"false":e.value),e=l,e!==a?(r.setValue(e),!0):!1}function Oi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Es=/[\n"\\]/g;function xe(e){return e.replace(Es,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Lo(e,r,a,l,h,d,T,E){e.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.type=T:e.removeAttribute("type"),r!=null?T==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+le(r)):e.value!==""+le(r)&&(e.value=""+le(r)):T!=="submit"&&T!=="reset"||e.removeAttribute("value"),r!=null?zo(e,T,le(r)):a!=null?zo(e,T,le(a)):l!=null&&e.removeAttribute("value"),h==null&&d!=null&&(e.defaultChecked=!!d),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+le(E):e.removeAttribute("name")}function Uo(e,r,a,l,h,d,T,E){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),r!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||r!=null))return;a=a!=null?""+le(a):"",r=r!=null?""+le(r):a,E||r===e.value||(e.value=r),e.defaultValue=r}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=E?e.checked:!!l,e.defaultChecked=!!l,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(e.name=T)}function zo(e,r,a){r==="number"&&Oi(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function _r(e,r,a,l){if(e=e.options,r){r={};for(var h=0;h<a.length;h++)r["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=r.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&l&&(e[a].defaultSelected=!0)}else{for(a=""+le(a),r=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,l&&(e[h].defaultSelected=!0);return}r!==null||e[h].disabled||(r=e[h])}r!==null&&(r.selected=!0)}}function Du(e,r,a){if(r!=null&&(r=""+le(r),r!==e.value&&(e.value=r),a==null)){e.defaultValue!==r&&(e.defaultValue=r);return}e.defaultValue=a!=null?""+le(a):""}function Nu(e,r,a,l){if(r==null){if(l!=null){if(a!=null)throw Error(s(92));if(Wt(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),r=a}a=le(r),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l)}function In(e,r){if(r){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=r;return}}e.textContent=r}var xi=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Bo(e,r,a){var l=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(r,""):r==="float"?e.cssFloat="":e[r]="":l?e.setProperty(r,a):typeof a!="number"||a===0||xi.has(r)?r==="float"?e.cssFloat=a:e[r]=(""+a).trim():e[r]=a+"px"}function jo(e,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var h in r)l=r[h],r.hasOwnProperty(h)&&a[h]!==l&&Bo(e,h,l)}else for(var d in r)r.hasOwnProperty(d)&&Bo(e,d,r[d])}function Ta(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ou=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),xu=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function qn(e){return xu.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var qo=null;function Ho(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var vr=null,en=null;function Mu(e){var r=ai(e);if(r&&(e=r.stateNode)){var a=e[Ue]||null;t:switch(e=r.stateNode,r.type){case"input":if(Lo(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+xe(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var l=a[r];if(l!==e&&l.form===e.form){var h=l[Ue]||null;if(!h)throw Error(s(90));Lo(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(r=0;r<a.length;r++)l=a[r],l.form===e.form&&Kt(l)}break t;case"textarea":Du(e,a.value,a.defaultValue);break t;case"select":r=a.value,r!=null&&_r(e,!!a.multiple,r,!1)}}}var bs=!1;function As(e,r,a){if(bs)return e(r,a);bs=!0;try{var l=e(r);return l}finally{if(bs=!1,(vr!==null||en!==null)&&(bc(),vr&&(r=vr,e=en,en=vr=null,Mu(r),e)))for(r=0;r<e.length;r++)Mu(e[r])}}function Tr(e,r){var a=e.stateNode;if(a===null)return null;var l=a[Ue]||null;if(l===null)return null;a=l[r];t:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var nn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Mi=!1;if(nn)try{var Er={};Object.defineProperty(Er,"passive",{get:function(){Mi=!0}}),window.addEventListener("test",Er,Er),window.removeEventListener("test",Er,Er)}catch{Mi=!1}var Cn=null,Jt=null,Ea=null;function Vu(){if(Ea)return Ea;var e,r=Jt,a=r.length,l,h="value"in Cn?Cn.value:Cn.textContent,d=h.length;for(e=0;e<a&&r[e]===h[e];e++);var T=a-e;for(l=1;l<=T&&r[a-l]===h[d-l];l++);return Ea=h.slice(e,1<l?1-l:void 0)}function Ss(e){var r=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&r===13&&(e=13)):e=r,e===10&&(e=13),32<=e||e===13?e:0}function ws(){return!0}function Fo(){return!1}function Ie(e){function r(a,l,h,d,T){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=T,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(a=e[E],this[E]=a?a(d):d[E]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?ws:Fo,this.isPropagationStopped=Fo,this}return v(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ws)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ws)},persist:function(){},isPersistent:ws}),r}var Ke={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Rs=Ie(Ke),Is=v({},Ke,{view:0,detail:0}),Cs=Ie(Is),ba,Ds,ci,Ns=v({},Is,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:wa,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ci&&(ci&&e.type==="mousemove"?(ba=e.screenX-ci.screenX,Ds=e.screenY-ci.screenY):Ds=ba=0,ci=e),ba)},movementY:function(e){return"movementY"in e?e.movementY:Ds}}),Os=Ie(Ns),yf=v({},Ns,{dataTransfer:0}),Pu=Ie(yf),xs=v({},Is,{relatedTarget:0}),Aa=Ie(xs),ku=v({},Ke,{animationName:0,elapsedTime:0,pseudoElement:0}),Go=Ie(ku),$o=v({},Ke,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Lu=Ie($o),Sa=v({},Ke,{data:0}),Ko=Ie(Sa),Uu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Vi={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Bu(e){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(e):(e=zu[e])?!!r[e]:!1}function wa(){return Bu}var ju=v({},Is,{key:function(e){if(e.key){var r=Uu[e.key]||e.key;if(r!=="Unidentified")return r}return e.type==="keypress"?(e=Ss(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Vi[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:wa,charCode:function(e){return e.type==="keypress"?Ss(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ss(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Ra=Ie(ju),rn=v({},Ns,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Qo=Ie(rn),qu=v({},Is,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:wa}),br=Ie(qu),c=v({},Ke,{propertyName:0,elapsedTime:0,pseudoElement:0}),y=Ie(c),_=v({},Ns,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),A=Ie(_),z=v({},Ke,{newState:0,oldState:0}),$=Ie(z),st=[9,13,27,32],wt=nn&&"CompositionEvent"in window,ne=null;nn&&"documentMode"in document&&(ne=document.documentMode);var Ht=nn&&"TextEvent"in window&&!ne,ge=nn&&(!wt||ne&&8<ne&&11>=ne),mn=" ",hi=!1;function Hn(e,r){switch(e){case"keyup":return st.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Fn(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Gn=!1;function Yo(e,r){switch(e){case"compositionend":return Fn(r);case"keypress":return r.which!==32?null:(hi=!0,mn);case"textInput":return e=r.data,e===mn&&hi?null:e;default:return null}}function Y1(e,r){if(Gn)return e==="compositionend"||!wt&&Hn(e,r)?(e=Vu(),Ea=Jt=Cn=null,Gn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return ge&&r.locale!=="ko"?null:r.data;default:return null}}var X1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Tg(e){var r=e&&e.nodeName&&e.nodeName.toLowerCase();return r==="input"?!!X1[e.type]:r==="textarea"}function Eg(e,r,a,l){vr?en?en.push(l):en=[l]:vr=l,r=Cc(r,"onChange"),0<r.length&&(a=new Rs("onChange","change",null,a,l),e.push({event:a,listeners:r}))}var Xo=null,Wo=null;function W1(e){ev(e,0)}function Hu(e){var r=mr(e);if(Kt(r))return e}function bg(e,r){if(e==="change")return r}var Ag=!1;if(nn){var _f;if(nn){var vf="oninput"in document;if(!vf){var Sg=document.createElement("div");Sg.setAttribute("oninput","return;"),vf=typeof Sg.oninput=="function"}_f=vf}else _f=!1;Ag=_f&&(!document.documentMode||9<document.documentMode)}function wg(){Xo&&(Xo.detachEvent("onpropertychange",Rg),Wo=Xo=null)}function Rg(e){if(e.propertyName==="value"&&Hu(Wo)){var r=[];Eg(r,Wo,e,Ho(e)),As(W1,r)}}function Z1(e,r,a){e==="focusin"?(wg(),Xo=r,Wo=a,Xo.attachEvent("onpropertychange",Rg)):e==="focusout"&&wg()}function J1(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Hu(Wo)}function tA(e,r){if(e==="click")return Hu(r)}function eA(e,r){if(e==="input"||e==="change")return Hu(r)}function nA(e,r){return e===r&&(e!==0||1/e===1/r)||e!==e&&r!==r}var pn=typeof Object.is=="function"?Object.is:nA;function Zo(e,r){if(pn(e,r))return!0;if(typeof e!="object"||e===null||typeof r!="object"||r===null)return!1;var a=Object.keys(e),l=Object.keys(r);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!ha.call(r,h)||!pn(e[h],r[h]))return!1}return!0}function Ig(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Cg(e,r){var a=Ig(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=r&&l>=r)return{node:a,offset:r-e};e=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Ig(a)}}function Dg(e,r){return e&&r?e===r?!0:e&&e.nodeType===3?!1:r&&r.nodeType===3?Dg(e,r.parentNode):"contains"in e?e.contains(r):e.compareDocumentPosition?!!(e.compareDocumentPosition(r)&16):!1:!1}function Ng(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var r=Oi(e.document);r instanceof e.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)e=r.contentWindow;else break;r=Oi(e.document)}return r}function Tf(e){var r=e&&e.nodeName&&e.nodeName.toLowerCase();return r&&(r==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||r==="textarea"||e.contentEditable==="true")}var iA=nn&&"documentMode"in document&&11>=document.documentMode,Ia=null,Ef=null,Jo=null,bf=!1;function Og(e,r,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;bf||Ia==null||Ia!==Oi(l)||(l=Ia,"selectionStart"in l&&Tf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Jo&&Zo(Jo,l)||(Jo=l,l=Cc(Ef,"onSelect"),0<l.length&&(r=new Rs("onSelect","select",null,r,a),e.push({event:r,listeners:l}),r.target=Ia)))}function Ms(e,r){var a={};return a[e.toLowerCase()]=r.toLowerCase(),a["Webkit"+e]="webkit"+r,a["Moz"+e]="moz"+r,a}var Ca={animationend:Ms("Animation","AnimationEnd"),animationiteration:Ms("Animation","AnimationIteration"),animationstart:Ms("Animation","AnimationStart"),transitionrun:Ms("Transition","TransitionRun"),transitionstart:Ms("Transition","TransitionStart"),transitioncancel:Ms("Transition","TransitionCancel"),transitionend:Ms("Transition","TransitionEnd")},Af={},xg={};nn&&(xg=document.createElement("div").style,"AnimationEvent"in window||(delete Ca.animationend.animation,delete Ca.animationiteration.animation,delete Ca.animationstart.animation),"TransitionEvent"in window||delete Ca.transitionend.transition);function Vs(e){if(Af[e])return Af[e];if(!Ca[e])return e;var r=Ca[e],a;for(a in r)if(r.hasOwnProperty(a)&&a in xg)return Af[e]=r[a];return e}var Mg=Vs("animationend"),Vg=Vs("animationiteration"),Pg=Vs("animationstart"),rA=Vs("transitionrun"),sA=Vs("transitionstart"),aA=Vs("transitioncancel"),kg=Vs("transitionend"),Lg=new Map,Sf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Sf.push("scrollEnd");function $n(e,r){Lg.set(e,r),oi(r,[e])}var Ug=new WeakMap;function Dn(e,r){if(typeof e=="object"&&e!==null){var a=Ug.get(e);return a!==void 0?a:(r={value:e,source:r,stack:jn(r)},Ug.set(e,r),r)}return{value:e,source:r,stack:jn(r)}}var Nn=[],Da=0,wf=0;function Fu(){for(var e=Da,r=wf=Da=0;r<e;){var a=Nn[r];Nn[r++]=null;var l=Nn[r];Nn[r++]=null;var h=Nn[r];Nn[r++]=null;var d=Nn[r];if(Nn[r++]=null,l!==null&&h!==null){var T=l.pending;T===null?h.next=h:(h.next=T.next,T.next=h),l.pending=h}d!==0&&zg(a,h,d)}}function Gu(e,r,a,l){Nn[Da++]=e,Nn[Da++]=r,Nn[Da++]=a,Nn[Da++]=l,wf|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function Rf(e,r,a,l){return Gu(e,r,a,l),$u(e)}function Na(e,r){return Gu(e,null,null,r),$u(e)}function zg(e,r,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=e.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(h=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,h&&r!==null&&(h=31-tn(a),e=d.hiddenUpdates,l=e[h],l===null?e[h]=[r]:l.push(r),r.lane=a|536870912),d):null}function $u(e){if(50<Sl)throw Sl=0,xd=null,Error(s(185));for(var r=e.return;r!==null;)e=r,r=e.return;return e.tag===3?e.stateNode:null}var Oa={};function oA(e,r,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gn(e,r,a,l){return new oA(e,r,a,l)}function If(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Pi(e,r){var a=e.alternate;return a===null?(a=gn(e.tag,r,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=r,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,r=e.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Bg(e,r){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=r,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,r=a.dependencies,e.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),e}function Ku(e,r,a,l,h,d){var T=0;if(l=e,typeof e=="function")If(e)&&(T=1);else if(typeof e=="string")T=uS(e,a,gt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case R:return e=gn(31,a,r,h),e.elementType=R,e.lanes=d,e;case K:return Ps(a.children,h,d,r);case Q:T=8,h|=24;break;case L:return e=gn(12,a,r,h|2),e.elementType=L,e.lanes=d,e;case rt:return e=gn(13,a,r,h),e.elementType=rt,e.lanes=d,e;case dt:return e=gn(19,a,r,h),e.elementType=dt,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Z:case Y:T=10;break t;case q:T=9;break t;case at:T=11;break t;case I:T=14;break t;case S:T=16,l=null;break t}T=29,a=Error(s(130,e===null?"null":typeof e,"")),l=null}return r=gn(T,a,r,h),r.elementType=e,r.type=l,r.lanes=d,r}function Ps(e,r,a,l){return e=gn(7,e,l,r),e.lanes=a,e}function Cf(e,r,a){return e=gn(6,e,null,r),e.lanes=a,e}function Df(e,r,a){return r=gn(4,e.children!==null?e.children:[],e.key,r),r.lanes=a,r.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},r}var xa=[],Ma=0,Qu=null,Yu=0,On=[],xn=0,ks=null,ki=1,Li="";function Ls(e,r){xa[Ma++]=Yu,xa[Ma++]=Qu,Qu=e,Yu=r}function jg(e,r,a){On[xn++]=ki,On[xn++]=Li,On[xn++]=ks,ks=e;var l=ki;e=Li;var h=32-tn(l)-1;l&=~(1<<h),a+=1;var d=32-tn(r)+h;if(30<d){var T=h-h%5;d=(l&(1<<T)-1).toString(32),l>>=T,h-=T,ki=1<<32-tn(r)+h|a<<h|l,Li=d+e}else ki=1<<d|a<<h|l,Li=e}function Nf(e){e.return!==null&&(Ls(e,1),jg(e,1,0))}function Of(e){for(;e===Qu;)Qu=xa[--Ma],xa[Ma]=null,Yu=xa[--Ma],xa[Ma]=null;for(;e===ks;)ks=On[--xn],On[xn]=null,Li=On[--xn],On[xn]=null,ki=On[--xn],On[xn]=null}var sn=null,he=null,jt=!1,Us=null,fi=!1,xf=Error(s(519));function zs(e){var r=Error(s(418,""));throw nl(Dn(r,e)),xf}function qg(e){var r=e.stateNode,a=e.type,l=e.memoizedProps;switch(r[me]=e,r[Ue]=l,a){case"dialog":Ot("cancel",r),Ot("close",r);break;case"iframe":case"object":case"embed":Ot("load",r);break;case"video":case"audio":for(a=0;a<Rl.length;a++)Ot(Rl[a],r);break;case"source":Ot("error",r);break;case"img":case"image":case"link":Ot("error",r),Ot("load",r);break;case"details":Ot("toggle",r);break;case"input":Ot("invalid",r),Uo(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),yr(r);break;case"select":Ot("invalid",r);break;case"textarea":Ot("invalid",r),Nu(r,l.value,l.defaultValue,l.children),yr(r)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||l.suppressHydrationWarning===!0||sv(r.textContent,a)?(l.popover!=null&&(Ot("beforetoggle",r),Ot("toggle",r)),l.onScroll!=null&&Ot("scroll",r),l.onScrollEnd!=null&&Ot("scrollend",r),l.onClick!=null&&(r.onclick=Dc),r=!0):r=!1,r||zs(e)}function Hg(e){for(sn=e.return;sn;)switch(sn.tag){case 5:case 13:fi=!1;return;case 27:case 3:fi=!0;return;default:sn=sn.return}}function tl(e){if(e!==sn)return!1;if(!jt)return Hg(e),jt=!0,!1;var r=e.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Qd(e.type,e.memoizedProps)),a=!a),a&&he&&zs(e),Hg(e),r===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));t:{for(e=e.nextSibling,r=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(r===0){he=Qn(e.nextSibling);break t}r--}else a!=="$"&&a!=="$!"&&a!=="$?"||r++;e=e.nextSibling}he=null}}else r===27?(r=he,Ur(e.type)?(e=Zd,Zd=null,he=e):he=r):he=sn?Qn(e.stateNode.nextSibling):null;return!0}function el(){he=sn=null,jt=!1}function Fg(){var e=Us;return e!==null&&(cn===null?cn=e:cn.push.apply(cn,e),Us=null),e}function nl(e){Us===null?Us=[e]:Us.push(e)}var Mf=it(null),Bs=null,Ui=null;function Ar(e,r,a){lt(Mf,r._currentValue),r._currentValue=a}function zi(e){e._currentValue=Mf.current,ct(Mf)}function Vf(e,r,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&r)!==r?(e.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),e===a)break;e=e.return}}function Pf(e,r,a,l){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var d=h.dependencies;if(d!==null){var T=h.child;d=d.firstContext;t:for(;d!==null;){var E=d;d=h;for(var C=0;C<r.length;C++)if(E.context===r[C]){d.lanes|=a,E=d.alternate,E!==null&&(E.lanes|=a),Vf(d.return,a,e),l||(T=null);break t}d=E.next}}else if(h.tag===18){if(T=h.return,T===null)throw Error(s(341));T.lanes|=a,d=T.alternate,d!==null&&(d.lanes|=a),Vf(T,a,e),T=null}else T=h.child;if(T!==null)T.return=h;else for(T=h;T!==null;){if(T===e){T=null;break}if(h=T.sibling,h!==null){h.return=T.return,T=h;break}T=T.return}h=T}}function il(e,r,a,l){e=null;for(var h=r,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var T=h.alternate;if(T===null)throw Error(s(387));if(T=T.memoizedProps,T!==null){var E=h.type;pn(h.pendingProps.value,T.value)||(e!==null?e.push(E):e=[E])}}else if(h===Le.current){if(T=h.alternate,T===null)throw Error(s(387));T.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(xl):e=[xl])}h=h.return}e!==null&&Pf(r,e,a,l),r.flags|=262144}function Xu(e){for(e=e.firstContext;e!==null;){if(!pn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function js(e){Bs=e,Ui=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Qe(e){return Gg(Bs,e)}function Wu(e,r){return Bs===null&&js(e),Gg(e,r)}function Gg(e,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},Ui===null){if(e===null)throw Error(s(308));Ui=r,e.dependencies={lanes:0,firstContext:r},e.flags|=524288}else Ui=Ui.next=r;return a}var lA=typeof AbortController<"u"?AbortController:function(){var e=[],r=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){r.aborted=!0,e.forEach(function(a){return a()})}},uA=i.unstable_scheduleCallback,cA=i.unstable_NormalPriority,Ce={$$typeof:Y,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function kf(){return{controller:new lA,data:new Map,refCount:0}}function rl(e){e.refCount--,e.refCount===0&&uA(cA,function(){e.controller.abort()})}var sl=null,Lf=0,Va=0,Pa=null;function hA(e,r){if(sl===null){var a=sl=[];Lf=0,Va=zd(),Pa={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Lf++,r.then($g,$g),r}function $g(){if(--Lf===0&&sl!==null){Pa!==null&&(Pa.status="fulfilled");var e=sl;sl=null,Va=0,Pa=null;for(var r=0;r<e.length;r++)(0,e[r])()}}function fA(e,r){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){l.status="fulfilled",l.value=r;for(var h=0;h<a.length;h++)(0,a[h])(r)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var Kg=X.S;X.S=function(e,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&hA(e,r),Kg!==null&&Kg(e,r)};var qs=it(null);function Uf(){var e=qs.current;return e!==null?e:te.pooledCache}function Zu(e,r){r===null?lt(qs,qs.current):lt(qs,r.pool)}function Qg(){var e=Uf();return e===null?null:{parent:Ce._currentValue,pool:e}}var al=Error(s(460)),Yg=Error(s(474)),Ju=Error(s(542)),zf={then:function(){}};function Xg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function tc(){}function Wg(e,r,a){switch(a=e[a],a===void 0?e.push(r):a!==r&&(r.then(tc,tc),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw e=r.reason,Jg(e),e;default:if(typeof r.status=="string")r.then(tc,tc);else{if(e=te,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=r,e.status="pending",e.then(function(l){if(r.status==="pending"){var h=r;h.status="fulfilled",h.value=l}},function(l){if(r.status==="pending"){var h=r;h.status="rejected",h.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw e=r.reason,Jg(e),e}throw ol=r,al}}var ol=null;function Zg(){if(ol===null)throw Error(s(459));var e=ol;return ol=null,e}function Jg(e){if(e===al||e===Ju)throw Error(s(483))}var Sr=!1;function Bf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function jf(e,r){e=e.updateQueue,r.updateQueue===e&&(r.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function wr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Rr(e,r,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Ft&2)!==0){var h=l.pending;return h===null?r.next=r:(r.next=h.next,h.next=r),l.pending=r,r=$u(e),zg(e,null,a),r}return Gu(e,l,r,a),$u(e)}function ll(e,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var l=r.lanes;l&=e.pendingLanes,a|=l,r.lanes=a,fr(e,a)}}function qf(e,r){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var T={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=T:d=d.next=T,a=a.next}while(a!==null);d===null?h=d=r:d=d.next=r}else h=d=r;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=r:e.next=r,a.lastBaseUpdate=r}var Hf=!1;function ul(){if(Hf){var e=Pa;if(e!==null)throw e}}function cl(e,r,a,l){Hf=!1;var h=e.updateQueue;Sr=!1;var d=h.firstBaseUpdate,T=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var C=E,j=C.next;C.next=null,T===null?d=j:T.next=j,T=C;var W=e.alternate;W!==null&&(W=W.updateQueue,E=W.lastBaseUpdate,E!==T&&(E===null?W.firstBaseUpdate=j:E.next=j,W.lastBaseUpdate=C))}if(d!==null){var et=h.baseState;T=0,W=j=C=null,E=d;do{var H=E.lane&-536870913,G=H!==E.lane;if(G?(Lt&H)===H:(l&H)===H){H!==0&&H===Va&&(Hf=!0),W!==null&&(W=W.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var bt=e,_t=E;H=r;var Xt=a;switch(_t.tag){case 1:if(bt=_t.payload,typeof bt=="function"){et=bt.call(Xt,et,H);break t}et=bt;break t;case 3:bt.flags=bt.flags&-65537|128;case 0:if(bt=_t.payload,H=typeof bt=="function"?bt.call(Xt,et,H):bt,H==null)break t;et=v({},et,H);break t;case 2:Sr=!0}}H=E.callback,H!==null&&(e.flags|=64,G&&(e.flags|=8192),G=h.callbacks,G===null?h.callbacks=[H]:G.push(H))}else G={lane:H,tag:E.tag,payload:E.payload,callback:E.callback,next:null},W===null?(j=W=G,C=et):W=W.next=G,T|=H;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;G=E,E=G.next,G.next=null,h.lastBaseUpdate=G,h.shared.pending=null}}while(!0);W===null&&(C=et),h.baseState=C,h.firstBaseUpdate=j,h.lastBaseUpdate=W,d===null&&(h.shared.lanes=0),Vr|=T,e.lanes=T,e.memoizedState=et}}function ty(e,r){if(typeof e!="function")throw Error(s(191,e));e.call(r)}function ey(e,r){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)ty(a[e],r)}var ka=it(null),ec=it(0);function ny(e,r){e=$i,lt(ec,e),lt(ka,r),$i=e|r.baseLanes}function Ff(){lt(ec,$i),lt(ka,ka.current)}function Gf(){$i=ec.current,ct(ka),ct(ec)}var Ir=0,Ct=null,Qt=null,Te=null,nc=!1,La=!1,Hs=!1,ic=0,hl=0,Ua=null,dA=0;function ye(){throw Error(s(321))}function $f(e,r){if(r===null)return!1;for(var a=0;a<r.length&&a<e.length;a++)if(!pn(e[a],r[a]))return!1;return!0}function Kf(e,r,a,l,h,d){return Ir=d,Ct=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,X.H=e===null||e.memoizedState===null?zy:By,Hs=!1,d=a(l,h),Hs=!1,La&&(d=ry(r,a,l,h)),iy(e),d}function iy(e){X.H=uc;var r=Qt!==null&&Qt.next!==null;if(Ir=0,Te=Qt=Ct=null,nc=!1,hl=0,Ua=null,r)throw Error(s(300));e===null||Me||(e=e.dependencies,e!==null&&Xu(e)&&(Me=!0))}function ry(e,r,a,l){Ct=e;var h=0;do{if(La&&(Ua=null),hl=0,La=!1,25<=h)throw Error(s(301));if(h+=1,Te=Qt=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}X.H=TA,d=r(a,l)}while(La);return d}function mA(){var e=X.H,r=e.useState()[0];return r=typeof r.then=="function"?fl(r):r,e=e.useState()[0],(Qt!==null?Qt.memoizedState:null)!==e&&(Ct.flags|=1024),r}function Qf(){var e=ic!==0;return ic=0,e}function Yf(e,r,a){r.updateQueue=e.updateQueue,r.flags&=-2053,e.lanes&=~a}function Xf(e){if(nc){for(e=e.memoizedState;e!==null;){var r=e.queue;r!==null&&(r.pending=null),e=e.next}nc=!1}Ir=0,Te=Qt=Ct=null,La=!1,hl=ic=0,Ua=null}function ln(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Te===null?Ct.memoizedState=Te=e:Te=Te.next=e,Te}function Ee(){if(Qt===null){var e=Ct.alternate;e=e!==null?e.memoizedState:null}else e=Qt.next;var r=Te===null?Ct.memoizedState:Te.next;if(r!==null)Te=r,Qt=e;else{if(e===null)throw Ct.alternate===null?Error(s(467)):Error(s(310));Qt=e,e={memoizedState:Qt.memoizedState,baseState:Qt.baseState,baseQueue:Qt.baseQueue,queue:Qt.queue,next:null},Te===null?Ct.memoizedState=Te=e:Te=Te.next=e}return Te}function Wf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function fl(e){var r=hl;return hl+=1,Ua===null&&(Ua=[]),e=Wg(Ua,e,r),r=Ct,(Te===null?r.memoizedState:Te.next)===null&&(r=r.alternate,X.H=r===null||r.memoizedState===null?zy:By),e}function rc(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return fl(e);if(e.$$typeof===Y)return Qe(e)}throw Error(s(438,String(e)))}function Zf(e){var r=null,a=Ct.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var l=Ct.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(h){return h.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=Wf(),Ct.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(e),l=0;l<e;l++)a[l]=M;return r.index++,a}function Bi(e,r){return typeof r=="function"?r(e):r}function sc(e){var r=Ee();return Jf(r,Qt,e)}function Jf(e,r,a){var l=e.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=e.baseQueue,d=l.pending;if(d!==null){if(h!==null){var T=h.next;h.next=d.next,d.next=T}r.baseQueue=h=d,l.pending=null}if(d=e.baseState,h===null)e.memoizedState=d;else{r=h.next;var E=T=null,C=null,j=r,W=!1;do{var et=j.lane&-536870913;if(et!==j.lane?(Lt&et)===et:(Ir&et)===et){var H=j.revertLane;if(H===0)C!==null&&(C=C.next={lane:0,revertLane:0,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),et===Va&&(W=!0);else if((Ir&H)===H){j=j.next,H===Va&&(W=!0);continue}else et={lane:0,revertLane:j.revertLane,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},C===null?(E=C=et,T=d):C=C.next=et,Ct.lanes|=H,Vr|=H;et=j.action,Hs&&a(d,et),d=j.hasEagerState?j.eagerState:a(d,et)}else H={lane:et,revertLane:j.revertLane,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},C===null?(E=C=H,T=d):C=C.next=H,Ct.lanes|=et,Vr|=et;j=j.next}while(j!==null&&j!==r);if(C===null?T=d:C.next=E,!pn(d,e.memoizedState)&&(Me=!0,W&&(a=Pa,a!==null)))throw a;e.memoizedState=d,e.baseState=T,e.baseQueue=C,l.lastRenderedState=d}return h===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function td(e){var r=Ee(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var l=a.dispatch,h=a.pending,d=r.memoizedState;if(h!==null){a.pending=null;var T=h=h.next;do d=e(d,T.action),T=T.next;while(T!==h);pn(d,r.memoizedState)||(Me=!0),r.memoizedState=d,r.baseQueue===null&&(r.baseState=d),a.lastRenderedState=d}return[d,l]}function sy(e,r,a){var l=Ct,h=Ee(),d=jt;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=r();var T=!pn((Qt||h).memoizedState,a);T&&(h.memoizedState=a,Me=!0),h=h.queue;var E=ly.bind(null,l,h,e);if(dl(2048,8,E,[e]),h.getSnapshot!==r||T||Te!==null&&Te.memoizedState.tag&1){if(l.flags|=2048,za(9,ac(),oy.bind(null,l,h,a,r),null),te===null)throw Error(s(349));d||(Ir&124)!==0||ay(l,r,a)}return a}function ay(e,r,a){e.flags|=16384,e={getSnapshot:r,value:a},r=Ct.updateQueue,r===null?(r=Wf(),Ct.updateQueue=r,r.stores=[e]):(a=r.stores,a===null?r.stores=[e]:a.push(e))}function oy(e,r,a,l){r.value=a,r.getSnapshot=l,uy(r)&&cy(e)}function ly(e,r,a){return a(function(){uy(r)&&cy(e)})}function uy(e){var r=e.getSnapshot;e=e.value;try{var a=r();return!pn(e,a)}catch{return!0}}function cy(e){var r=Na(e,2);r!==null&&En(r,e,2)}function ed(e){var r=ln();if(typeof e=="function"){var a=e;if(e=a(),Hs){Sn(!0);try{a()}finally{Sn(!1)}}}return r.memoizedState=r.baseState=e,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bi,lastRenderedState:e},r}function hy(e,r,a,l){return e.baseState=a,Jf(e,Qt,typeof l=="function"?l:Bi)}function pA(e,r,a,l,h){if(lc(e))throw Error(s(485));if(e=r.action,e!==null){var d={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){d.listeners.push(T)}};X.T!==null?a(!0):d.isTransition=!1,l(d),a=r.pending,a===null?(d.next=r.pending=d,fy(r,d)):(d.next=a.next,r.pending=a.next=d)}}function fy(e,r){var a=r.action,l=r.payload,h=e.state;if(r.isTransition){var d=X.T,T={};X.T=T;try{var E=a(h,l),C=X.S;C!==null&&C(T,E),dy(e,r,E)}catch(j){nd(e,r,j)}finally{X.T=d}}else try{d=a(h,l),dy(e,r,d)}catch(j){nd(e,r,j)}}function dy(e,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){my(e,r,l)},function(l){return nd(e,r,l)}):my(e,r,a)}function my(e,r,a){r.status="fulfilled",r.value=a,py(r),e.state=a,r=e.pending,r!==null&&(a=r.next,a===r?e.pending=null:(a=a.next,r.next=a,fy(e,a)))}function nd(e,r,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=a,py(r),r=r.next;while(r!==l)}e.action=null}function py(e){e=e.listeners;for(var r=0;r<e.length;r++)(0,e[r])()}function gy(e,r){return r}function yy(e,r){if(jt){var a=te.formState;if(a!==null){t:{var l=Ct;if(jt){if(he){e:{for(var h=he,d=fi;h.nodeType!==8;){if(!d){h=null;break e}if(h=Qn(h.nextSibling),h===null){h=null;break e}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){he=Qn(h.nextSibling),l=h.data==="F!";break t}}zs(l)}l=!1}l&&(r=a[0])}}return a=ln(),a.memoizedState=a.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:gy,lastRenderedState:r},a.queue=l,a=ky.bind(null,Ct,l),l.dispatch=a,l=ed(!1),d=od.bind(null,Ct,!1,l.queue),l=ln(),h={state:r,dispatch:null,action:e,pending:null},l.queue=h,a=pA.bind(null,Ct,h,d,a),h.dispatch=a,l.memoizedState=e,[r,a,!1]}function _y(e){var r=Ee();return vy(r,Qt,e)}function vy(e,r,a){if(r=Jf(e,r,gy)[0],e=sc(Bi)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var l=fl(r)}catch(T){throw T===al?Ju:T}else l=r;r=Ee();var h=r.queue,d=h.dispatch;return a!==r.memoizedState&&(Ct.flags|=2048,za(9,ac(),gA.bind(null,h,a),null)),[l,d,e]}function gA(e,r){e.action=r}function Ty(e){var r=Ee(),a=Qt;if(a!==null)return vy(r,a,e);Ee(),r=r.memoizedState,a=Ee();var l=a.queue.dispatch;return a.memoizedState=e,[r,l,!1]}function za(e,r,a,l){return e={tag:e,create:a,deps:l,inst:r,next:null},r=Ct.updateQueue,r===null&&(r=Wf(),Ct.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,r.lastEffect=e),e}function ac(){return{destroy:void 0,resource:void 0}}function Ey(){return Ee().memoizedState}function oc(e,r,a,l){var h=ln();l=l===void 0?null:l,Ct.flags|=e,h.memoizedState=za(1|r,ac(),a,l)}function dl(e,r,a,l){var h=Ee();l=l===void 0?null:l;var d=h.memoizedState.inst;Qt!==null&&l!==null&&$f(l,Qt.memoizedState.deps)?h.memoizedState=za(r,d,a,l):(Ct.flags|=e,h.memoizedState=za(1|r,d,a,l))}function by(e,r){oc(8390656,8,e,r)}function Ay(e,r){dl(2048,8,e,r)}function Sy(e,r){return dl(4,2,e,r)}function wy(e,r){return dl(4,4,e,r)}function Ry(e,r){if(typeof r=="function"){e=e();var a=r(e);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return e=e(),r.current=e,function(){r.current=null}}function Iy(e,r,a){a=a!=null?a.concat([e]):null,dl(4,4,Ry.bind(null,r,e),a)}function id(){}function Cy(e,r){var a=Ee();r=r===void 0?null:r;var l=a.memoizedState;return r!==null&&$f(r,l[1])?l[0]:(a.memoizedState=[e,r],e)}function Dy(e,r){var a=Ee();r=r===void 0?null:r;var l=a.memoizedState;if(r!==null&&$f(r,l[1]))return l[0];if(l=e(),Hs){Sn(!0);try{e()}finally{Sn(!1)}}return a.memoizedState=[l,r],l}function rd(e,r,a){return a===void 0||(Ir&1073741824)!==0?e.memoizedState=r:(e.memoizedState=a,e=x_(),Ct.lanes|=e,Vr|=e,a)}function Ny(e,r,a,l){return pn(a,r)?a:ka.current!==null?(e=rd(e,a,l),pn(e,r)||(Me=!0),e):(Ir&42)===0?(Me=!0,e.memoizedState=a):(e=x_(),Ct.lanes|=e,Vr|=e,r)}function Oy(e,r,a,l,h){var d=ot.p;ot.p=d!==0&&8>d?d:8;var T=X.T,E={};X.T=E,od(e,!1,r,a);try{var C=h(),j=X.S;if(j!==null&&j(E,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var W=fA(C,l);ml(e,r,W,Tn(e))}else ml(e,r,l,Tn(e))}catch(et){ml(e,r,{then:function(){},status:"rejected",reason:et},Tn())}finally{ot.p=d,X.T=T}}function yA(){}function sd(e,r,a,l){if(e.tag!==5)throw Error(s(476));var h=xy(e).queue;Oy(e,h,r,mt,a===null?yA:function(){return My(e),a(l)})}function xy(e){var r=e.memoizedState;if(r!==null)return r;r={memoizedState:mt,baseState:mt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bi,lastRenderedState:mt},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bi,lastRenderedState:a},next:null},e.memoizedState=r,e=e.alternate,e!==null&&(e.memoizedState=r),r}function My(e){var r=xy(e).next.queue;ml(e,r,{},Tn())}function ad(){return Qe(xl)}function Vy(){return Ee().memoizedState}function Py(){return Ee().memoizedState}function _A(e){for(var r=e.return;r!==null;){switch(r.tag){case 24:case 3:var a=Tn();e=wr(a);var l=Rr(r,e,a);l!==null&&(En(l,r,a),ll(l,r,a)),r={cache:kf()},e.payload=r;return}r=r.return}}function vA(e,r,a){var l=Tn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},lc(e)?Ly(r,a):(a=Rf(e,r,a,l),a!==null&&(En(a,e,l),Uy(a,r,l)))}function ky(e,r,a){var l=Tn();ml(e,r,a,l)}function ml(e,r,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(lc(e))Ly(r,h);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=r.lastRenderedReducer,d!==null))try{var T=r.lastRenderedState,E=d(T,a);if(h.hasEagerState=!0,h.eagerState=E,pn(E,T))return Gu(e,r,h,0),te===null&&Fu(),!1}catch{}finally{}if(a=Rf(e,r,h,l),a!==null)return En(a,e,l),Uy(a,r,l),!0}return!1}function od(e,r,a,l){if(l={lane:2,revertLane:zd(),action:l,hasEagerState:!1,eagerState:null,next:null},lc(e)){if(r)throw Error(s(479))}else r=Rf(e,a,l,2),r!==null&&En(r,e,2)}function lc(e){var r=e.alternate;return e===Ct||r!==null&&r===Ct}function Ly(e,r){La=nc=!0;var a=e.pending;a===null?r.next=r:(r.next=a.next,a.next=r),e.pending=r}function Uy(e,r,a){if((a&4194048)!==0){var l=r.lanes;l&=e.pendingLanes,a|=l,r.lanes=a,fr(e,a)}}var uc={readContext:Qe,use:rc,useCallback:ye,useContext:ye,useEffect:ye,useImperativeHandle:ye,useLayoutEffect:ye,useInsertionEffect:ye,useMemo:ye,useReducer:ye,useRef:ye,useState:ye,useDebugValue:ye,useDeferredValue:ye,useTransition:ye,useSyncExternalStore:ye,useId:ye,useHostTransitionStatus:ye,useFormState:ye,useActionState:ye,useOptimistic:ye,useMemoCache:ye,useCacheRefresh:ye},zy={readContext:Qe,use:rc,useCallback:function(e,r){return ln().memoizedState=[e,r===void 0?null:r],e},useContext:Qe,useEffect:by,useImperativeHandle:function(e,r,a){a=a!=null?a.concat([e]):null,oc(4194308,4,Ry.bind(null,r,e),a)},useLayoutEffect:function(e,r){return oc(4194308,4,e,r)},useInsertionEffect:function(e,r){oc(4,2,e,r)},useMemo:function(e,r){var a=ln();r=r===void 0?null:r;var l=e();if(Hs){Sn(!0);try{e()}finally{Sn(!1)}}return a.memoizedState=[l,r],l},useReducer:function(e,r,a){var l=ln();if(a!==void 0){var h=a(r);if(Hs){Sn(!0);try{a(r)}finally{Sn(!1)}}}else h=r;return l.memoizedState=l.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},l.queue=e,e=e.dispatch=vA.bind(null,Ct,e),[l.memoizedState,e]},useRef:function(e){var r=ln();return e={current:e},r.memoizedState=e},useState:function(e){e=ed(e);var r=e.queue,a=ky.bind(null,Ct,r);return r.dispatch=a,[e.memoizedState,a]},useDebugValue:id,useDeferredValue:function(e,r){var a=ln();return rd(a,e,r)},useTransition:function(){var e=ed(!1);return e=Oy.bind(null,Ct,e.queue,!0,!1),ln().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,r,a){var l=Ct,h=ln();if(jt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),te===null)throw Error(s(349));(Lt&124)!==0||ay(l,r,a)}h.memoizedState=a;var d={value:a,getSnapshot:r};return h.queue=d,by(ly.bind(null,l,d,e),[e]),l.flags|=2048,za(9,ac(),oy.bind(null,l,d,a,r),null),a},useId:function(){var e=ln(),r=te.identifierPrefix;if(jt){var a=Li,l=ki;a=(l&~(1<<32-tn(l)-1)).toString(32)+a,r=""+r+"R"+a,a=ic++,0<a&&(r+="H"+a.toString(32)),r+=""}else a=dA++,r=""+r+"r"+a.toString(32)+"";return e.memoizedState=r},useHostTransitionStatus:ad,useFormState:yy,useActionState:yy,useOptimistic:function(e){var r=ln();r.memoizedState=r.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=od.bind(null,Ct,!0,a),a.dispatch=r,[e,r]},useMemoCache:Zf,useCacheRefresh:function(){return ln().memoizedState=_A.bind(null,Ct)}},By={readContext:Qe,use:rc,useCallback:Cy,useContext:Qe,useEffect:Ay,useImperativeHandle:Iy,useInsertionEffect:Sy,useLayoutEffect:wy,useMemo:Dy,useReducer:sc,useRef:Ey,useState:function(){return sc(Bi)},useDebugValue:id,useDeferredValue:function(e,r){var a=Ee();return Ny(a,Qt.memoizedState,e,r)},useTransition:function(){var e=sc(Bi)[0],r=Ee().memoizedState;return[typeof e=="boolean"?e:fl(e),r]},useSyncExternalStore:sy,useId:Vy,useHostTransitionStatus:ad,useFormState:_y,useActionState:_y,useOptimistic:function(e,r){var a=Ee();return hy(a,Qt,e,r)},useMemoCache:Zf,useCacheRefresh:Py},TA={readContext:Qe,use:rc,useCallback:Cy,useContext:Qe,useEffect:Ay,useImperativeHandle:Iy,useInsertionEffect:Sy,useLayoutEffect:wy,useMemo:Dy,useReducer:td,useRef:Ey,useState:function(){return td(Bi)},useDebugValue:id,useDeferredValue:function(e,r){var a=Ee();return Qt===null?rd(a,e,r):Ny(a,Qt.memoizedState,e,r)},useTransition:function(){var e=td(Bi)[0],r=Ee().memoizedState;return[typeof e=="boolean"?e:fl(e),r]},useSyncExternalStore:sy,useId:Vy,useHostTransitionStatus:ad,useFormState:Ty,useActionState:Ty,useOptimistic:function(e,r){var a=Ee();return Qt!==null?hy(a,Qt,e,r):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Zf,useCacheRefresh:Py},Ba=null,pl=0;function cc(e){var r=pl;return pl+=1,Ba===null&&(Ba=[]),Wg(Ba,e,r)}function gl(e,r){r=r.props.ref,e.ref=r!==void 0?r:null}function hc(e,r){throw r.$$typeof===b?Error(s(525)):(e=Object.prototype.toString.call(r),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":e)))}function jy(e){var r=e._init;return r(e._payload)}function qy(e){function r(k,x){if(e){var U=k.deletions;U===null?(k.deletions=[x],k.flags|=16):U.push(x)}}function a(k,x){if(!e)return null;for(;x!==null;)r(k,x),x=x.sibling;return null}function l(k){for(var x=new Map;k!==null;)k.key!==null?x.set(k.key,k):x.set(k.index,k),k=k.sibling;return x}function h(k,x){return k=Pi(k,x),k.index=0,k.sibling=null,k}function d(k,x,U){return k.index=U,e?(U=k.alternate,U!==null?(U=U.index,U<x?(k.flags|=67108866,x):U):(k.flags|=67108866,x)):(k.flags|=1048576,x)}function T(k){return e&&k.alternate===null&&(k.flags|=67108866),k}function E(k,x,U,J){return x===null||x.tag!==6?(x=Cf(U,k.mode,J),x.return=k,x):(x=h(x,U),x.return=k,x)}function C(k,x,U,J){var ft=U.type;return ft===K?W(k,x,U.props.children,J,U.key):x!==null&&(x.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===S&&jy(ft)===x.type)?(x=h(x,U.props),gl(x,U),x.return=k,x):(x=Ku(U.type,U.key,U.props,null,k.mode,J),gl(x,U),x.return=k,x)}function j(k,x,U,J){return x===null||x.tag!==4||x.stateNode.containerInfo!==U.containerInfo||x.stateNode.implementation!==U.implementation?(x=Df(U,k.mode,J),x.return=k,x):(x=h(x,U.children||[]),x.return=k,x)}function W(k,x,U,J,ft){return x===null||x.tag!==7?(x=Ps(U,k.mode,J,ft),x.return=k,x):(x=h(x,U),x.return=k,x)}function et(k,x,U){if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return x=Cf(""+x,k.mode,U),x.return=k,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case w:return U=Ku(x.type,x.key,x.props,null,k.mode,U),gl(U,x),U.return=k,U;case V:return x=Df(x,k.mode,U),x.return=k,x;case S:var J=x._init;return x=J(x._payload),et(k,x,U)}if(Wt(x)||P(x))return x=Ps(x,k.mode,U,null),x.return=k,x;if(typeof x.then=="function")return et(k,cc(x),U);if(x.$$typeof===Y)return et(k,Wu(k,x),U);hc(k,x)}return null}function H(k,x,U,J){var ft=x!==null?x.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return ft!==null?null:E(k,x,""+U,J);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case w:return U.key===ft?C(k,x,U,J):null;case V:return U.key===ft?j(k,x,U,J):null;case S:return ft=U._init,U=ft(U._payload),H(k,x,U,J)}if(Wt(U)||P(U))return ft!==null?null:W(k,x,U,J,null);if(typeof U.then=="function")return H(k,x,cc(U),J);if(U.$$typeof===Y)return H(k,x,Wu(k,U),J);hc(k,U)}return null}function G(k,x,U,J,ft){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return k=k.get(U)||null,E(x,k,""+J,ft);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case w:return k=k.get(J.key===null?U:J.key)||null,C(x,k,J,ft);case V:return k=k.get(J.key===null?U:J.key)||null,j(x,k,J,ft);case S:var Dt=J._init;return J=Dt(J._payload),G(k,x,U,J,ft)}if(Wt(J)||P(J))return k=k.get(U)||null,W(x,k,J,ft,null);if(typeof J.then=="function")return G(k,x,U,cc(J),ft);if(J.$$typeof===Y)return G(k,x,U,Wu(x,J),ft);hc(x,J)}return null}function bt(k,x,U,J){for(var ft=null,Dt=null,pt=x,vt=x=0,Pe=null;pt!==null&&vt<U.length;vt++){pt.index>vt?(Pe=pt,pt=null):Pe=pt.sibling;var Bt=H(k,pt,U[vt],J);if(Bt===null){pt===null&&(pt=Pe);break}e&&pt&&Bt.alternate===null&&r(k,pt),x=d(Bt,x,vt),Dt===null?ft=Bt:Dt.sibling=Bt,Dt=Bt,pt=Pe}if(vt===U.length)return a(k,pt),jt&&Ls(k,vt),ft;if(pt===null){for(;vt<U.length;vt++)pt=et(k,U[vt],J),pt!==null&&(x=d(pt,x,vt),Dt===null?ft=pt:Dt.sibling=pt,Dt=pt);return jt&&Ls(k,vt),ft}for(pt=l(pt);vt<U.length;vt++)Pe=G(pt,k,vt,U[vt],J),Pe!==null&&(e&&Pe.alternate!==null&&pt.delete(Pe.key===null?vt:Pe.key),x=d(Pe,x,vt),Dt===null?ft=Pe:Dt.sibling=Pe,Dt=Pe);return e&&pt.forEach(function(Hr){return r(k,Hr)}),jt&&Ls(k,vt),ft}function _t(k,x,U,J){if(U==null)throw Error(s(151));for(var ft=null,Dt=null,pt=x,vt=x=0,Pe=null,Bt=U.next();pt!==null&&!Bt.done;vt++,Bt=U.next()){pt.index>vt?(Pe=pt,pt=null):Pe=pt.sibling;var Hr=H(k,pt,Bt.value,J);if(Hr===null){pt===null&&(pt=Pe);break}e&&pt&&Hr.alternate===null&&r(k,pt),x=d(Hr,x,vt),Dt===null?ft=Hr:Dt.sibling=Hr,Dt=Hr,pt=Pe}if(Bt.done)return a(k,pt),jt&&Ls(k,vt),ft;if(pt===null){for(;!Bt.done;vt++,Bt=U.next())Bt=et(k,Bt.value,J),Bt!==null&&(x=d(Bt,x,vt),Dt===null?ft=Bt:Dt.sibling=Bt,Dt=Bt);return jt&&Ls(k,vt),ft}for(pt=l(pt);!Bt.done;vt++,Bt=U.next())Bt=G(pt,k,vt,Bt.value,J),Bt!==null&&(e&&Bt.alternate!==null&&pt.delete(Bt.key===null?vt:Bt.key),x=d(Bt,x,vt),Dt===null?ft=Bt:Dt.sibling=Bt,Dt=Bt);return e&&pt.forEach(function(ES){return r(k,ES)}),jt&&Ls(k,vt),ft}function Xt(k,x,U,J){if(typeof U=="object"&&U!==null&&U.type===K&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case w:t:{for(var ft=U.key;x!==null;){if(x.key===ft){if(ft=U.type,ft===K){if(x.tag===7){a(k,x.sibling),J=h(x,U.props.children),J.return=k,k=J;break t}}else if(x.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===S&&jy(ft)===x.type){a(k,x.sibling),J=h(x,U.props),gl(J,U),J.return=k,k=J;break t}a(k,x);break}else r(k,x);x=x.sibling}U.type===K?(J=Ps(U.props.children,k.mode,J,U.key),J.return=k,k=J):(J=Ku(U.type,U.key,U.props,null,k.mode,J),gl(J,U),J.return=k,k=J)}return T(k);case V:t:{for(ft=U.key;x!==null;){if(x.key===ft)if(x.tag===4&&x.stateNode.containerInfo===U.containerInfo&&x.stateNode.implementation===U.implementation){a(k,x.sibling),J=h(x,U.children||[]),J.return=k,k=J;break t}else{a(k,x);break}else r(k,x);x=x.sibling}J=Df(U,k.mode,J),J.return=k,k=J}return T(k);case S:return ft=U._init,U=ft(U._payload),Xt(k,x,U,J)}if(Wt(U))return bt(k,x,U,J);if(P(U)){if(ft=P(U),typeof ft!="function")throw Error(s(150));return U=ft.call(U),_t(k,x,U,J)}if(typeof U.then=="function")return Xt(k,x,cc(U),J);if(U.$$typeof===Y)return Xt(k,x,Wu(k,U),J);hc(k,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,x!==null&&x.tag===6?(a(k,x.sibling),J=h(x,U),J.return=k,k=J):(a(k,x),J=Cf(U,k.mode,J),J.return=k,k=J),T(k)):a(k,x)}return function(k,x,U,J){try{pl=0;var ft=Xt(k,x,U,J);return Ba=null,ft}catch(pt){if(pt===al||pt===Ju)throw pt;var Dt=gn(29,pt,null,k.mode);return Dt.lanes=J,Dt.return=k,Dt}finally{}}}var ja=qy(!0),Hy=qy(!1),Mn=it(null),di=null;function Cr(e){var r=e.alternate;lt(De,De.current&1),lt(Mn,e),di===null&&(r===null||ka.current!==null||r.memoizedState!==null)&&(di=e)}function Fy(e){if(e.tag===22){if(lt(De,De.current),lt(Mn,e),di===null){var r=e.alternate;r!==null&&r.memoizedState!==null&&(di=e)}}else Dr()}function Dr(){lt(De,De.current),lt(Mn,Mn.current)}function ji(e){ct(Mn),di===e&&(di=null),ct(De)}var De=it(0);function fc(e){for(var r=e;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Wd(a)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function ld(e,r,a,l){r=e.memoizedState,a=a(l,r),a=a==null?r:v({},r,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var ud={enqueueSetState:function(e,r,a){e=e._reactInternals;var l=Tn(),h=wr(l);h.payload=r,a!=null&&(h.callback=a),r=Rr(e,h,l),r!==null&&(En(r,e,l),ll(r,e,l))},enqueueReplaceState:function(e,r,a){e=e._reactInternals;var l=Tn(),h=wr(l);h.tag=1,h.payload=r,a!=null&&(h.callback=a),r=Rr(e,h,l),r!==null&&(En(r,e,l),ll(r,e,l))},enqueueForceUpdate:function(e,r){e=e._reactInternals;var a=Tn(),l=wr(a);l.tag=2,r!=null&&(l.callback=r),r=Rr(e,l,a),r!==null&&(En(r,e,a),ll(r,e,a))}};function Gy(e,r,a,l,h,d,T){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,d,T):r.prototype&&r.prototype.isPureReactComponent?!Zo(a,l)||!Zo(h,d):!0}function $y(e,r,a,l){e=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,l),r.state!==e&&ud.enqueueReplaceState(r,r.state,null)}function Fs(e,r){var a=r;if("ref"in r){a={};for(var l in r)l!=="ref"&&(a[l]=r[l])}if(e=e.defaultProps){a===r&&(a=v({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}var dc=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function Ky(e){dc(e)}function Qy(e){console.error(e)}function Yy(e){dc(e)}function mc(e,r){try{var a=e.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function Xy(e,r,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function cd(e,r,a){return a=wr(a),a.tag=3,a.payload={element:null},a.callback=function(){mc(e,r)},a}function Wy(e){return e=wr(e),e.tag=3,e}function Zy(e,r,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;e.payload=function(){return h(d)},e.callback=function(){Xy(r,a,l)}}var T=a.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(e.callback=function(){Xy(r,a,l),typeof h!="function"&&(Pr===null?Pr=new Set([this]):Pr.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function EA(e,r,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=a.alternate,r!==null&&il(r,a,h,!0),a=Mn.current,a!==null){switch(a.tag){case 13:return di===null?Vd():a.alternate===null&&fe===0&&(fe=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===zf?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([l]):r.add(l),kd(e,l,h)),!1;case 22:return a.flags|=65536,l===zf?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([l]):a.add(l)),kd(e,l,h)),!1}throw Error(s(435,a.tag))}return kd(e,l,h),Vd(),!1}if(jt)return r=Mn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=h,l!==xf&&(e=Error(s(422),{cause:l}),nl(Dn(e,a)))):(l!==xf&&(r=Error(s(423),{cause:l}),nl(Dn(r,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,l=Dn(l,a),h=cd(e.stateNode,l,h),qf(e,h),fe!==4&&(fe=2)),!1;var d=Error(s(520),{cause:l});if(d=Dn(d,a),Al===null?Al=[d]:Al.push(d),fe!==4&&(fe=2),r===null)return!0;l=Dn(l,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=cd(a.stateNode,l,e),qf(a,e),!1;case 1:if(r=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Pr===null||!Pr.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Wy(h),Zy(h,e,a,l),qf(a,h),!1}a=a.return}while(a!==null);return!1}var Jy=Error(s(461)),Me=!1;function ze(e,r,a,l){r.child=e===null?Hy(r,null,a,l):ja(r,e.child,a,l)}function t_(e,r,a,l,h){a=a.render;var d=r.ref;if("ref"in l){var T={};for(var E in l)E!=="ref"&&(T[E]=l[E])}else T=l;return js(r),l=Kf(e,r,a,T,d,h),E=Qf(),e!==null&&!Me?(Yf(e,r,h),qi(e,r,h)):(jt&&E&&Nf(r),r.flags|=1,ze(e,r,l,h),r.child)}function e_(e,r,a,l,h){if(e===null){var d=a.type;return typeof d=="function"&&!If(d)&&d.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=d,n_(e,r,d,l,h)):(e=Ku(a.type,null,l,r,r.mode,h),e.ref=r.ref,e.return=r,r.child=e)}if(d=e.child,!_d(e,h)){var T=d.memoizedProps;if(a=a.compare,a=a!==null?a:Zo,a(T,l)&&e.ref===r.ref)return qi(e,r,h)}return r.flags|=1,e=Pi(d,l),e.ref=r.ref,e.return=r,r.child=e}function n_(e,r,a,l,h){if(e!==null){var d=e.memoizedProps;if(Zo(d,l)&&e.ref===r.ref)if(Me=!1,r.pendingProps=l=d,_d(e,h))(e.flags&131072)!==0&&(Me=!0);else return r.lanes=e.lanes,qi(e,r,h)}return hd(e,r,a,l,h)}function i_(e,r,a){var l=r.pendingProps,h=l.children,d=e!==null?e.memoizedState:null;if(l.mode==="hidden"){if((r.flags&128)!==0){if(l=d!==null?d.baseLanes|a:a,e!==null){for(h=r.child=e.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;r.childLanes=d&~l}else r.childLanes=0,r.child=null;return r_(e,r,l,a)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},e!==null&&Zu(r,d!==null?d.cachePool:null),d!==null?ny(r,d):Ff(),Fy(r);else return r.lanes=r.childLanes=536870912,r_(e,r,d!==null?d.baseLanes|a:a,a)}else d!==null?(Zu(r,d.cachePool),ny(r,d),Dr(),r.memoizedState=null):(e!==null&&Zu(r,null),Ff(),Dr());return ze(e,r,h,a),r.child}function r_(e,r,a,l){var h=Uf();return h=h===null?null:{parent:Ce._currentValue,pool:h},r.memoizedState={baseLanes:a,cachePool:h},e!==null&&Zu(r,null),Ff(),Fy(r),e!==null&&il(e,r,l,!0),null}function pc(e,r){var a=r.ref;if(a===null)e!==null&&e.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(e===null||e.ref!==a)&&(r.flags|=4194816)}}function hd(e,r,a,l,h){return js(r),a=Kf(e,r,a,l,void 0,h),l=Qf(),e!==null&&!Me?(Yf(e,r,h),qi(e,r,h)):(jt&&l&&Nf(r),r.flags|=1,ze(e,r,a,h),r.child)}function s_(e,r,a,l,h,d){return js(r),r.updateQueue=null,a=ry(r,l,a,h),iy(e),l=Qf(),e!==null&&!Me?(Yf(e,r,d),qi(e,r,d)):(jt&&l&&Nf(r),r.flags|=1,ze(e,r,a,d),r.child)}function a_(e,r,a,l,h){if(js(r),r.stateNode===null){var d=Oa,T=a.contextType;typeof T=="object"&&T!==null&&(d=Qe(T)),d=new a(l,d),r.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=ud,r.stateNode=d,d._reactInternals=r,d=r.stateNode,d.props=l,d.state=r.memoizedState,d.refs={},Bf(r),T=a.contextType,d.context=typeof T=="object"&&T!==null?Qe(T):Oa,d.state=r.memoizedState,T=a.getDerivedStateFromProps,typeof T=="function"&&(ld(r,a,T,l),d.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(T=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),T!==d.state&&ud.enqueueReplaceState(d,d.state,null),cl(r,l,d,h),ul(),d.state=r.memoizedState),typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(e===null){d=r.stateNode;var E=r.memoizedProps,C=Fs(a,E);d.props=C;var j=d.context,W=a.contextType;T=Oa,typeof W=="object"&&W!==null&&(T=Qe(W));var et=a.getDerivedStateFromProps;W=typeof et=="function"||typeof d.getSnapshotBeforeUpdate=="function",E=r.pendingProps!==E,W||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(E||j!==T)&&$y(r,d,l,T),Sr=!1;var H=r.memoizedState;d.state=H,cl(r,l,d,h),ul(),j=r.memoizedState,E||H!==j||Sr?(typeof et=="function"&&(ld(r,a,et,l),j=r.memoizedState),(C=Sr||Gy(r,a,C,l,H,j,T))?(W||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(r.flags|=4194308)):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=j),d.props=l,d.state=j,d.context=T,l=C):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{d=r.stateNode,jf(e,r),T=r.memoizedProps,W=Fs(a,T),d.props=W,et=r.pendingProps,H=d.context,j=a.contextType,C=Oa,typeof j=="object"&&j!==null&&(C=Qe(j)),E=a.getDerivedStateFromProps,(j=typeof E=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T!==et||H!==C)&&$y(r,d,l,C),Sr=!1,H=r.memoizedState,d.state=H,cl(r,l,d,h),ul();var G=r.memoizedState;T!==et||H!==G||Sr||e!==null&&e.dependencies!==null&&Xu(e.dependencies)?(typeof E=="function"&&(ld(r,a,E,l),G=r.memoizedState),(W=Sr||Gy(r,a,W,l,H,G,C)||e!==null&&e.dependencies!==null&&Xu(e.dependencies))?(j||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,G,C),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,G,C)),typeof d.componentDidUpdate=="function"&&(r.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof d.componentDidUpdate!="function"||T===e.memoizedProps&&H===e.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||T===e.memoizedProps&&H===e.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=G),d.props=l,d.state=G,d.context=C,l=W):(typeof d.componentDidUpdate!="function"||T===e.memoizedProps&&H===e.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||T===e.memoizedProps&&H===e.memoizedState||(r.flags|=1024),l=!1)}return d=l,pc(e,r),l=(r.flags&128)!==0,d||l?(d=r.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),r.flags|=1,e!==null&&l?(r.child=ja(r,e.child,null,h),r.child=ja(r,null,a,h)):ze(e,r,a,h),r.memoizedState=d.state,e=r.child):e=qi(e,r,h),e}function o_(e,r,a,l){return el(),r.flags|=256,ze(e,r,a,l),r.child}var fd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function dd(e){return{baseLanes:e,cachePool:Qg()}}function md(e,r,a){return e=e!==null?e.childLanes&~a:0,r&&(e|=Vn),e}function l_(e,r,a){var l=r.pendingProps,h=!1,d=(r.flags&128)!==0,T;if((T=d)||(T=e!==null&&e.memoizedState===null?!1:(De.current&2)!==0),T&&(h=!0,r.flags&=-129),T=(r.flags&32)!==0,r.flags&=-33,e===null){if(jt){if(h?Cr(r):Dr(),jt){var E=he,C;if(C=E){t:{for(C=E,E=fi;C.nodeType!==8;){if(!E){E=null;break t}if(C=Qn(C.nextSibling),C===null){E=null;break t}}E=C}E!==null?(r.memoizedState={dehydrated:E,treeContext:ks!==null?{id:ki,overflow:Li}:null,retryLane:536870912,hydrationErrors:null},C=gn(18,null,null,0),C.stateNode=E,C.return=r,r.child=C,sn=r,he=null,C=!0):C=!1}C||zs(r)}if(E=r.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return Wd(E)?r.lanes=32:r.lanes=536870912,null;ji(r)}return E=l.children,l=l.fallback,h?(Dr(),h=r.mode,E=gc({mode:"hidden",children:E},h),l=Ps(l,h,a,null),E.return=r,l.return=r,E.sibling=l,r.child=E,h=r.child,h.memoizedState=dd(a),h.childLanes=md(e,T,a),r.memoizedState=fd,l):(Cr(r),pd(r,E))}if(C=e.memoizedState,C!==null&&(E=C.dehydrated,E!==null)){if(d)r.flags&256?(Cr(r),r.flags&=-257,r=gd(e,r,a)):r.memoizedState!==null?(Dr(),r.child=e.child,r.flags|=128,r=null):(Dr(),h=l.fallback,E=r.mode,l=gc({mode:"visible",children:l.children},E),h=Ps(h,E,a,null),h.flags|=2,l.return=r,h.return=r,l.sibling=h,r.child=l,ja(r,e.child,null,a),l=r.child,l.memoizedState=dd(a),l.childLanes=md(e,T,a),r.memoizedState=fd,r=h);else if(Cr(r),Wd(E)){if(T=E.nextSibling&&E.nextSibling.dataset,T)var j=T.dgst;T=j,l=Error(s(419)),l.stack="",l.digest=T,nl({value:l,source:null,stack:null}),r=gd(e,r,a)}else if(Me||il(e,r,a,!1),T=(a&e.childLanes)!==0,Me||T){if(T=te,T!==null&&(l=a&-a,l=(l&42)!==0?1:Po(l),l=(l&(T.suspendedLanes|a))!==0?0:l,l!==0&&l!==C.retryLane))throw C.retryLane=l,Na(e,l),En(T,e,l),Jy;E.data==="$?"||Vd(),r=gd(e,r,a)}else E.data==="$?"?(r.flags|=192,r.child=e.child,r=null):(e=C.treeContext,he=Qn(E.nextSibling),sn=r,jt=!0,Us=null,fi=!1,e!==null&&(On[xn++]=ki,On[xn++]=Li,On[xn++]=ks,ki=e.id,Li=e.overflow,ks=r),r=pd(r,l.children),r.flags|=4096);return r}return h?(Dr(),h=l.fallback,E=r.mode,C=e.child,j=C.sibling,l=Pi(C,{mode:"hidden",children:l.children}),l.subtreeFlags=C.subtreeFlags&65011712,j!==null?h=Pi(j,h):(h=Ps(h,E,a,null),h.flags|=2),h.return=r,l.return=r,l.sibling=h,r.child=l,l=h,h=r.child,E=e.child.memoizedState,E===null?E=dd(a):(C=E.cachePool,C!==null?(j=Ce._currentValue,C=C.parent!==j?{parent:j,pool:j}:C):C=Qg(),E={baseLanes:E.baseLanes|a,cachePool:C}),h.memoizedState=E,h.childLanes=md(e,T,a),r.memoizedState=fd,l):(Cr(r),a=e.child,e=a.sibling,a=Pi(a,{mode:"visible",children:l.children}),a.return=r,a.sibling=null,e!==null&&(T=r.deletions,T===null?(r.deletions=[e],r.flags|=16):T.push(e)),r.child=a,r.memoizedState=null,a)}function pd(e,r){return r=gc({mode:"visible",children:r},e.mode),r.return=e,e.child=r}function gc(e,r){return e=gn(22,e,null,r),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function gd(e,r,a){return ja(r,e.child,null,a),e=pd(r,r.pendingProps.children),e.flags|=2,r.memoizedState=null,e}function u_(e,r,a){e.lanes|=r;var l=e.alternate;l!==null&&(l.lanes|=r),Vf(e.return,r,a)}function yd(e,r,a,l,h){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(d.isBackwards=r,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=h)}function c_(e,r,a){var l=r.pendingProps,h=l.revealOrder,d=l.tail;if(ze(e,r,l.children,a),l=De.current,(l&2)!==0)l=l&1|2,r.flags|=128;else{if(e!==null&&(e.flags&128)!==0)t:for(e=r.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&u_(e,a,r);else if(e.tag===19)u_(e,a,r);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===r)break t;for(;e.sibling===null;){if(e.return===null||e.return===r)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}switch(lt(De,l),h){case"forwards":for(a=r.child,h=null;a!==null;)e=a.alternate,e!==null&&fc(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=r.child,r.child=null):(h=a.sibling,a.sibling=null),yd(r,!1,h,a,d);break;case"backwards":for(a=null,h=r.child,r.child=null;h!==null;){if(e=h.alternate,e!==null&&fc(e)===null){r.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}yd(r,!0,a,null,d);break;case"together":yd(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function qi(e,r,a){if(e!==null&&(r.dependencies=e.dependencies),Vr|=r.lanes,(a&r.childLanes)===0)if(e!==null){if(il(e,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(e!==null&&r.child!==e.child)throw Error(s(153));if(r.child!==null){for(e=r.child,a=Pi(e,e.pendingProps),r.child=a,a.return=r;e.sibling!==null;)e=e.sibling,a=a.sibling=Pi(e,e.pendingProps),a.return=r;a.sibling=null}return r.child}function _d(e,r){return(e.lanes&r)!==0?!0:(e=e.dependencies,!!(e!==null&&Xu(e)))}function bA(e,r,a){switch(r.tag){case 3:$t(r,r.stateNode.containerInfo),Ar(r,Ce,e.memoizedState.cache),el();break;case 27:case 5:Oo(r);break;case 4:$t(r,r.stateNode.containerInfo);break;case 10:Ar(r,r.type,r.memoizedProps.value);break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(Cr(r),r.flags|=128,null):(a&r.child.childLanes)!==0?l_(e,r,a):(Cr(r),e=qi(e,r,a),e!==null?e.sibling:null);Cr(r);break;case 19:var h=(e.flags&128)!==0;if(l=(a&r.childLanes)!==0,l||(il(e,r,a,!1),l=(a&r.childLanes)!==0),h){if(l)return c_(e,r,a);r.flags|=128}if(h=r.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),lt(De,De.current),l)break;return null;case 22:case 23:return r.lanes=0,i_(e,r,a);case 24:Ar(r,Ce,e.memoizedState.cache)}return qi(e,r,a)}function h_(e,r,a){if(e!==null)if(e.memoizedProps!==r.pendingProps)Me=!0;else{if(!_d(e,a)&&(r.flags&128)===0)return Me=!1,bA(e,r,a);Me=(e.flags&131072)!==0}else Me=!1,jt&&(r.flags&1048576)!==0&&jg(r,Yu,r.index);switch(r.lanes=0,r.tag){case 16:t:{e=r.pendingProps;var l=r.elementType,h=l._init;if(l=h(l._payload),r.type=l,typeof l=="function")If(l)?(e=Fs(l,e),r.tag=1,r=a_(null,r,l,e,a)):(r.tag=0,r=hd(null,r,l,e,a));else{if(l!=null){if(h=l.$$typeof,h===at){r.tag=11,r=t_(null,r,l,e,a);break t}else if(h===I){r.tag=14,r=e_(null,r,l,e,a);break t}}throw r=se(l)||l,Error(s(306,r,""))}}return r;case 0:return hd(e,r,r.type,r.pendingProps,a);case 1:return l=r.type,h=Fs(l,r.pendingProps),a_(e,r,l,h,a);case 3:t:{if($t(r,r.stateNode.containerInfo),e===null)throw Error(s(387));l=r.pendingProps;var d=r.memoizedState;h=d.element,jf(e,r),cl(r,l,null,a);var T=r.memoizedState;if(l=T.cache,Ar(r,Ce,l),l!==d.cache&&Pf(r,[Ce],a,!0),ul(),l=T.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:T.cache},r.updateQueue.baseState=d,r.memoizedState=d,r.flags&256){r=o_(e,r,l,a);break t}else if(l!==h){h=Dn(Error(s(424)),r),nl(h),r=o_(e,r,l,a);break t}else{switch(e=r.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(he=Qn(e.firstChild),sn=r,jt=!0,Us=null,fi=!0,a=Hy(r,null,l,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(el(),l===h){r=qi(e,r,a);break t}ze(e,r,l,a)}r=r.child}return r;case 26:return pc(e,r),e===null?(a=pv(r.type,null,r.pendingProps,null))?r.memoizedState=a:jt||(a=r.type,e=r.pendingProps,l=Nc(Et.current).createElement(a),l[me]=r,l[Ue]=e,je(l,a,e),pe(l),r.stateNode=l):r.memoizedState=pv(r.type,e.memoizedProps,r.pendingProps,e.memoizedState),null;case 27:return Oo(r),e===null&&jt&&(l=r.stateNode=fv(r.type,r.pendingProps,Et.current),sn=r,fi=!0,h=he,Ur(r.type)?(Zd=h,he=Qn(l.firstChild)):he=h),ze(e,r,r.pendingProps.children,a),pc(e,r),e===null&&(r.flags|=4194304),r.child;case 5:return e===null&&jt&&((h=l=he)&&(l=XA(l,r.type,r.pendingProps,fi),l!==null?(r.stateNode=l,sn=r,he=Qn(l.firstChild),fi=!1,h=!0):h=!1),h||zs(r)),Oo(r),h=r.type,d=r.pendingProps,T=e!==null?e.memoizedProps:null,l=d.children,Qd(h,d)?l=null:T!==null&&Qd(h,T)&&(r.flags|=32),r.memoizedState!==null&&(h=Kf(e,r,mA,null,null,a),xl._currentValue=h),pc(e,r),ze(e,r,l,a),r.child;case 6:return e===null&&jt&&((e=a=he)&&(a=WA(a,r.pendingProps,fi),a!==null?(r.stateNode=a,sn=r,he=null,e=!0):e=!1),e||zs(r)),null;case 13:return l_(e,r,a);case 4:return $t(r,r.stateNode.containerInfo),l=r.pendingProps,e===null?r.child=ja(r,null,l,a):ze(e,r,l,a),r.child;case 11:return t_(e,r,r.type,r.pendingProps,a);case 7:return ze(e,r,r.pendingProps,a),r.child;case 8:return ze(e,r,r.pendingProps.children,a),r.child;case 12:return ze(e,r,r.pendingProps.children,a),r.child;case 10:return l=r.pendingProps,Ar(r,r.type,l.value),ze(e,r,l.children,a),r.child;case 9:return h=r.type._context,l=r.pendingProps.children,js(r),h=Qe(h),l=l(h),r.flags|=1,ze(e,r,l,a),r.child;case 14:return e_(e,r,r.type,r.pendingProps,a);case 15:return n_(e,r,r.type,r.pendingProps,a);case 19:return c_(e,r,a);case 31:return l=r.pendingProps,a=r.mode,l={mode:l.mode,children:l.children},e===null?(a=gc(l,a),a.ref=r.ref,r.child=a,a.return=r,r=a):(a=Pi(e.child,l),a.ref=r.ref,r.child=a,a.return=r,r=a),r;case 22:return i_(e,r,a);case 24:return js(r),l=Qe(Ce),e===null?(h=Uf(),h===null&&(h=te,d=kf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),r.memoizedState={parent:l,cache:h},Bf(r),Ar(r,Ce,h)):((e.lanes&a)!==0&&(jf(e,r),cl(r,null,null,a),ul()),h=e.memoizedState,d=r.memoizedState,h.parent!==l?(h={parent:l,cache:l},r.memoizedState=h,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=h),Ar(r,Ce,l)):(l=d.cache,Ar(r,Ce,l),l!==h.cache&&Pf(r,[Ce],a,!0))),ze(e,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function Hi(e){e.flags|=4}function f_(e,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Tv(r)){if(r=Mn.current,r!==null&&((Lt&4194048)===Lt?di!==null:(Lt&62914560)!==Lt&&(Lt&536870912)===0||r!==di))throw ol=zf,Yg;e.flags|=8192}}function yc(e,r){r!==null&&(e.flags|=4),e.flags&16384&&(r=e.tag!==22?cr():536870912,e.lanes|=r,Ga|=r)}function yl(e,r){if(!jt)switch(e.tailMode){case"hidden":r=e.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function ue(e){var r=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(r)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=l,e.childLanes=a,r}function AA(e,r,a){var l=r.pendingProps;switch(Of(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ue(r),null;case 1:return ue(r),null;case 3:return a=r.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),zi(Ce),Un(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(tl(r)?Hi(r):e===null||e.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Fg())),ue(r),null;case 26:return a=r.memoizedState,e===null?(Hi(r),a!==null?(ue(r),f_(r,a)):(ue(r),r.flags&=-16777217)):a?a!==e.memoizedState?(Hi(r),ue(r),f_(r,a)):(ue(r),r.flags&=-16777217):(e.memoizedProps!==l&&Hi(r),ue(r),r.flags&=-16777217),null;case 27:ca(r),a=Et.current;var h=r.type;if(e!==null&&r.stateNode!=null)e.memoizedProps!==l&&Hi(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return ue(r),null}e=gt.current,tl(r)?qg(r):(e=fv(h,l,a),r.stateNode=e,Hi(r))}return ue(r),null;case 5:if(ca(r),a=r.type,e!==null&&r.stateNode!=null)e.memoizedProps!==l&&Hi(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return ue(r),null}if(e=gt.current,tl(r))qg(r);else{switch(h=Nc(Et.current),e){case 1:e=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=h.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?e.multiple=!0:l.size&&(e.size=l.size);break;default:e=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}e[me]=r,e[Ue]=l;t:for(h=r.child;h!==null;){if(h.tag===5||h.tag===6)e.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===r)break t;for(;h.sibling===null;){if(h.return===null||h.return===r)break t;h=h.return}h.sibling.return=h.return,h=h.sibling}r.stateNode=e;t:switch(je(e,a,l),a){case"button":case"input":case"select":case"textarea":e=!!l.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&Hi(r)}}return ue(r),r.flags&=-16777217,null;case 6:if(e&&r.stateNode!=null)e.memoizedProps!==l&&Hi(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(s(166));if(e=Et.current,tl(r)){if(e=r.stateNode,a=r.memoizedProps,l=null,h=sn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}e[me]=r,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||sv(e.nodeValue,a)),e||zs(r)}else e=Nc(e).createTextNode(l),e[me]=r,r.stateNode=e}return ue(r),null;case 13:if(l=r.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=tl(r),l!==null&&l.dehydrated!==null){if(e===null){if(!h)throw Error(s(318));if(h=r.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[me]=r}else el(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ue(r),h=!1}else h=Fg(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return r.flags&256?(ji(r),r):(ji(r),null)}if(ji(r),(r.flags&128)!==0)return r.lanes=a,r;if(a=l!==null,e=e!==null&&e.memoizedState!==null,a){l=r.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return a!==e&&a&&(r.child.flags|=8192),yc(r,r.updateQueue),ue(r),null;case 4:return Un(),e===null&&Hd(r.stateNode.containerInfo),ue(r),null;case 10:return zi(r.type),ue(r),null;case 19:if(ct(De),h=r.memoizedState,h===null)return ue(r),null;if(l=(r.flags&128)!==0,d=h.rendering,d===null)if(l)yl(h,!1);else{if(fe!==0||e!==null&&(e.flags&128)!==0)for(e=r.child;e!==null;){if(d=fc(e),d!==null){for(r.flags|=128,yl(h,!1),e=d.updateQueue,r.updateQueue=e,yc(r,e),r.subtreeFlags=0,e=a,a=r.child;a!==null;)Bg(a,e),a=a.sibling;return lt(De,De.current&1|2),r.child}e=e.sibling}h.tail!==null&&on()>Tc&&(r.flags|=128,l=!0,yl(h,!1),r.lanes=4194304)}else{if(!l)if(e=fc(d),e!==null){if(r.flags|=128,l=!0,e=e.updateQueue,r.updateQueue=e,yc(r,e),yl(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!jt)return ue(r),null}else 2*on()-h.renderingStartTime>Tc&&a!==536870912&&(r.flags|=128,l=!0,yl(h,!1),r.lanes=4194304);h.isBackwards?(d.sibling=r.child,r.child=d):(e=h.last,e!==null?e.sibling=d:r.child=d,h.last=d)}return h.tail!==null?(r=h.tail,h.rendering=r,h.tail=r.sibling,h.renderingStartTime=on(),r.sibling=null,e=De.current,lt(De,l?e&1|2:e&1),r):(ue(r),null);case 22:case 23:return ji(r),Gf(),l=r.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(a&536870912)!==0&&(r.flags&128)===0&&(ue(r),r.subtreeFlags&6&&(r.flags|=8192)):ue(r),a=r.updateQueue,a!==null&&yc(r,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==a&&(r.flags|=2048),e!==null&&ct(qs),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),zi(Ce),ue(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function SA(e,r){switch(Of(r),r.tag){case 1:return e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 3:return zi(Ce),Un(),e=r.flags,(e&65536)!==0&&(e&128)===0?(r.flags=e&-65537|128,r):null;case 26:case 27:case 5:return ca(r),null;case 13:if(ji(r),e=r.memoizedState,e!==null&&e.dehydrated!==null){if(r.alternate===null)throw Error(s(340));el()}return e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 19:return ct(De),null;case 4:return Un(),null;case 10:return zi(r.type),null;case 22:case 23:return ji(r),Gf(),e!==null&&ct(qs),e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 24:return zi(Ce),null;case 25:return null;default:return null}}function d_(e,r){switch(Of(r),r.tag){case 3:zi(Ce),Un();break;case 26:case 27:case 5:ca(r);break;case 4:Un();break;case 13:ji(r);break;case 19:ct(De);break;case 10:zi(r.type);break;case 22:case 23:ji(r),Gf(),e!==null&&ct(qs);break;case 24:zi(Ce)}}function _l(e,r){try{var a=r.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&e)===e){l=void 0;var d=a.create,T=a.inst;l=d(),T.destroy=l}a=a.next}while(a!==h)}}catch(E){Zt(r,r.return,E)}}function Nr(e,r,a){try{var l=r.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&e)===e){var T=l.inst,E=T.destroy;if(E!==void 0){T.destroy=void 0,h=r;var C=a,j=E;try{j()}catch(W){Zt(h,C,W)}}}l=l.next}while(l!==d)}}catch(W){Zt(r,r.return,W)}}function m_(e){var r=e.updateQueue;if(r!==null){var a=e.stateNode;try{ey(r,a)}catch(l){Zt(e,e.return,l)}}}function p_(e,r,a){a.props=Fs(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){Zt(e,r,l)}}function vl(e,r){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof a=="function"?e.refCleanup=a(l):a.current=l}}catch(h){Zt(e,r,h)}}function mi(e,r){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){Zt(e,r,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Zt(e,r,h)}else a.current=null}function g_(e){var r=e.type,a=e.memoizedProps,l=e.stateNode;try{t:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){Zt(e,e.return,h)}}function vd(e,r,a){try{var l=e.stateNode;GA(l,e.type,a,r),l[Ue]=r}catch(h){Zt(e,e.return,h)}}function y_(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ur(e.type)||e.tag===4}function Td(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||y_(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ur(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ed(e,r,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(e),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=Dc));else if(l!==4&&(l===27&&Ur(e.type)&&(a=e.stateNode,r=null),e=e.child,e!==null))for(Ed(e,r,a),e=e.sibling;e!==null;)Ed(e,r,a),e=e.sibling}function _c(e,r,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,r?a.insertBefore(e,r):a.appendChild(e);else if(l!==4&&(l===27&&Ur(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(_c(e,r,a),e=e.sibling;e!==null;)_c(e,r,a),e=e.sibling}function __(e){var r=e.stateNode,a=e.memoizedProps;try{for(var l=e.type,h=r.attributes;h.length;)r.removeAttributeNode(h[0]);je(r,l,a),r[me]=e,r[Ue]=a}catch(d){Zt(e,e.return,d)}}var Fi=!1,_e=!1,bd=!1,v_=typeof WeakSet=="function"?WeakSet:Set,Ve=null;function wA(e,r){if(e=e.containerInfo,$d=kc,e=Ng(e),Tf(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break t}var T=0,E=-1,C=-1,j=0,W=0,et=e,H=null;e:for(;;){for(var G;et!==a||h!==0&&et.nodeType!==3||(E=T+h),et!==d||l!==0&&et.nodeType!==3||(C=T+l),et.nodeType===3&&(T+=et.nodeValue.length),(G=et.firstChild)!==null;)H=et,et=G;for(;;){if(et===e)break e;if(H===a&&++j===h&&(E=T),H===d&&++W===l&&(C=T),(G=et.nextSibling)!==null)break;et=H,H=et.parentNode}et=G}a=E===-1||C===-1?null:{start:E,end:C}}else a=null}a=a||{start:0,end:0}}else a=null;for(Kd={focusedElem:e,selectionRange:a},kc=!1,Ve=r;Ve!==null;)if(r=Ve,e=r.child,(r.subtreeFlags&1024)!==0&&e!==null)e.return=r,Ve=e;else for(;Ve!==null;){switch(r=Ve,d=r.alternate,e=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,a=r,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var bt=Fs(a.type,h,a.elementType===a.type);e=l.getSnapshotBeforeUpdate(bt,d),l.__reactInternalSnapshotBeforeUpdate=e}catch(_t){Zt(a,a.return,_t)}}break;case 3:if((e&1024)!==0){if(e=r.stateNode.containerInfo,a=e.nodeType,a===9)Xd(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Xd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=r.sibling,e!==null){e.return=r.return,Ve=e;break}Ve=r.return}}function T_(e,r,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Or(e,a),l&4&&_l(5,a);break;case 1:if(Or(e,a),l&4)if(e=a.stateNode,r===null)try{e.componentDidMount()}catch(T){Zt(a,a.return,T)}else{var h=Fs(a.type,r.memoizedProps);r=r.memoizedState;try{e.componentDidUpdate(h,r,e.__reactInternalSnapshotBeforeUpdate)}catch(T){Zt(a,a.return,T)}}l&64&&m_(a),l&512&&vl(a,a.return);break;case 3:if(Or(e,a),l&64&&(e=a.updateQueue,e!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{ey(e,r)}catch(T){Zt(a,a.return,T)}}break;case 27:r===null&&l&4&&__(a);case 26:case 5:Or(e,a),r===null&&l&4&&g_(a),l&512&&vl(a,a.return);break;case 12:Or(e,a);break;case 13:Or(e,a),l&4&&A_(e,a),l&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=VA.bind(null,a),ZA(e,a))));break;case 22:if(l=a.memoizedState!==null||Fi,!l){r=r!==null&&r.memoizedState!==null||_e,h=Fi;var d=_e;Fi=l,(_e=r)&&!d?xr(e,a,(a.subtreeFlags&8772)!==0):Or(e,a),Fi=h,_e=d}break;case 30:break;default:Or(e,a)}}function E_(e){var r=e.alternate;r!==null&&(e.alternate=null,E_(r)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(r=e.stateNode,r!==null&&pa(r)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ae=null,un=!1;function Gi(e,r,a){for(a=a.child;a!==null;)b_(e,r,a),a=a.sibling}function b_(e,r,a){if($e&&typeof $e.onCommitFiberUnmount=="function")try{$e.onCommitFiberUnmount(or,a)}catch{}switch(a.tag){case 26:_e||mi(a,r),Gi(e,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:_e||mi(a,r);var l=ae,h=un;Ur(a.type)&&(ae=a.stateNode,un=!1),Gi(e,r,a),Cl(a.stateNode),ae=l,un=h;break;case 5:_e||mi(a,r);case 6:if(l=ae,h=un,ae=null,Gi(e,r,a),ae=l,un=h,ae!==null)if(un)try{(ae.nodeType===9?ae.body:ae.nodeName==="HTML"?ae.ownerDocument.body:ae).removeChild(a.stateNode)}catch(d){Zt(a,r,d)}else try{ae.removeChild(a.stateNode)}catch(d){Zt(a,r,d)}break;case 18:ae!==null&&(un?(e=ae,cv(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),kl(e)):cv(ae,a.stateNode));break;case 4:l=ae,h=un,ae=a.stateNode.containerInfo,un=!0,Gi(e,r,a),ae=l,un=h;break;case 0:case 11:case 14:case 15:_e||Nr(2,a,r),_e||Nr(4,a,r),Gi(e,r,a);break;case 1:_e||(mi(a,r),l=a.stateNode,typeof l.componentWillUnmount=="function"&&p_(a,r,l)),Gi(e,r,a);break;case 21:Gi(e,r,a);break;case 22:_e=(l=_e)||a.memoizedState!==null,Gi(e,r,a),_e=l;break;default:Gi(e,r,a)}}function A_(e,r){if(r.memoizedState===null&&(e=r.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{kl(e)}catch(a){Zt(r,r.return,a)}}function RA(e){switch(e.tag){case 13:case 19:var r=e.stateNode;return r===null&&(r=e.stateNode=new v_),r;case 22:return e=e.stateNode,r=e._retryCache,r===null&&(r=e._retryCache=new v_),r;default:throw Error(s(435,e.tag))}}function Ad(e,r){var a=RA(e);r.forEach(function(l){var h=PA.bind(null,e,l);a.has(l)||(a.add(l),l.then(h,h))})}function yn(e,r){var a=r.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=e,T=r,E=T;t:for(;E!==null;){switch(E.tag){case 27:if(Ur(E.type)){ae=E.stateNode,un=!1;break t}break;case 5:ae=E.stateNode,un=!1;break t;case 3:case 4:ae=E.stateNode.containerInfo,un=!0;break t}E=E.return}if(ae===null)throw Error(s(160));b_(d,T,h),ae=null,un=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)S_(r,e),r=r.sibling}var Kn=null;function S_(e,r){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:yn(r,e),_n(e),l&4&&(Nr(3,e,e.return),_l(3,e),Nr(5,e,e.return));break;case 1:yn(r,e),_n(e),l&512&&(_e||a===null||mi(a,a.return)),l&64&&Fi&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Kn;if(yn(r,e),_n(e),l&512&&(_e||a===null||mi(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){t:{l=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[dr]||d[me]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),je(d,l,a),d[me]=e,pe(d),l=d;break t;case"link":var T=_v("link","href",h).get(l+(a.href||""));if(T){for(var E=0;E<T.length;E++)if(d=T[E],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){T.splice(E,1);break e}}d=h.createElement(l),je(d,l,a),h.head.appendChild(d);break;case"meta":if(T=_v("meta","content",h).get(l+(a.content||""))){for(E=0;E<T.length;E++)if(d=T[E],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){T.splice(E,1);break e}}d=h.createElement(l),je(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[me]=e,pe(d),l=d}e.stateNode=l}else vv(h,e.type,e.stateNode);else e.stateNode=yv(h,l,e.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?vv(h,e.type,e.stateNode):yv(h,l,e.memoizedProps)):l===null&&e.stateNode!==null&&vd(e,e.memoizedProps,a.memoizedProps)}break;case 27:yn(r,e),_n(e),l&512&&(_e||a===null||mi(a,a.return)),a!==null&&l&4&&vd(e,e.memoizedProps,a.memoizedProps);break;case 5:if(yn(r,e),_n(e),l&512&&(_e||a===null||mi(a,a.return)),e.flags&32){h=e.stateNode;try{In(h,"")}catch(G){Zt(e,e.return,G)}}l&4&&e.stateNode!=null&&(h=e.memoizedProps,vd(e,h,a!==null?a.memoizedProps:h)),l&1024&&(bd=!0);break;case 6:if(yn(r,e),_n(e),l&4){if(e.stateNode===null)throw Error(s(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(G){Zt(e,e.return,G)}}break;case 3:if(Mc=null,h=Kn,Kn=Oc(r.containerInfo),yn(r,e),Kn=h,_n(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{kl(r.containerInfo)}catch(G){Zt(e,e.return,G)}bd&&(bd=!1,w_(e));break;case 4:l=Kn,Kn=Oc(e.stateNode.containerInfo),yn(r,e),_n(e),Kn=l;break;case 12:yn(r,e),_n(e);break;case 13:yn(r,e),_n(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Dd=on()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Ad(e,l)));break;case 22:h=e.memoizedState!==null;var C=a!==null&&a.memoizedState!==null,j=Fi,W=_e;if(Fi=j||h,_e=W||C,yn(r,e),_e=W,Fi=j,_n(e),l&8192)t:for(r=e.stateNode,r._visibility=h?r._visibility&-2:r._visibility|1,h&&(a===null||C||Fi||_e||Gs(e)),a=null,r=e;;){if(r.tag===5||r.tag===26){if(a===null){C=a=r;try{if(d=C.stateNode,h)T=d.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{E=C.stateNode;var et=C.memoizedProps.style,H=et!=null&&et.hasOwnProperty("display")?et.display:null;E.style.display=H==null||typeof H=="boolean"?"":(""+H).trim()}}catch(G){Zt(C,C.return,G)}}}else if(r.tag===6){if(a===null){C=r;try{C.stateNode.nodeValue=h?"":C.memoizedProps}catch(G){Zt(C,C.return,G)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===e)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break t;for(;r.sibling===null;){if(r.return===null||r.return===e)break t;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Ad(e,a))));break;case 19:yn(r,e),_n(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Ad(e,l)));break;case 30:break;case 21:break;default:yn(r,e),_n(e)}}function _n(e){var r=e.flags;if(r&2){try{for(var a,l=e.return;l!==null;){if(y_(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=Td(e);_c(e,d,h);break;case 5:var T=a.stateNode;a.flags&32&&(In(T,""),a.flags&=-33);var E=Td(e);_c(e,E,T);break;case 3:case 4:var C=a.stateNode.containerInfo,j=Td(e);Ed(e,j,C);break;default:throw Error(s(161))}}catch(W){Zt(e,e.return,W)}e.flags&=-3}r&4096&&(e.flags&=-4097)}function w_(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var r=e;w_(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),e=e.sibling}}function Or(e,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)T_(e,r.alternate,r),r=r.sibling}function Gs(e){for(e=e.child;e!==null;){var r=e;switch(r.tag){case 0:case 11:case 14:case 15:Nr(4,r,r.return),Gs(r);break;case 1:mi(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&p_(r,r.return,a),Gs(r);break;case 27:Cl(r.stateNode);case 26:case 5:mi(r,r.return),Gs(r);break;case 22:r.memoizedState===null&&Gs(r);break;case 30:Gs(r);break;default:Gs(r)}e=e.sibling}}function xr(e,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,h=e,d=r,T=d.flags;switch(d.tag){case 0:case 11:case 15:xr(h,d,a),_l(4,d);break;case 1:if(xr(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(j){Zt(l,l.return,j)}if(l=d,h=l.updateQueue,h!==null){var E=l.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)ty(C[h],E)}catch(j){Zt(l,l.return,j)}}a&&T&64&&m_(d),vl(d,d.return);break;case 27:__(d);case 26:case 5:xr(h,d,a),a&&l===null&&T&4&&g_(d),vl(d,d.return);break;case 12:xr(h,d,a);break;case 13:xr(h,d,a),a&&T&4&&A_(h,d);break;case 22:d.memoizedState===null&&xr(h,d,a),vl(d,d.return);break;case 30:break;default:xr(h,d,a)}r=r.sibling}}function Sd(e,r){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(e=r.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&rl(a))}function wd(e,r){e=null,r.alternate!==null&&(e=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==e&&(r.refCount++,e!=null&&rl(e))}function pi(e,r,a,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)R_(e,r,a,l),r=r.sibling}function R_(e,r,a,l){var h=r.flags;switch(r.tag){case 0:case 11:case 15:pi(e,r,a,l),h&2048&&_l(9,r);break;case 1:pi(e,r,a,l);break;case 3:pi(e,r,a,l),h&2048&&(e=null,r.alternate!==null&&(e=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==e&&(r.refCount++,e!=null&&rl(e)));break;case 12:if(h&2048){pi(e,r,a,l),e=r.stateNode;try{var d=r.memoizedProps,T=d.id,E=d.onPostCommit;typeof E=="function"&&E(T,r.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(C){Zt(r,r.return,C)}}else pi(e,r,a,l);break;case 13:pi(e,r,a,l);break;case 23:break;case 22:d=r.stateNode,T=r.alternate,r.memoizedState!==null?d._visibility&2?pi(e,r,a,l):Tl(e,r):d._visibility&2?pi(e,r,a,l):(d._visibility|=2,qa(e,r,a,l,(r.subtreeFlags&10256)!==0)),h&2048&&Sd(T,r);break;case 24:pi(e,r,a,l),h&2048&&wd(r.alternate,r);break;default:pi(e,r,a,l)}}function qa(e,r,a,l,h){for(h=h&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var d=e,T=r,E=a,C=l,j=T.flags;switch(T.tag){case 0:case 11:case 15:qa(d,T,E,C,h),_l(8,T);break;case 23:break;case 22:var W=T.stateNode;T.memoizedState!==null?W._visibility&2?qa(d,T,E,C,h):Tl(d,T):(W._visibility|=2,qa(d,T,E,C,h)),h&&j&2048&&Sd(T.alternate,T);break;case 24:qa(d,T,E,C,h),h&&j&2048&&wd(T.alternate,T);break;default:qa(d,T,E,C,h)}r=r.sibling}}function Tl(e,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=e,l=r,h=l.flags;switch(l.tag){case 22:Tl(a,l),h&2048&&Sd(l.alternate,l);break;case 24:Tl(a,l),h&2048&&wd(l.alternate,l);break;default:Tl(a,l)}r=r.sibling}}var El=8192;function Ha(e){if(e.subtreeFlags&El)for(e=e.child;e!==null;)I_(e),e=e.sibling}function I_(e){switch(e.tag){case 26:Ha(e),e.flags&El&&e.memoizedState!==null&&hS(Kn,e.memoizedState,e.memoizedProps);break;case 5:Ha(e);break;case 3:case 4:var r=Kn;Kn=Oc(e.stateNode.containerInfo),Ha(e),Kn=r;break;case 22:e.memoizedState===null&&(r=e.alternate,r!==null&&r.memoizedState!==null?(r=El,El=16777216,Ha(e),El=r):Ha(e));break;default:Ha(e)}}function C_(e){var r=e.alternate;if(r!==null&&(e=r.child,e!==null)){r.child=null;do r=e.sibling,e.sibling=null,e=r;while(e!==null)}}function bl(e){var r=e.deletions;if((e.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Ve=l,N_(l,e)}C_(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)D_(e),e=e.sibling}function D_(e){switch(e.tag){case 0:case 11:case 15:bl(e),e.flags&2048&&Nr(9,e,e.return);break;case 3:bl(e);break;case 12:bl(e);break;case 22:var r=e.stateNode;e.memoizedState!==null&&r._visibility&2&&(e.return===null||e.return.tag!==13)?(r._visibility&=-3,vc(e)):bl(e);break;default:bl(e)}}function vc(e){var r=e.deletions;if((e.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Ve=l,N_(l,e)}C_(e)}for(e=e.child;e!==null;){switch(r=e,r.tag){case 0:case 11:case 15:Nr(8,r,r.return),vc(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,vc(r));break;default:vc(r)}e=e.sibling}}function N_(e,r){for(;Ve!==null;){var a=Ve;switch(a.tag){case 0:case 11:case 15:Nr(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:rl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Ve=l;else t:for(a=e;Ve!==null;){l=Ve;var h=l.sibling,d=l.return;if(E_(l),l===a){Ve=null;break t}if(h!==null){h.return=d,Ve=h;break t}Ve=d}}}var IA={getCacheForType:function(e){var r=Qe(Ce),a=r.data.get(e);return a===void 0&&(a=e(),r.data.set(e,a)),a}},CA=typeof WeakMap=="function"?WeakMap:Map,Ft=0,te=null,Nt=null,Lt=0,Gt=0,vn=null,Mr=!1,Fa=!1,Rd=!1,$i=0,fe=0,Vr=0,$s=0,Id=0,Vn=0,Ga=0,Al=null,cn=null,Cd=!1,Dd=0,Tc=1/0,Ec=null,Pr=null,Be=0,kr=null,$a=null,Ka=0,Nd=0,Od=null,O_=null,Sl=0,xd=null;function Tn(){if((Ft&2)!==0&&Lt!==0)return Lt&-Lt;if(X.T!==null){var e=Va;return e!==0?e:zd()}return Ci()}function x_(){Vn===0&&(Vn=(Lt&536870912)===0||jt?Vo():536870912);var e=Mn.current;return e!==null&&(e.flags|=32),Vn}function En(e,r,a){(e===te&&(Gt===2||Gt===9)||e.cancelPendingCommit!==null)&&(Qa(e,0),Lr(e,Lt,Vn,!1)),de(e,a),((Ft&2)===0||e!==te)&&(e===te&&((Ft&2)===0&&($s|=a),fe===4&&Lr(e,Lt,Vn,!1)),gi(e))}function M_(e,r,a){if((Ft&6)!==0)throw Error(s(327));var l=!a&&(r&124)===0&&(r&e.expiredLanes)===0||ur(e,r),h=l?OA(e,r):Pd(e,r,!0),d=l;do{if(h===0){Fa&&!l&&Lr(e,r,0,!1);break}else{if(a=e.current.alternate,d&&!DA(a)){h=Pd(e,r,!1),d=!1;continue}if(h===2){if(d=r,e.errorRecoveryDisabledLanes&d)var T=0;else T=e.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){r=T;t:{var E=e;h=Al;var C=E.current.memoizedState.isDehydrated;if(C&&(Qa(E,T).flags|=256),T=Pd(E,T,!1),T!==2){if(Rd&&!C){E.errorRecoveryDisabledLanes|=d,$s|=d,h=4;break t}d=cn,cn=h,d!==null&&(cn===null?cn=d:cn.push.apply(cn,d))}h=T}if(d=!1,h!==2)continue}}if(h===1){Qa(e,0),Lr(e,r,0,!0);break}t:{switch(l=e,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:Lr(l,r,Vn,!Mr);break t;case 2:cn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(h=Dd+300-on(),10<h)){if(Lr(l,r,Vn,!Mr),wn(l,0,!0)!==0)break t;l.timeoutHandle=lv(V_.bind(null,l,a,cn,Ec,Cd,r,Vn,$s,Ga,Mr,d,2,-0,0),h);break t}V_(l,a,cn,Ec,Cd,r,Vn,$s,Ga,Mr,d,0,-0,0)}}break}while(!0);gi(e)}function V_(e,r,a,l,h,d,T,E,C,j,W,et,H,G){if(e.timeoutHandle=-1,et=r.subtreeFlags,(et&8192||(et&16785408)===16785408)&&(Ol={stylesheets:null,count:0,unsuspend:cS},I_(r),et=fS(),et!==null)){e.cancelPendingCommit=et(j_.bind(null,e,r,d,a,l,h,T,E,C,W,1,H,G)),Lr(e,d,T,!j);return}j_(e,r,d,a,l,h,T,E,C)}function DA(e){for(var r=e;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!pn(d(),h))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Lr(e,r,a,l){r&=~Id,r&=~$s,e.suspendedLanes|=r,e.pingedLanes&=~r,l&&(e.warmLanes|=r),l=e.expirationTimes;for(var h=r;0<h;){var d=31-tn(h),T=1<<d;l[d]=-1,h&=~T}a!==0&&hr(e,a,r)}function bc(){return(Ft&6)===0?(wl(0),!1):!0}function Md(){if(Nt!==null){if(Gt===0)var e=Nt.return;else e=Nt,Ui=Bs=null,Xf(e),Ba=null,pl=0,e=Nt;for(;e!==null;)d_(e.alternate,e),e=e.return;Nt=null}}function Qa(e,r){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,KA(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Md(),te=e,Nt=a=Pi(e.current,null),Lt=r,Gt=0,vn=null,Mr=!1,Fa=ur(e,r),Rd=!1,Ga=Vn=Id=$s=Vr=fe=0,cn=Al=null,Cd=!1,(r&8)!==0&&(r|=r&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=r;0<l;){var h=31-tn(l),d=1<<h;r|=e[h],l&=~d}return $i=r,Fu(),a}function P_(e,r){Ct=null,X.H=uc,r===al||r===Ju?(r=Zg(),Gt=3):r===Yg?(r=Zg(),Gt=4):Gt=r===Jy?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,vn=r,Nt===null&&(fe=1,mc(e,Dn(r,e.current)))}function k_(){var e=X.H;return X.H=uc,e===null?uc:e}function L_(){var e=X.A;return X.A=IA,e}function Vd(){fe=4,Mr||(Lt&4194048)!==Lt&&Mn.current!==null||(Fa=!0),(Vr&134217727)===0&&($s&134217727)===0||te===null||Lr(te,Lt,Vn,!1)}function Pd(e,r,a){var l=Ft;Ft|=2;var h=k_(),d=L_();(te!==e||Lt!==r)&&(Ec=null,Qa(e,r)),r=!1;var T=fe;t:do try{if(Gt!==0&&Nt!==null){var E=Nt,C=vn;switch(Gt){case 8:Md(),T=6;break t;case 3:case 2:case 9:case 6:Mn.current===null&&(r=!0);var j=Gt;if(Gt=0,vn=null,Ya(e,E,C,j),a&&Fa){T=0;break t}break;default:j=Gt,Gt=0,vn=null,Ya(e,E,C,j)}}NA(),T=fe;break}catch(W){P_(e,W)}while(!0);return r&&e.shellSuspendCounter++,Ui=Bs=null,Ft=l,X.H=h,X.A=d,Nt===null&&(te=null,Lt=0,Fu()),T}function NA(){for(;Nt!==null;)U_(Nt)}function OA(e,r){var a=Ft;Ft|=2;var l=k_(),h=L_();te!==e||Lt!==r?(Ec=null,Tc=on()+500,Qa(e,r)):Fa=ur(e,r);t:do try{if(Gt!==0&&Nt!==null){r=Nt;var d=vn;e:switch(Gt){case 1:Gt=0,vn=null,Ya(e,r,d,1);break;case 2:case 9:if(Xg(d)){Gt=0,vn=null,z_(r);break}r=function(){Gt!==2&&Gt!==9||te!==e||(Gt=7),gi(e)},d.then(r,r);break t;case 3:Gt=7;break t;case 4:Gt=5;break t;case 7:Xg(d)?(Gt=0,vn=null,z_(r)):(Gt=0,vn=null,Ya(e,r,d,7));break;case 5:var T=null;switch(Nt.tag){case 26:T=Nt.memoizedState;case 5:case 27:var E=Nt;if(!T||Tv(T)){Gt=0,vn=null;var C=E.sibling;if(C!==null)Nt=C;else{var j=E.return;j!==null?(Nt=j,Ac(j)):Nt=null}break e}}Gt=0,vn=null,Ya(e,r,d,5);break;case 6:Gt=0,vn=null,Ya(e,r,d,6);break;case 8:Md(),fe=6;break t;default:throw Error(s(462))}}xA();break}catch(W){P_(e,W)}while(!0);return Ui=Bs=null,X.H=l,X.A=h,Ft=a,Nt!==null?0:(te=null,Lt=0,Fu(),fe)}function xA(){for(;Nt!==null&&!uf();)U_(Nt)}function U_(e){var r=h_(e.alternate,e,$i);e.memoizedProps=e.pendingProps,r===null?Ac(e):Nt=r}function z_(e){var r=e,a=r.alternate;switch(r.tag){case 15:case 0:r=s_(a,r,r.pendingProps,r.type,void 0,Lt);break;case 11:r=s_(a,r,r.pendingProps,r.type.render,r.ref,Lt);break;case 5:Xf(r);default:d_(a,r),r=Nt=Bg(r,$i),r=h_(a,r,$i)}e.memoizedProps=e.pendingProps,r===null?Ac(e):Nt=r}function Ya(e,r,a,l){Ui=Bs=null,Xf(r),Ba=null,pl=0;var h=r.return;try{if(EA(e,h,r,a,Lt)){fe=1,mc(e,Dn(a,e.current)),Nt=null;return}}catch(d){if(h!==null)throw Nt=h,d;fe=1,mc(e,Dn(a,e.current)),Nt=null;return}r.flags&32768?(jt||l===1?e=!0:Fa||(Lt&536870912)!==0?e=!1:(Mr=e=!0,(l===2||l===9||l===3||l===6)&&(l=Mn.current,l!==null&&l.tag===13&&(l.flags|=16384))),B_(r,e)):Ac(r)}function Ac(e){var r=e;do{if((r.flags&32768)!==0){B_(r,Mr);return}e=r.return;var a=AA(r.alternate,r,$i);if(a!==null){Nt=a;return}if(r=r.sibling,r!==null){Nt=r;return}Nt=r=e}while(r!==null);fe===0&&(fe=5)}function B_(e,r){do{var a=SA(e.alternate,e);if(a!==null){a.flags&=32767,Nt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(e=e.sibling,e!==null)){Nt=e;return}Nt=e=a}while(e!==null);fe=6,Nt=null}function j_(e,r,a,l,h,d,T,E,C){e.cancelPendingCommit=null;do Sc();while(Be!==0);if((Ft&6)!==0)throw Error(s(327));if(r!==null){if(r===e.current)throw Error(s(177));if(d=r.lanes|r.childLanes,d|=wf,Iu(e,a,d,T,E,C),e===te&&(Nt=te=null,Lt=0),$a=r,kr=e,Ka=a,Nd=d,Od=h,O_=l,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,kA(Ii,function(){return $_(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||l){l=X.T,X.T=null,h=ot.p,ot.p=2,T=Ft,Ft|=4;try{wA(e,r,a)}finally{Ft=T,ot.p=h,X.T=l}}Be=1,q_(),H_(),F_()}}function q_(){if(Be===1){Be=0;var e=kr,r=$a,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=X.T,X.T=null;var l=ot.p;ot.p=2;var h=Ft;Ft|=4;try{S_(r,e);var d=Kd,T=Ng(e.containerInfo),E=d.focusedElem,C=d.selectionRange;if(T!==E&&E&&E.ownerDocument&&Dg(E.ownerDocument.documentElement,E)){if(C!==null&&Tf(E)){var j=C.start,W=C.end;if(W===void 0&&(W=j),"selectionStart"in E)E.selectionStart=j,E.selectionEnd=Math.min(W,E.value.length);else{var et=E.ownerDocument||document,H=et&&et.defaultView||window;if(H.getSelection){var G=H.getSelection(),bt=E.textContent.length,_t=Math.min(C.start,bt),Xt=C.end===void 0?_t:Math.min(C.end,bt);!G.extend&&_t>Xt&&(T=Xt,Xt=_t,_t=T);var k=Cg(E,_t),x=Cg(E,Xt);if(k&&x&&(G.rangeCount!==1||G.anchorNode!==k.node||G.anchorOffset!==k.offset||G.focusNode!==x.node||G.focusOffset!==x.offset)){var U=et.createRange();U.setStart(k.node,k.offset),G.removeAllRanges(),_t>Xt?(G.addRange(U),G.extend(x.node,x.offset)):(U.setEnd(x.node,x.offset),G.addRange(U))}}}}for(et=[],G=E;G=G.parentNode;)G.nodeType===1&&et.push({element:G,left:G.scrollLeft,top:G.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<et.length;E++){var J=et[E];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}kc=!!$d,Kd=$d=null}finally{Ft=h,ot.p=l,X.T=a}}e.current=r,Be=2}}function H_(){if(Be===2){Be=0;var e=kr,r=$a,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=X.T,X.T=null;var l=ot.p;ot.p=2;var h=Ft;Ft|=4;try{T_(e,r.alternate,r)}finally{Ft=h,ot.p=l,X.T=a}}Be=3}}function F_(){if(Be===4||Be===3){Be=0,xo();var e=kr,r=$a,a=Ka,l=O_;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Be=5:(Be=0,$a=kr=null,G_(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Pr=null),ko(a),r=r.stateNode,$e&&typeof $e.onCommitFiberRoot=="function")try{$e.onCommitFiberRoot(or,r,void 0,(r.current.flags&128)===128)}catch{}if(l!==null){r=X.T,h=ot.p,ot.p=2,X.T=null;try{for(var d=e.onRecoverableError,T=0;T<l.length;T++){var E=l[T];d(E.value,{componentStack:E.stack})}}finally{X.T=r,ot.p=h}}(Ka&3)!==0&&Sc(),gi(e),h=e.pendingLanes,(a&4194090)!==0&&(h&42)!==0?e===xd?Sl++:(Sl=0,xd=e):Sl=0,wl(0)}}function G_(e,r){(e.pooledCacheLanes&=r)===0&&(r=e.pooledCache,r!=null&&(e.pooledCache=null,rl(r)))}function Sc(e){return q_(),H_(),F_(),$_()}function $_(){if(Be!==5)return!1;var e=kr,r=Nd;Nd=0;var a=ko(Ka),l=X.T,h=ot.p;try{ot.p=32>a?32:a,X.T=null,a=Od,Od=null;var d=kr,T=Ka;if(Be=0,$a=kr=null,Ka=0,(Ft&6)!==0)throw Error(s(331));var E=Ft;if(Ft|=4,D_(d.current),R_(d,d.current,T,a),Ft=E,wl(0,!1),$e&&typeof $e.onPostCommitFiberRoot=="function")try{$e.onPostCommitFiberRoot(or,d)}catch{}return!0}finally{ot.p=h,X.T=l,G_(e,r)}}function K_(e,r,a){r=Dn(a,r),r=cd(e.stateNode,r,2),e=Rr(e,r,2),e!==null&&(de(e,2),gi(e))}function Zt(e,r,a){if(e.tag===3)K_(e,e,a);else for(;r!==null;){if(r.tag===3){K_(r,e,a);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Pr===null||!Pr.has(l))){e=Dn(a,e),a=Wy(2),l=Rr(r,a,2),l!==null&&(Zy(a,l,r,e),de(l,2),gi(l));break}}r=r.return}}function kd(e,r,a){var l=e.pingCache;if(l===null){l=e.pingCache=new CA;var h=new Set;l.set(r,h)}else h=l.get(r),h===void 0&&(h=new Set,l.set(r,h));h.has(a)||(Rd=!0,h.add(a),e=MA.bind(null,e,r,a),r.then(e,e))}function MA(e,r,a){var l=e.pingCache;l!==null&&l.delete(r),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,te===e&&(Lt&a)===a&&(fe===4||fe===3&&(Lt&62914560)===Lt&&300>on()-Dd?(Ft&2)===0&&Qa(e,0):Id|=a,Ga===Lt&&(Ga=0)),gi(e)}function Q_(e,r){r===0&&(r=cr()),e=Na(e,r),e!==null&&(de(e,r),gi(e))}function VA(e){var r=e.memoizedState,a=0;r!==null&&(a=r.retryLane),Q_(e,a)}function PA(e,r){var a=0;switch(e.tag){case 13:var l=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(r),Q_(e,a)}function kA(e,r){return hs(e,r)}var wc=null,Xa=null,Ld=!1,Rc=!1,Ud=!1,Ks=0;function gi(e){e!==Xa&&e.next===null&&(Xa===null?wc=Xa=e:Xa=Xa.next=e),Rc=!0,Ld||(Ld=!0,UA())}function wl(e,r){if(!Ud&&Rc){Ud=!0;do for(var a=!1,l=wc;l!==null;){if(e!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var T=l.suspendedLanes,E=l.pingedLanes;d=(1<<31-tn(42|e)+1)-1,d&=h&~(T&~E),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,Z_(l,d))}else d=Lt,d=wn(l,l===te?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||ur(l,d)||(a=!0,Z_(l,d));l=l.next}while(a);Ud=!1}}function LA(){Y_()}function Y_(){Rc=Ld=!1;var e=0;Ks!==0&&($A()&&(e=Ks),Ks=0);for(var r=on(),a=null,l=wc;l!==null;){var h=l.next,d=X_(l,r);d===0?(l.next=null,a===null?wc=h:a.next=h,h===null&&(Xa=a)):(a=l,(e!==0||(d&3)!==0)&&(Rc=!0)),l=h}wl(e)}function X_(e,r){for(var a=e.suspendedLanes,l=e.pingedLanes,h=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var T=31-tn(d),E=1<<T,C=h[T];C===-1?((E&a)===0||(E&l)!==0)&&(h[T]=da(E,r)):C<=r&&(e.expiredLanes|=E),d&=~E}if(r=te,a=Lt,a=wn(e,e===r?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,a===0||e===r&&(Gt===2||Gt===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&fa(l),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||ur(e,a)){if(r=a&-a,r===e.callbackPriority)return r;switch(l!==null&&fa(l),ko(a)){case 2:case 8:a=Oe;break;case 32:a=Ii;break;case 268435456:a=Mo;break;default:a=Ii}return l=W_.bind(null,e),a=hs(a,l),e.callbackPriority=r,e.callbackNode=a,r}return l!==null&&l!==null&&fa(l),e.callbackPriority=2,e.callbackNode=null,2}function W_(e,r){if(Be!==0&&Be!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Sc()&&e.callbackNode!==a)return null;var l=Lt;return l=wn(e,e===te?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(M_(e,l,r),X_(e,on()),e.callbackNode!=null&&e.callbackNode===a?W_.bind(null,e):null)}function Z_(e,r){if(Sc())return null;M_(e,r,!0)}function UA(){QA(function(){(Ft&6)!==0?hs(Re,LA):Y_()})}function zd(){return Ks===0&&(Ks=Vo()),Ks}function J_(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:qn(""+e)}function tv(e,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,e.id&&a.setAttribute("form",e.id),r.parentNode.insertBefore(a,r),e=new FormData(e),a.parentNode.removeChild(a),e}function zA(e,r,a,l,h){if(r==="submit"&&a&&a.stateNode===h){var d=J_((h[Ue]||null).action),T=l.submitter;T&&(r=(r=T[Ue]||null)?J_(r.formAction):T.getAttribute("formAction"),r!==null&&(d=r,T=null));var E=new Rs("action","action",null,l,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ks!==0){var C=T?tv(h,T):new FormData(h);sd(a,{pending:!0,data:C,method:h.method,action:d},null,C)}}else typeof d=="function"&&(E.preventDefault(),C=T?tv(h,T):new FormData(h),sd(a,{pending:!0,data:C,method:h.method,action:d},d,C))},currentTarget:h}]})}}for(var Bd=0;Bd<Sf.length;Bd++){var jd=Sf[Bd],BA=jd.toLowerCase(),jA=jd[0].toUpperCase()+jd.slice(1);$n(BA,"on"+jA)}$n(Mg,"onAnimationEnd"),$n(Vg,"onAnimationIteration"),$n(Pg,"onAnimationStart"),$n("dblclick","onDoubleClick"),$n("focusin","onFocus"),$n("focusout","onBlur"),$n(rA,"onTransitionRun"),$n(sA,"onTransitionStart"),$n(aA,"onTransitionCancel"),$n(kg,"onTransitionEnd"),li("onMouseEnter",["mouseout","mouseover"]),li("onMouseLeave",["mouseout","mouseover"]),li("onPointerEnter",["pointerout","pointerover"]),li("onPointerLeave",["pointerout","pointerover"]),oi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),oi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),oi("onBeforeInput",["compositionend","keypress","textInput","paste"]),oi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),oi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),oi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),qA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Rl));function ev(e,r){r=(r&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],h=l.event;l=l.listeners;t:{var d=void 0;if(r)for(var T=l.length-1;0<=T;T--){var E=l[T],C=E.instance,j=E.currentTarget;if(E=E.listener,C!==d&&h.isPropagationStopped())break t;d=E,h.currentTarget=j;try{d(h)}catch(W){dc(W)}h.currentTarget=null,d=C}else for(T=0;T<l.length;T++){if(E=l[T],C=E.instance,j=E.currentTarget,E=E.listener,C!==d&&h.isPropagationStopped())break t;d=E,h.currentTarget=j;try{d(h)}catch(W){dc(W)}h.currentTarget=null,d=C}}}}function Ot(e,r){var a=r[ds];a===void 0&&(a=r[ds]=new Set);var l=e+"__bubble";a.has(l)||(nv(r,e,2,!1),a.add(l))}function qd(e,r,a){var l=0;r&&(l|=4),nv(a,e,l,r)}var Ic="_reactListening"+Math.random().toString(36).slice(2);function Hd(e){if(!e[Ic]){e[Ic]=!0,Cu.forEach(function(a){a!=="selectionchange"&&(qA.has(a)||qd(a,!1,e),qd(a,!0,e))});var r=e.nodeType===9?e:e.ownerDocument;r===null||r[Ic]||(r[Ic]=!0,qd("selectionchange",!1,r))}}function nv(e,r,a,l){switch(Rv(r)){case 2:var h=pS;break;case 8:h=gS;break;default:h=im}a=h.bind(null,r,a,e),h=void 0,!Mi||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(h=!0),l?h!==void 0?e.addEventListener(r,a,{capture:!0,passive:h}):e.addEventListener(r,a,!0):h!==void 0?e.addEventListener(r,a,{passive:h}):e.addEventListener(r,a,!1)}function Fd(e,r,a,l,h){var d=l;if((r&1)===0&&(r&2)===0&&l!==null)t:for(;;){if(l===null)return;var T=l.tag;if(T===3||T===4){var E=l.stateNode.containerInfo;if(E===h)break;if(T===4)for(T=l.return;T!==null;){var C=T.tag;if((C===3||C===4)&&T.stateNode.containerInfo===h)return;T=T.return}for(;E!==null;){if(T=si(E),T===null)return;if(C=T.tag,C===5||C===6||C===26||C===27){l=d=T;continue t}E=E.parentNode}}l=l.return}As(function(){var j=d,W=Ho(a),et=[];t:{var H=Lg.get(e);if(H!==void 0){var G=Rs,bt=e;switch(e){case"keypress":if(Ss(a)===0)break t;case"keydown":case"keyup":G=Ra;break;case"focusin":bt="focus",G=Aa;break;case"focusout":bt="blur",G=Aa;break;case"beforeblur":case"afterblur":G=Aa;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=Os;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=Pu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=br;break;case Mg:case Vg:case Pg:G=Go;break;case kg:G=y;break;case"scroll":case"scrollend":G=Cs;break;case"wheel":G=A;break;case"copy":case"cut":case"paste":G=Lu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=Qo;break;case"toggle":case"beforetoggle":G=$}var _t=(r&4)!==0,Xt=!_t&&(e==="scroll"||e==="scrollend"),k=_t?H!==null?H+"Capture":null:H;_t=[];for(var x=j,U;x!==null;){var J=x;if(U=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||U===null||k===null||(J=Tr(x,k),J!=null&&_t.push(Il(x,J,U))),Xt)break;x=x.return}0<_t.length&&(H=new G(H,bt,null,a,W),et.push({event:H,listeners:_t}))}}if((r&7)===0){t:{if(H=e==="mouseover"||e==="pointerover",G=e==="mouseout"||e==="pointerout",H&&a!==qo&&(bt=a.relatedTarget||a.fromElement)&&(si(bt)||bt[Di]))break t;if((G||H)&&(H=W.window===W?W:(H=W.ownerDocument)?H.defaultView||H.parentWindow:window,G?(bt=a.relatedTarget||a.toElement,G=j,bt=bt?si(bt):null,bt!==null&&(Xt=u(bt),_t=bt.tag,bt!==Xt||_t!==5&&_t!==27&&_t!==6)&&(bt=null)):(G=null,bt=j),G!==bt)){if(_t=Os,J="onMouseLeave",k="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(_t=Qo,J="onPointerLeave",k="onPointerEnter",x="pointer"),Xt=G==null?H:mr(G),U=bt==null?H:mr(bt),H=new _t(J,x+"leave",G,a,W),H.target=Xt,H.relatedTarget=U,J=null,si(W)===j&&(_t=new _t(k,x+"enter",bt,a,W),_t.target=U,_t.relatedTarget=Xt,J=_t),Xt=J,G&&bt)e:{for(_t=G,k=bt,x=0,U=_t;U;U=Wa(U))x++;for(U=0,J=k;J;J=Wa(J))U++;for(;0<x-U;)_t=Wa(_t),x--;for(;0<U-x;)k=Wa(k),U--;for(;x--;){if(_t===k||k!==null&&_t===k.alternate)break e;_t=Wa(_t),k=Wa(k)}_t=null}else _t=null;G!==null&&iv(et,H,G,_t,!1),bt!==null&&Xt!==null&&iv(et,Xt,bt,_t,!0)}}t:{if(H=j?mr(j):window,G=H.nodeName&&H.nodeName.toLowerCase(),G==="select"||G==="input"&&H.type==="file")var ft=bg;else if(Tg(H))if(Ag)ft=eA;else{ft=J1;var Dt=Z1}else G=H.nodeName,!G||G.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?j&&Ta(j.elementType)&&(ft=bg):ft=tA;if(ft&&(ft=ft(e,j))){Eg(et,ft,a,W);break t}Dt&&Dt(e,H,j),e==="focusout"&&j&&H.type==="number"&&j.memoizedProps.value!=null&&zo(H,"number",H.value)}switch(Dt=j?mr(j):window,e){case"focusin":(Tg(Dt)||Dt.contentEditable==="true")&&(Ia=Dt,Ef=j,Jo=null);break;case"focusout":Jo=Ef=Ia=null;break;case"mousedown":bf=!0;break;case"contextmenu":case"mouseup":case"dragend":bf=!1,Og(et,a,W);break;case"selectionchange":if(iA)break;case"keydown":case"keyup":Og(et,a,W)}var pt;if(wt)t:{switch(e){case"compositionstart":var vt="onCompositionStart";break t;case"compositionend":vt="onCompositionEnd";break t;case"compositionupdate":vt="onCompositionUpdate";break t}vt=void 0}else Gn?Hn(e,a)&&(vt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(vt="onCompositionStart");vt&&(ge&&a.locale!=="ko"&&(Gn||vt!=="onCompositionStart"?vt==="onCompositionEnd"&&Gn&&(pt=Vu()):(Cn=W,Jt="value"in Cn?Cn.value:Cn.textContent,Gn=!0)),Dt=Cc(j,vt),0<Dt.length&&(vt=new Ko(vt,e,null,a,W),et.push({event:vt,listeners:Dt}),pt?vt.data=pt:(pt=Fn(a),pt!==null&&(vt.data=pt)))),(pt=Ht?Yo(e,a):Y1(e,a))&&(vt=Cc(j,"onBeforeInput"),0<vt.length&&(Dt=new Ko("onBeforeInput","beforeinput",null,a,W),et.push({event:Dt,listeners:vt}),Dt.data=pt)),zA(et,e,j,a,W)}ev(et,r)})}function Il(e,r,a){return{instance:e,listener:r,currentTarget:a}}function Cc(e,r){for(var a=r+"Capture",l=[];e!==null;){var h=e,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Tr(e,a),h!=null&&l.unshift(Il(e,h,d)),h=Tr(e,r),h!=null&&l.push(Il(e,h,d))),e.tag===3)return l;e=e.return}return[]}function Wa(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function iv(e,r,a,l,h){for(var d=r._reactName,T=[];a!==null&&a!==l;){var E=a,C=E.alternate,j=E.stateNode;if(E=E.tag,C!==null&&C===l)break;E!==5&&E!==26&&E!==27||j===null||(C=j,h?(j=Tr(a,d),j!=null&&T.unshift(Il(a,j,C))):h||(j=Tr(a,d),j!=null&&T.push(Il(a,j,C)))),a=a.return}T.length!==0&&e.push({event:r,listeners:T})}var HA=/\r\n?/g,FA=/\u0000|\uFFFD/g;function rv(e){return(typeof e=="string"?e:""+e).replace(HA,`
`).replace(FA,"")}function sv(e,r){return r=rv(r),rv(e)===r}function Dc(){}function Yt(e,r,a,l,h,d){switch(a){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||In(e,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&In(e,""+l);break;case"className":_s(e,"class",l);break;case"tabIndex":_s(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":_s(e,a,l);break;case"style":jo(e,l,d);break;case"data":if(r!=="object"){_s(e,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=qn(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(r!=="input"&&Yt(e,r,"name",h.name,h,null),Yt(e,r,"formEncType",h.formEncType,h,null),Yt(e,r,"formMethod",h.formMethod,h,null),Yt(e,r,"formTarget",h.formTarget,h,null)):(Yt(e,r,"encType",h.encType,h,null),Yt(e,r,"method",h.method,h,null),Yt(e,r,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=qn(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=Dc);break;case"onScroll":l!=null&&Ot("scroll",e);break;case"onScrollEnd":l!=null&&Ot("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=qn(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":Ot("beforetoggle",e),Ot("toggle",e),ys(e,"popover",l);break;case"xlinkActuate":Rn(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Rn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Rn(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Rn(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Rn(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Rn(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Rn(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Rn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Rn(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ys(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Ou.get(a)||a,ys(e,a,l))}}function Gd(e,r,a,l,h,d){switch(a){case"style":jo(e,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"children":typeof l=="string"?In(e,l):(typeof l=="number"||typeof l=="bigint")&&In(e,""+l);break;case"onScroll":l!=null&&Ot("scroll",e);break;case"onScrollEnd":l!=null&&Ot("scrollend",e);break;case"onClick":l!=null&&(e.onclick=Dc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ps.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),r=a.slice(2,h?a.length-7:void 0),d=e[Ue]||null,d=d!=null?d[a]:null,typeof d=="function"&&e.removeEventListener(r,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(r,l,h);break t}a in e?e[a]=l:l===!0?e.setAttribute(a,""):ys(e,a,l)}}}function je(e,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ot("error",e),Ot("load",e);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var T=a[d];if(T!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Yt(e,r,d,T,a,null)}}h&&Yt(e,r,"srcSet",a.srcSet,a,null),l&&Yt(e,r,"src",a.src,a,null);return;case"input":Ot("invalid",e);var E=d=T=h=null,C=null,j=null;for(l in a)if(a.hasOwnProperty(l)){var W=a[l];if(W!=null)switch(l){case"name":h=W;break;case"type":T=W;break;case"checked":C=W;break;case"defaultChecked":j=W;break;case"value":d=W;break;case"defaultValue":E=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(s(137,r));break;default:Yt(e,r,l,W,a,null)}}Uo(e,d,E,C,j,T,h,!1),yr(e);return;case"select":Ot("invalid",e),l=T=d=null;for(h in a)if(a.hasOwnProperty(h)&&(E=a[h],E!=null))switch(h){case"value":d=E;break;case"defaultValue":T=E;break;case"multiple":l=E;default:Yt(e,r,h,E,a,null)}r=d,a=T,e.multiple=!!l,r!=null?_r(e,!!l,r,!1):a!=null&&_r(e,!!l,a,!0);return;case"textarea":Ot("invalid",e),d=h=l=null;for(T in a)if(a.hasOwnProperty(T)&&(E=a[T],E!=null))switch(T){case"value":l=E;break;case"defaultValue":h=E;break;case"children":d=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:Yt(e,r,T,E,a,null)}Nu(e,l,h,d),yr(e);return;case"option":for(C in a)if(a.hasOwnProperty(C)&&(l=a[C],l!=null))switch(C){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Yt(e,r,C,l,a,null)}return;case"dialog":Ot("beforetoggle",e),Ot("toggle",e),Ot("cancel",e),Ot("close",e);break;case"iframe":case"object":Ot("load",e);break;case"video":case"audio":for(l=0;l<Rl.length;l++)Ot(Rl[l],e);break;case"image":Ot("error",e),Ot("load",e);break;case"details":Ot("toggle",e);break;case"embed":case"source":case"link":Ot("error",e),Ot("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in a)if(a.hasOwnProperty(j)&&(l=a[j],l!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Yt(e,r,j,l,a,null)}return;default:if(Ta(r)){for(W in a)a.hasOwnProperty(W)&&(l=a[W],l!==void 0&&Gd(e,r,W,l,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(l=a[E],l!=null&&Yt(e,r,E,l,a,null))}function GA(e,r,a,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,T=null,E=null,C=null,j=null,W=null;for(G in a){var et=a[G];if(a.hasOwnProperty(G)&&et!=null)switch(G){case"checked":break;case"value":break;case"defaultValue":C=et;default:l.hasOwnProperty(G)||Yt(e,r,G,null,l,et)}}for(var H in l){var G=l[H];if(et=a[H],l.hasOwnProperty(H)&&(G!=null||et!=null))switch(H){case"type":d=G;break;case"name":h=G;break;case"checked":j=G;break;case"defaultChecked":W=G;break;case"value":T=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,r));break;default:G!==et&&Yt(e,r,H,G,l,et)}}Lo(e,T,E,C,j,W,d,h);return;case"select":G=T=E=H=null;for(d in a)if(C=a[d],a.hasOwnProperty(d)&&C!=null)switch(d){case"value":break;case"multiple":G=C;default:l.hasOwnProperty(d)||Yt(e,r,d,null,l,C)}for(h in l)if(d=l[h],C=a[h],l.hasOwnProperty(h)&&(d!=null||C!=null))switch(h){case"value":H=d;break;case"defaultValue":E=d;break;case"multiple":T=d;default:d!==C&&Yt(e,r,h,d,l,C)}r=E,a=T,l=G,H!=null?_r(e,!!a,H,!1):!!l!=!!a&&(r!=null?_r(e,!!a,r,!0):_r(e,!!a,a?[]:"",!1));return;case"textarea":G=H=null;for(E in a)if(h=a[E],a.hasOwnProperty(E)&&h!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Yt(e,r,E,null,l,h)}for(T in l)if(h=l[T],d=a[T],l.hasOwnProperty(T)&&(h!=null||d!=null))switch(T){case"value":H=h;break;case"defaultValue":G=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&Yt(e,r,T,h,l,d)}Du(e,H,G);return;case"option":for(var bt in a)if(H=a[bt],a.hasOwnProperty(bt)&&H!=null&&!l.hasOwnProperty(bt))switch(bt){case"selected":e.selected=!1;break;default:Yt(e,r,bt,null,l,H)}for(C in l)if(H=l[C],G=a[C],l.hasOwnProperty(C)&&H!==G&&(H!=null||G!=null))switch(C){case"selected":e.selected=H&&typeof H!="function"&&typeof H!="symbol";break;default:Yt(e,r,C,H,l,G)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _t in a)H=a[_t],a.hasOwnProperty(_t)&&H!=null&&!l.hasOwnProperty(_t)&&Yt(e,r,_t,null,l,H);for(j in l)if(H=l[j],G=a[j],l.hasOwnProperty(j)&&H!==G&&(H!=null||G!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,r));break;default:Yt(e,r,j,H,l,G)}return;default:if(Ta(r)){for(var Xt in a)H=a[Xt],a.hasOwnProperty(Xt)&&H!==void 0&&!l.hasOwnProperty(Xt)&&Gd(e,r,Xt,void 0,l,H);for(W in l)H=l[W],G=a[W],!l.hasOwnProperty(W)||H===G||H===void 0&&G===void 0||Gd(e,r,W,H,l,G);return}}for(var k in a)H=a[k],a.hasOwnProperty(k)&&H!=null&&!l.hasOwnProperty(k)&&Yt(e,r,k,null,l,H);for(et in l)H=l[et],G=a[et],!l.hasOwnProperty(et)||H===G||H==null&&G==null||Yt(e,r,et,H,l,G)}var $d=null,Kd=null;function Nc(e){return e.nodeType===9?e:e.ownerDocument}function av(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ov(e,r){if(e===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&r==="foreignObject"?0:e}function Qd(e,r){return e==="textarea"||e==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Yd=null;function $A(){var e=window.event;return e&&e.type==="popstate"?e===Yd?!1:(Yd=e,!0):(Yd=null,!1)}var lv=typeof setTimeout=="function"?setTimeout:void 0,KA=typeof clearTimeout=="function"?clearTimeout:void 0,uv=typeof Promise=="function"?Promise:void 0,QA=typeof queueMicrotask=="function"?queueMicrotask:typeof uv<"u"?function(e){return uv.resolve(null).then(e).catch(YA)}:lv;function YA(e){setTimeout(function(){throw e})}function Ur(e){return e==="head"}function cv(e,r){var a=r,l=0,h=0;do{var d=a.nextSibling;if(e.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<l&&8>l){a=l;var T=e.ownerDocument;if(a&1&&Cl(T.documentElement),a&2&&Cl(T.body),a&4)for(a=T.head,Cl(a),T=a.firstChild;T;){var E=T.nextSibling,C=T.nodeName;T[dr]||C==="SCRIPT"||C==="STYLE"||C==="LINK"&&T.rel.toLowerCase()==="stylesheet"||a.removeChild(T),T=E}}if(h===0){e.removeChild(d),kl(r);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:l=a.charCodeAt(0)-48;else l=0;a=d}while(a);kl(r)}function Xd(e){var r=e.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Xd(a),pa(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function XA(e,r,a,l){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[dr])switch(r){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(r==="input"&&e.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=Qn(e.nextSibling),e===null)break}return null}function WA(e,r,a){if(r==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Qn(e.nextSibling),e===null))return null;return e}function Wd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function ZA(e,r){var a=e.ownerDocument;if(e.data!=="$?"||a.readyState==="complete")r();else{var l=function(){r(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function Qn(e){for(;e!=null;e=e.nextSibling){var r=e.nodeType;if(r===1||r===3)break;if(r===8){if(r=e.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return e}var Zd=null;function hv(e){e=e.previousSibling;for(var r=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(r===0)return e;r--}else a==="/$"&&r++}e=e.previousSibling}return null}function fv(e,r,a){switch(r=Nc(a),e){case"html":if(e=r.documentElement,!e)throw Error(s(452));return e;case"head":if(e=r.head,!e)throw Error(s(453));return e;case"body":if(e=r.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function Cl(e){for(var r=e.attributes;r.length;)e.removeAttributeNode(r[0]);pa(e)}var Pn=new Map,dv=new Set;function Oc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Ki=ot.d;ot.d={f:JA,r:tS,D:eS,C:nS,L:iS,m:rS,X:aS,S:sS,M:oS};function JA(){var e=Ki.f(),r=bc();return e||r}function tS(e){var r=ai(e);r!==null&&r.tag===5&&r.type==="form"?My(r):Ki.r(e)}var Za=typeof document>"u"?null:document;function mv(e,r,a){var l=Za;if(l&&typeof r=="string"&&r){var h=xe(r);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),dv.has(h)||(dv.add(h),e={rel:e,crossOrigin:a,href:r},l.querySelector(h)===null&&(r=l.createElement("link"),je(r,"link",e),pe(r),l.head.appendChild(r)))}}function eS(e){Ki.D(e),mv("dns-prefetch",e,null)}function nS(e,r){Ki.C(e,r),mv("preconnect",e,r)}function iS(e,r,a){Ki.L(e,r,a);var l=Za;if(l&&e&&r){var h='link[rel="preload"][as="'+xe(r)+'"]';r==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+xe(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+xe(a.imageSizes)+'"]')):h+='[href="'+xe(e)+'"]';var d=h;switch(r){case"style":d=Ja(e);break;case"script":d=to(e)}Pn.has(d)||(e=v({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:e,as:r},a),Pn.set(d,e),l.querySelector(h)!==null||r==="style"&&l.querySelector(Dl(d))||r==="script"&&l.querySelector(Nl(d))||(r=l.createElement("link"),je(r,"link",e),pe(r),l.head.appendChild(r)))}}function rS(e,r){Ki.m(e,r);var a=Za;if(a&&e){var l=r&&typeof r.as=="string"?r.as:"script",h='link[rel="modulepreload"][as="'+xe(l)+'"][href="'+xe(e)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=to(e)}if(!Pn.has(d)&&(e=v({rel:"modulepreload",href:e},r),Pn.set(d,e),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Nl(d)))return}l=a.createElement("link"),je(l,"link",e),pe(l),a.head.appendChild(l)}}}function sS(e,r,a){Ki.S(e,r,a);var l=Za;if(l&&e){var h=pr(l).hoistableStyles,d=Ja(e);r=r||"default";var T=h.get(d);if(!T){var E={loading:0,preload:null};if(T=l.querySelector(Dl(d)))E.loading=5;else{e=v({rel:"stylesheet",href:e,"data-precedence":r},a),(a=Pn.get(d))&&Jd(e,a);var C=T=l.createElement("link");pe(C),je(C,"link",e),C._p=new Promise(function(j,W){C.onload=j,C.onerror=W}),C.addEventListener("load",function(){E.loading|=1}),C.addEventListener("error",function(){E.loading|=2}),E.loading|=4,xc(T,r,l)}T={type:"stylesheet",instance:T,count:1,state:E},h.set(d,T)}}}function aS(e,r){Ki.X(e,r);var a=Za;if(a&&e){var l=pr(a).hoistableScripts,h=to(e),d=l.get(h);d||(d=a.querySelector(Nl(h)),d||(e=v({src:e,async:!0},r),(r=Pn.get(h))&&tm(e,r),d=a.createElement("script"),pe(d),je(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function oS(e,r){Ki.M(e,r);var a=Za;if(a&&e){var l=pr(a).hoistableScripts,h=to(e),d=l.get(h);d||(d=a.querySelector(Nl(h)),d||(e=v({src:e,async:!0,type:"module"},r),(r=Pn.get(h))&&tm(e,r),d=a.createElement("script"),pe(d),je(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function pv(e,r,a,l){var h=(h=Et.current)?Oc(h):null;if(!h)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=Ja(a.href),a=pr(h).hoistableStyles,l=a.get(r),l||(l={type:"style",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Ja(a.href);var d=pr(h).hoistableStyles,T=d.get(e);if(T||(h=h.ownerDocument||h,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,T),(d=h.querySelector(Dl(e)))&&!d._p&&(T.instance=d,T.state.loading=5),Pn.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Pn.set(e,a),d||lS(h,e,a,T.state))),r&&l===null)throw Error(s(528,""));return T}if(r&&l!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=to(a),a=pr(h).hoistableScripts,l=a.get(r),l||(l={type:"script",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Ja(e){return'href="'+xe(e)+'"'}function Dl(e){return'link[rel="stylesheet"]['+e+"]"}function gv(e){return v({},e,{"data-precedence":e.precedence,precedence:null})}function lS(e,r,a,l){e.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=e.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),je(r,"link",a),pe(r),e.head.appendChild(r))}function to(e){return'[src="'+xe(e)+'"]'}function Nl(e){return"script[async]"+e}function yv(e,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var l=e.querySelector('style[data-href~="'+xe(a.href)+'"]');if(l)return r.instance=l,pe(l),l;var h=v({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),pe(l),je(l,"style",h),xc(l,a.precedence,e),r.instance=l;case"stylesheet":h=Ja(a.href);var d=e.querySelector(Dl(h));if(d)return r.state.loading|=4,r.instance=d,pe(d),d;l=gv(a),(h=Pn.get(h))&&Jd(l,h),d=(e.ownerDocument||e).createElement("link"),pe(d);var T=d;return T._p=new Promise(function(E,C){T.onload=E,T.onerror=C}),je(d,"link",l),r.state.loading|=4,xc(d,a.precedence,e),r.instance=d;case"script":return d=to(a.src),(h=e.querySelector(Nl(d)))?(r.instance=h,pe(h),h):(l=a,(h=Pn.get(d))&&(l=v({},a),tm(l,h)),e=e.ownerDocument||e,h=e.createElement("script"),pe(h),je(h,"link",l),e.head.appendChild(h),r.instance=h);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,xc(l,a.precedence,e));return r.instance}function xc(e,r,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,T=0;T<l.length;T++){var E=l[T];if(E.dataset.precedence===r)d=E;else if(d!==h)break}d?d.parentNode.insertBefore(e,d.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(e,r.firstChild))}function Jd(e,r){e.crossOrigin==null&&(e.crossOrigin=r.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=r.referrerPolicy),e.title==null&&(e.title=r.title)}function tm(e,r){e.crossOrigin==null&&(e.crossOrigin=r.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=r.referrerPolicy),e.integrity==null&&(e.integrity=r.integrity)}var Mc=null;function _v(e,r,a){if(Mc===null){var l=new Map,h=Mc=new Map;h.set(a,l)}else h=Mc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var d=a[h];if(!(d[dr]||d[me]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var T=d.getAttribute(r)||"";T=e+T;var E=l.get(T);E?E.push(d):l.set(T,[d])}}return l}function vv(e,r,a){e=e.ownerDocument||e,e.head.insertBefore(a,r==="title"?e.querySelector("head > title"):null)}function uS(e,r,a){if(a===1||r.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return e=r.disabled,typeof r.precedence=="string"&&e==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function Tv(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var Ol=null;function cS(){}function hS(e,r,a){if(Ol===null)throw Error(s(475));var l=Ol;if(r.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=Ja(a.href),d=e.querySelector(Dl(h));if(d){e=d._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(l.count++,l=Vc.bind(l),e.then(l,l)),r.state.loading|=4,r.instance=d,pe(d);return}d=e.ownerDocument||e,a=gv(a),(h=Pn.get(h))&&Jd(a,h),d=d.createElement("link"),pe(d);var T=d;T._p=new Promise(function(E,C){T.onload=E,T.onerror=C}),je(d,"link",a),r.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(r,e),(e=r.state.preload)&&(r.state.loading&3)===0&&(l.count++,r=Vc.bind(l),e.addEventListener("load",r),e.addEventListener("error",r))}}function fS(){if(Ol===null)throw Error(s(475));var e=Ol;return e.stylesheets&&e.count===0&&em(e,e.stylesheets),0<e.count?function(r){var a=setTimeout(function(){if(e.stylesheets&&em(e,e.stylesheets),e.unsuspend){var l=e.unsuspend;e.unsuspend=null,l()}},6e4);return e.unsuspend=r,function(){e.unsuspend=null,clearTimeout(a)}}:null}function Vc(){if(this.count--,this.count===0){if(this.stylesheets)em(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Pc=null;function em(e,r){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Pc=new Map,r.forEach(dS,e),Pc=null,Vc.call(e))}function dS(e,r){if(!(r.state.loading&4)){var a=Pc.get(e);if(a)var l=a.get(null);else{a=new Map,Pc.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var T=h[d];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(a.set(T.dataset.precedence,T),l=T)}l&&a.set(null,l)}h=r.instance,T=h.getAttribute("data-precedence"),d=a.get(T)||l,d===l&&a.set(null,h),a.set(T,h),this.count++,l=Vc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),r.state.loading|=4}}var xl={$$typeof:Y,Provider:null,Consumer:null,_currentValue:mt,_currentValue2:mt,_threadCount:0};function mS(e,r,a,l,h,d,T,E){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ma(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ma(0),this.hiddenUpdates=ma(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function Ev(e,r,a,l,h,d,T,E,C,j,W,et){return e=new mS(e,r,a,T,E,C,j,et),r=1,d===!0&&(r|=24),d=gn(3,null,null,r),e.current=d,d.stateNode=e,r=kf(),r.refCount++,e.pooledCache=r,r.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:r},Bf(d),e}function bv(e){return e?(e=Oa,e):Oa}function Av(e,r,a,l,h,d){h=bv(h),l.context===null?l.context=h:l.pendingContext=h,l=wr(r),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Rr(e,l,r),a!==null&&(En(a,e,r),ll(a,e,r))}function Sv(e,r){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<r?a:r}}function nm(e,r){Sv(e,r),(e=e.alternate)&&Sv(e,r)}function wv(e){if(e.tag===13){var r=Na(e,67108864);r!==null&&En(r,e,67108864),nm(e,67108864)}}var kc=!0;function pS(e,r,a,l){var h=X.T;X.T=null;var d=ot.p;try{ot.p=2,im(e,r,a,l)}finally{ot.p=d,X.T=h}}function gS(e,r,a,l){var h=X.T;X.T=null;var d=ot.p;try{ot.p=8,im(e,r,a,l)}finally{ot.p=d,X.T=h}}function im(e,r,a,l){if(kc){var h=rm(l);if(h===null)Fd(e,r,l,Lc,a),Iv(e,l);else if(_S(h,e,r,a,l))l.stopPropagation();else if(Iv(e,l),r&4&&-1<yS.indexOf(e)){for(;h!==null;){var d=ai(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var T=zn(d.pendingLanes);if(T!==0){var E=d;for(E.pendingLanes|=2,E.entangledLanes|=2;T;){var C=1<<31-tn(T);E.entanglements[1]|=C,T&=~C}gi(d),(Ft&6)===0&&(Tc=on()+500,wl(0))}}break;case 13:E=Na(d,2),E!==null&&En(E,d,2),bc(),nm(d,2)}if(d=rm(l),d===null&&Fd(e,r,l,Lc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else Fd(e,r,l,null,a)}}function rm(e){return e=Ho(e),sm(e)}var Lc=null;function sm(e){if(Lc=null,e=si(e),e!==null){var r=u(e);if(r===null)e=null;else{var a=r.tag;if(a===13){if(e=f(r),e!==null)return e;e=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;e=null}else r!==e&&(e=null)}}return Lc=e,null}function Rv(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Su()){case Re:return 2;case Oe:return 8;case Ii:case cf:return 32;case Mo:return 268435456;default:return 32}default:return 32}}var am=!1,zr=null,Br=null,jr=null,Ml=new Map,Vl=new Map,qr=[],yS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Iv(e,r){switch(e){case"focusin":case"focusout":zr=null;break;case"dragenter":case"dragleave":Br=null;break;case"mouseover":case"mouseout":jr=null;break;case"pointerover":case"pointerout":Ml.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vl.delete(r.pointerId)}}function Pl(e,r,a,l,h,d){return e===null||e.nativeEvent!==d?(e={blockedOn:r,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},r!==null&&(r=ai(r),r!==null&&wv(r)),e):(e.eventSystemFlags|=l,r=e.targetContainers,h!==null&&r.indexOf(h)===-1&&r.push(h),e)}function _S(e,r,a,l,h){switch(r){case"focusin":return zr=Pl(zr,e,r,a,l,h),!0;case"dragenter":return Br=Pl(Br,e,r,a,l,h),!0;case"mouseover":return jr=Pl(jr,e,r,a,l,h),!0;case"pointerover":var d=h.pointerId;return Ml.set(d,Pl(Ml.get(d)||null,e,r,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,Vl.set(d,Pl(Vl.get(d)||null,e,r,a,l,h)),!0}return!1}function Cv(e){var r=si(e.target);if(r!==null){var a=u(r);if(a!==null){if(r=a.tag,r===13){if(r=f(a),r!==null){e.blockedOn=r,df(e.priority,function(){if(a.tag===13){var l=Tn();l=Po(l);var h=Na(a,l);h!==null&&En(h,a,l),nm(a,l)}});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Uc(e){if(e.blockedOn!==null)return!1;for(var r=e.targetContainers;0<r.length;){var a=rm(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);qo=l,a.target.dispatchEvent(l),qo=null}else return r=ai(a),r!==null&&wv(r),e.blockedOn=a,!1;r.shift()}return!0}function Dv(e,r,a){Uc(e)&&a.delete(r)}function vS(){am=!1,zr!==null&&Uc(zr)&&(zr=null),Br!==null&&Uc(Br)&&(Br=null),jr!==null&&Uc(jr)&&(jr=null),Ml.forEach(Dv),Vl.forEach(Dv)}function zc(e,r){e.blockedOn===r&&(e.blockedOn=null,am||(am=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,vS)))}var Bc=null;function Nv(e){Bc!==e&&(Bc=e,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Bc===e&&(Bc=null);for(var r=0;r<e.length;r+=3){var a=e[r],l=e[r+1],h=e[r+2];if(typeof l!="function"){if(sm(l||a)===null)continue;break}var d=ai(a);d!==null&&(e.splice(r,3),r-=3,sd(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function kl(e){function r(C){return zc(C,e)}zr!==null&&zc(zr,e),Br!==null&&zc(Br,e),jr!==null&&zc(jr,e),Ml.forEach(r),Vl.forEach(r);for(var a=0;a<qr.length;a++){var l=qr[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<qr.length&&(a=qr[0],a.blockedOn===null);)Cv(a),a.blockedOn===null&&qr.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],T=h[Ue]||null;if(typeof d=="function")T||Nv(a);else if(T){var E=null;if(d&&d.hasAttribute("formAction")){if(h=d,T=d[Ue]||null)E=T.formAction;else if(sm(h)!==null)continue}else E=T.action;typeof E=="function"?a[l+1]=E:(a.splice(l,3),l-=3),Nv(a)}}}function om(e){this._internalRoot=e}jc.prototype.render=om.prototype.render=function(e){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,l=Tn();Av(a,l,e,r,null,null)},jc.prototype.unmount=om.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var r=e.containerInfo;Av(e.current,2,null,e,null,null),bc(),r[Di]=null}};function jc(e){this._internalRoot=e}jc.prototype.unstable_scheduleHydration=function(e){if(e){var r=Ci();e={blockedOn:null,target:e,priority:r};for(var a=0;a<qr.length&&r!==0&&r<qr[a].priority;a++);qr.splice(a,0,e),a===0&&Cv(e)}};var Ov=t.version;if(Ov!=="19.1.1")throw Error(s(527,Ov,"19.1.1"));ot.findDOMNode=function(e){var r=e._reactInternals;if(r===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=p(r),e=e!==null?g(e):null,e=e===null?null:e.stateNode,e};var TS={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var qc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!qc.isDisabled&&qc.supportsFiber)try{or=qc.inject(TS),$e=qc}catch{}}return Ul.createRoot=function(e,r){if(!o(e))throw Error(s(299));var a=!1,l="",h=Ky,d=Qy,T=Yy,E=null;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(h=r.onUncaughtError),r.onCaughtError!==void 0&&(d=r.onCaughtError),r.onRecoverableError!==void 0&&(T=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(E=r.unstable_transitionCallbacks)),r=Ev(e,1,!1,null,null,a,l,h,d,T,E,null),e[Di]=r.current,Hd(e),new om(r)},Ul.hydrateRoot=function(e,r,a){if(!o(e))throw Error(s(299));var l=!1,h="",d=Ky,T=Qy,E=Yy,C=null,j=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(T=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(C=a.unstable_transitionCallbacks),a.formState!==void 0&&(j=a.formState)),r=Ev(e,1,!0,r,a??null,l,h,d,T,E,C,j),r.context=bv(null),a=r.current,l=Tn(),l=Po(l),h=wr(l),h.callback=null,Rr(a,h,l),a=l,r.current.lanes=a,de(r,a),gi(r),e[Di]=r.current,Hd(e),new jc(r)},Ul.version="19.1.1",Ul}var jv;function OS(){if(jv)return cm.exports;jv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),cm.exports=NS(),cm.exports}var xS=OS();/**
 * react-router v7.9.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var qv="popstate";function MS(i={}){function t(s,o){let{pathname:u,search:f,hash:m}=s.location;return Om("",{pathname:u,search:f,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:Wl(o)}return PS(t,n,null,i)}function oe(i,t){if(i===!1||i===null||typeof i>"u")throw new Error(t)}function Wn(i,t){if(!i){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function VS(){return Math.random().toString(36).substring(2,10)}function Hv(i,t){return{usr:i.state,key:i.key,idx:t}}function Om(i,t,n=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof t=="string"?vo(t):t,state:n,key:t&&t.key||s||VS()}}function Wl({pathname:i="/",search:t="",hash:n=""}){return t&&t!=="?"&&(i+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(i+=n.charAt(0)==="#"?n:"#"+n),i}function vo(i){let t={};if(i){let n=i.indexOf("#");n>=0&&(t.hash=i.substring(n),i=i.substring(0,n));let s=i.indexOf("?");s>=0&&(t.search=i.substring(s),i=i.substring(0,s)),i&&(t.pathname=i)}return t}function PS(i,t,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,m="POP",p=null,g=v();g==null&&(g=0,f.replaceState({...f.state,idx:g},""));function v(){return(f.state||{idx:null}).idx}function b(){m="POP";let L=v(),Z=L==null?null:L-g;g=L,p&&p({action:m,location:Q.location,delta:Z})}function w(L,Z){m="PUSH";let q=Om(Q.location,L,Z);g=v()+1;let Y=Hv(q,g),at=Q.createHref(q);try{f.pushState(Y,"",at)}catch(rt){if(rt instanceof DOMException&&rt.name==="DataCloneError")throw rt;o.location.assign(at)}u&&p&&p({action:m,location:Q.location,delta:1})}function V(L,Z){m="REPLACE";let q=Om(Q.location,L,Z);g=v();let Y=Hv(q,g),at=Q.createHref(q);f.replaceState(Y,"",at),u&&p&&p({action:m,location:Q.location,delta:0})}function K(L){return kS(L)}let Q={get action(){return m},get location(){return i(o,f)},listen(L){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(qv,b),p=L,()=>{o.removeEventListener(qv,b),p=null}},createHref(L){return t(o,L)},createURL:K,encodeLocation(L){let Z=K(L);return{pathname:Z.pathname,search:Z.search,hash:Z.hash}},push:w,replace:V,go(L){return f.go(L)}};return Q}function kS(i,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),oe(n,"No window.location.(origin|href) available to create URL");let s=typeof i=="string"?i:Wl(i);return s=s.replace(/ $/,"%20"),!t&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function N0(i,t,n="/"){return LS(i,t,n,!1)}function LS(i,t,n,s){let o=typeof t=="string"?vo(t):t,u=Zi(o.pathname||"/",n);if(u==null)return null;let f=O0(i);US(f);let m=null;for(let p=0;m==null&&p<f.length;++p){let g=YS(u);m=KS(f[p],g,s)}return m}function O0(i,t=[],n=[],s="",o=!1){let u=(f,m,p=o,g)=>{let v={relativePath:g===void 0?f.path||"":g,caseSensitive:f.caseSensitive===!0,childrenIndex:m,route:f};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(s)&&p)return;oe(v.relativePath.startsWith(s),`Absolute route path "${v.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(s.length)}let b=Xi([s,v.relativePath]),w=n.concat(v);f.children&&f.children.length>0&&(oe(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),O0(f.children,t,w,b,p)),!(f.path==null&&!f.index)&&t.push({path:b,score:GS(b,f.index),routesMeta:w})};return i.forEach((f,m)=>{if(f.path===""||!f.path?.includes("?"))u(f,m);else for(let p of x0(f.path))u(f,m,!0,p)}),t}function x0(i){let t=i.split("/");if(t.length===0)return[];let[n,...s]=t,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=x0(s.join("/")),m=[];return m.push(...f.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...f),m.map(p=>i.startsWith("/")&&p===""?"/":p)}function US(i){i.sort((t,n)=>t.score!==n.score?n.score-t.score:$S(t.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var zS=/^:[\w-]+$/,BS=3,jS=2,qS=1,HS=10,FS=-2,Fv=i=>i==="*";function GS(i,t){let n=i.split("/"),s=n.length;return n.some(Fv)&&(s+=FS),t&&(s+=jS),n.filter(o=>!Fv(o)).reduce((o,u)=>o+(zS.test(u)?BS:u===""?qS:HS),s)}function $S(i,t){return i.length===t.length&&i.slice(0,-1).every((s,o)=>s===t[o])?i[i.length-1]-t[t.length-1]:0}function KS(i,t,n=!1){let{routesMeta:s}=i,o={},u="/",f=[];for(let m=0;m<s.length;++m){let p=s[m],g=m===s.length-1,v=u==="/"?t:t.slice(u.length)||"/",b=uh({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},v),w=p.route;if(!b&&g&&n&&!s[s.length-1].route.index&&(b=uh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},v)),!b)return null;Object.assign(o,b.params),f.push({params:o,pathname:Xi([u,b.pathname]),pathnameBase:JS(Xi([u,b.pathnameBase])),route:w}),b.pathnameBase!=="/"&&(u=Xi([u,b.pathnameBase]))}return f}function uh(i,t){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[n,s]=QS(i.path,i.caseSensitive,i.end),o=t.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((g,{paramName:v,isOptional:b},w)=>{if(v==="*"){let K=m[w]||"";f=u.slice(0,u.length-K.length).replace(/(.)\/+$/,"$1")}const V=m[w];return b&&!V?g[v]=void 0:g[v]=(V||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:f,pattern:i}}function QS(i,t=!1,n=!0){Wn(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return i.endsWith("*")?(s.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),s]}function YS(i){try{return i.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Wn(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),i}}function Zi(i,t){if(t==="/")return i;if(!i.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,s=i.charAt(n);return s&&s!=="/"?null:i.slice(n)||"/"}function XS(i,t="/"){let{pathname:n,search:s="",hash:o=""}=typeof i=="string"?vo(i):i;return{pathname:n?n.startsWith("/")?n:WS(n,t):t,search:tw(s),hash:ew(o)}}function WS(i,t){let n=t.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function mm(i,t,n,s){return`Cannot include a '${i}' character in a manually specified \`to.${t}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function ZS(i){return i.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function mp(i){let t=ZS(i);return t.map((n,s)=>s===t.length-1?n.pathname:n.pathnameBase)}function pp(i,t,n,s=!1){let o;typeof i=="string"?o=vo(i):(o={...i},oe(!o.pathname||!o.pathname.includes("?"),mm("?","pathname","search",o)),oe(!o.pathname||!o.pathname.includes("#"),mm("#","pathname","hash",o)),oe(!o.search||!o.search.includes("#"),mm("#","search","hash",o)));let u=i===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let b=t.length-1;if(!s&&f.startsWith("..")){let w=f.split("/");for(;w[0]==="..";)w.shift(),b-=1;o.pathname=w.join("/")}m=b>=0?t[b]:"/"}let p=XS(o,m),g=f&&f!=="/"&&f.endsWith("/"),v=(u||f===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||v)&&(p.pathname+="/"),p}var Xi=i=>i.join("/").replace(/\/\/+/g,"/"),JS=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),tw=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,ew=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function nw(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var M0=["POST","PUT","PATCH","DELETE"];new Set(M0);var iw=["GET",...M0];new Set(iw);var To=B.createContext(null);To.displayName="DataRouter";var Vh=B.createContext(null);Vh.displayName="DataRouterState";B.createContext(!1);var V0=B.createContext({isTransitioning:!1});V0.displayName="ViewTransition";var rw=B.createContext(new Map);rw.displayName="Fetchers";var sw=B.createContext(null);sw.displayName="Await";var ti=B.createContext(null);ti.displayName="Navigation";var uu=B.createContext(null);uu.displayName="Location";var ei=B.createContext({outlet:null,matches:[],isDataRoute:!1});ei.displayName="Route";var gp=B.createContext(null);gp.displayName="RouteError";function aw(i,{relative:t}={}){oe(Eo(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=B.useContext(ti),{hash:o,pathname:u,search:f}=cu(i,{relative:t}),m=u;return n!=="/"&&(m=u==="/"?n:Xi([n,u])),s.createHref({pathname:m,search:f,hash:o})}function Eo(){return B.useContext(uu)!=null}function os(){return oe(Eo(),"useLocation() may be used only in the context of a <Router> component."),B.useContext(uu).location}var P0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function k0(i){B.useContext(ti).static||B.useLayoutEffect(i)}function ls(){let{isDataRoute:i}=B.useContext(ei);return i?Tw():ow()}function ow(){oe(Eo(),"useNavigate() may be used only in the context of a <Router> component.");let i=B.useContext(To),{basename:t,navigator:n}=B.useContext(ti),{matches:s}=B.useContext(ei),{pathname:o}=os(),u=JSON.stringify(mp(s)),f=B.useRef(!1);return k0(()=>{f.current=!0}),B.useCallback((p,g={})=>{if(Wn(f.current,P0),!f.current)return;if(typeof p=="number"){n.go(p);return}let v=pp(p,JSON.parse(u),o,g.relative==="path");i==null&&t!=="/"&&(v.pathname=v.pathname==="/"?t:Xi([t,v.pathname])),(g.replace?n.replace:n.push)(v,g.state,g)},[t,n,u,o,i])}B.createContext(null);function lw(){let{matches:i}=B.useContext(ei),t=i[i.length-1];return t?t.params:{}}function cu(i,{relative:t}={}){let{matches:n}=B.useContext(ei),{pathname:s}=os(),o=JSON.stringify(mp(n));return B.useMemo(()=>pp(i,JSON.parse(o),s,t==="path"),[i,o,s,t])}function uw(i,t){return L0(i,t)}function L0(i,t,n,s,o){oe(Eo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=B.useContext(ti),{matches:f}=B.useContext(ei),m=f[f.length-1],p=m?m.params:{},g=m?m.pathname:"/",v=m?m.pathnameBase:"/",b=m&&m.route;{let q=b&&b.path||"";U0(g,!b||q.endsWith("*")||q.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${q}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${q}"> to <Route path="${q==="/"?"*":`${q}/*`}">.`)}let w=os(),V;if(t){let q=typeof t=="string"?vo(t):t;oe(v==="/"||q.pathname?.startsWith(v),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${q.pathname}" was given in the \`location\` prop.`),V=q}else V=w;let K=V.pathname||"/",Q=K;if(v!=="/"){let q=v.replace(/^\//,"").split("/");Q="/"+K.replace(/^\//,"").split("/").slice(q.length).join("/")}let L=N0(i,{pathname:Q});Wn(b||L!=null,`No routes matched location "${V.pathname}${V.search}${V.hash}" `),Wn(L==null||L[L.length-1].route.element!==void 0||L[L.length-1].route.Component!==void 0||L[L.length-1].route.lazy!==void 0,`Matched leaf route at location "${V.pathname}${V.search}${V.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let Z=mw(L&&L.map(q=>Object.assign({},q,{params:Object.assign({},p,q.params),pathname:Xi([v,u.encodeLocation?u.encodeLocation(q.pathname).pathname:q.pathname]),pathnameBase:q.pathnameBase==="/"?v:Xi([v,u.encodeLocation?u.encodeLocation(q.pathnameBase).pathname:q.pathnameBase])})),f,n,s,o);return t&&Z?B.createElement(uu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...V},navigationType:"POP"}},Z):Z}function cw(){let i=vw(),t=nw(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),n=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",i),f=B.createElement(B.Fragment,null,B.createElement("p",null," Hey developer "),B.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",B.createElement("code",{style:u},"ErrorBoundary")," or"," ",B.createElement("code",{style:u},"errorElement")," prop on your route.")),B.createElement(B.Fragment,null,B.createElement("h2",null,"Unexpected Application Error!"),B.createElement("h3",{style:{fontStyle:"italic"}},t),n?B.createElement("pre",{style:o},n):null,f)}var hw=B.createElement(cw,null),fw=class extends B.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,t){return t.location!==i.location||t.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:t.error,location:t.location,revalidation:i.revalidation||t.revalidation}}componentDidCatch(i,t){this.props.unstable_onError?this.props.unstable_onError(i,t):console.error("React Router caught the following error during render",i)}render(){return this.state.error!==void 0?B.createElement(ei.Provider,{value:this.props.routeContext},B.createElement(gp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function dw({routeContext:i,match:t,children:n}){let s=B.useContext(To);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),B.createElement(ei.Provider,{value:i},n)}function mw(i,t=[],n=null,s=null,o=null){if(i==null){if(!n)return null;if(n.errors)i=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)i=n.matches;else return null}let u=i,f=n?.errors;if(f!=null){let g=u.findIndex(v=>v.route.id&&f?.[v.route.id]!==void 0);oe(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),u=u.slice(0,Math.min(u.length,g+1))}let m=!1,p=-1;if(n)for(let g=0;g<u.length;g++){let v=u[g];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(p=g),v.route.id){let{loaderData:b,errors:w}=n,V=v.route.loader&&!b.hasOwnProperty(v.route.id)&&(!w||w[v.route.id]===void 0);if(v.route.lazy||V){m=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}return u.reduceRight((g,v,b)=>{let w,V=!1,K=null,Q=null;n&&(w=f&&v.route.id?f[v.route.id]:void 0,K=v.route.errorElement||hw,m&&(p<0&&b===0?(U0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),V=!0,Q=null):p===b&&(V=!0,Q=v.route.hydrateFallbackElement||null)));let L=t.concat(u.slice(0,b+1)),Z=()=>{let q;return w?q=K:V?q=Q:v.route.Component?q=B.createElement(v.route.Component,null):v.route.element?q=v.route.element:q=g,B.createElement(dw,{match:v,routeContext:{outlet:g,matches:L,isDataRoute:n!=null},children:q})};return n&&(v.route.ErrorBoundary||v.route.errorElement||b===0)?B.createElement(fw,{location:n.location,revalidation:n.revalidation,component:K,error:w,children:Z(),routeContext:{outlet:null,matches:L,isDataRoute:!0},unstable_onError:s}):Z()},null)}function yp(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function pw(i){let t=B.useContext(To);return oe(t,yp(i)),t}function gw(i){let t=B.useContext(Vh);return oe(t,yp(i)),t}function yw(i){let t=B.useContext(ei);return oe(t,yp(i)),t}function _p(i){let t=yw(i),n=t.matches[t.matches.length-1];return oe(n.route.id,`${i} can only be used on routes that contain a unique "id"`),n.route.id}function _w(){return _p("useRouteId")}function vw(){let i=B.useContext(gp),t=gw("useRouteError"),n=_p("useRouteError");return i!==void 0?i:t.errors?.[n]}function Tw(){let{router:i}=pw("useNavigate"),t=_p("useNavigate"),n=B.useRef(!1);return k0(()=>{n.current=!0}),B.useCallback(async(o,u={})=>{Wn(n.current,P0),n.current&&(typeof o=="number"?i.navigate(o):await i.navigate(o,{fromRouteId:t,...u}))},[i,t])}var Gv={};function U0(i,t,n){!t&&!Gv[i]&&(Gv[i]=!0,Wn(!1,n))}B.memo(Ew);function Ew({routes:i,future:t,state:n,unstable_onError:s}){return L0(i,void 0,n,s,t)}function Hc({to:i,replace:t,state:n,relative:s}){oe(Eo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=B.useContext(ti);Wn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=B.useContext(ei),{pathname:f}=os(),m=ls(),p=pp(i,mp(u),f,s==="path"),g=JSON.stringify(p);return B.useEffect(()=>{m(JSON.parse(g),{replace:t,state:n,relative:s})},[m,g,s,t,n]),null}function xm(i){oe(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function bw({basename:i="/",children:t=null,location:n,navigationType:s="POP",navigator:o,static:u=!1}){oe(!Eo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=i.replace(/^\/*/,"/"),m=B.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof n=="string"&&(n=vo(n));let{pathname:p="/",search:g="",hash:v="",state:b=null,key:w="default"}=n,V=B.useMemo(()=>{let K=Zi(p,f);return K==null?null:{location:{pathname:K,search:g,hash:v,state:b,key:w},navigationType:s}},[f,p,g,v,b,w,s]);return Wn(V!=null,`<Router basename="${f}"> is not able to match the URL "${p}${g}${v}" because it does not start with the basename, so the <Router> won't render anything.`),V==null?null:B.createElement(ti.Provider,{value:m},B.createElement(uu.Provider,{children:t,value:V}))}function Aw({children:i,location:t}){return uw(Mm(i),t)}function Mm(i,t=[]){let n=[];return B.Children.forEach(i,(s,o)=>{if(!B.isValidElement(s))return;let u=[...t,o];if(s.type===B.Fragment){n.push.apply(n,Mm(s.props.children,u));return}oe(s.type===xm,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),oe(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=Mm(s.props.children,u)),n.push(f)}),n}var Wc="get",Zc="application/x-www-form-urlencoded";function Ph(i){return i!=null&&typeof i.tagName=="string"}function Sw(i){return Ph(i)&&i.tagName.toLowerCase()==="button"}function ww(i){return Ph(i)&&i.tagName.toLowerCase()==="form"}function Rw(i){return Ph(i)&&i.tagName.toLowerCase()==="input"}function Iw(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function Cw(i,t){return i.button===0&&(!t||t==="_self")&&!Iw(i)}var Fc=null;function Dw(){if(Fc===null)try{new FormData(document.createElement("form"),0),Fc=!1}catch{Fc=!0}return Fc}var Nw=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function pm(i){return i!=null&&!Nw.has(i)?(Wn(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Zc}"`),null):i}function Ow(i,t){let n,s,o,u,f;if(ww(i)){let m=i.getAttribute("action");s=m?Zi(m,t):null,n=i.getAttribute("method")||Wc,o=pm(i.getAttribute("enctype"))||Zc,u=new FormData(i)}else if(Sw(i)||Rw(i)&&(i.type==="submit"||i.type==="image")){let m=i.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=i.getAttribute("formaction")||m.getAttribute("action");if(s=p?Zi(p,t):null,n=i.getAttribute("formmethod")||m.getAttribute("method")||Wc,o=pm(i.getAttribute("formenctype"))||pm(m.getAttribute("enctype"))||Zc,u=new FormData(m,i),!Dw()){let{name:g,type:v,value:b}=i;if(v==="image"){let w=g?`${g}.`:"";u.append(`${w}x`,"0"),u.append(`${w}y`,"0")}else g&&u.append(g,b)}}else{if(Ph(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Wc,s=null,o=Zc,f=i}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function vp(i,t){if(i===!1||i===null||typeof i>"u")throw new Error(t)}function xw(i,t,n){let s=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return s.pathname==="/"?s.pathname=`_root.${n}`:t&&Zi(s.pathname,t)==="/"?s.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function Mw(i,t){if(i.id in t)return t[i.id];try{let n=await import(i.module);return t[i.id]=n,n}catch(n){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Vw(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function Pw(i,t,n){let s=await Promise.all(i.map(async o=>{let u=t.routes[o.route.id];if(u){let f=await Mw(u,n);return f.links?f.links():[]}return[]}));return zw(s.flat(1).filter(Vw).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function $v(i,t,n,s,o,u){let f=(p,g)=>n[g]?p.route.id!==n[g].route.id:!0,m=(p,g)=>n[g].pathname!==p.pathname||n[g].route.path?.endsWith("*")&&n[g].params["*"]!==p.params["*"];return u==="assets"?t.filter((p,g)=>f(p,g)||m(p,g)):u==="data"?t.filter((p,g)=>{let v=s.routes[p.route.id];if(!v||!v.hasLoader)return!1;if(f(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let b=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(i,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function kw(i,t,{includeHydrateFallback:n}={}){return Lw(i.map(s=>{let o=t.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function Lw(i){return[...new Set(i)]}function Uw(i){let t={},n=Object.keys(i).sort();for(let s of n)t[s]=i[s];return t}function zw(i,t){let n=new Set;return new Set(t),i.reduce((s,o)=>{let u=JSON.stringify(Uw(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function z0(){let i=B.useContext(To);return vp(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function Bw(){let i=B.useContext(Vh);return vp(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var Tp=B.createContext(void 0);Tp.displayName="FrameworkContext";function B0(){let i=B.useContext(Tp);return vp(i,"You must render this element inside a <HydratedRouter> element"),i}function jw(i,t){let n=B.useContext(Tp),[s,o]=B.useState(!1),[u,f]=B.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:v,onTouchStart:b}=t,w=B.useRef(null);B.useEffect(()=>{if(i==="render"&&f(!0),i==="viewport"){let Q=Z=>{Z.forEach(q=>{f(q.isIntersecting)})},L=new IntersectionObserver(Q,{threshold:.5});return w.current&&L.observe(w.current),()=>{L.disconnect()}}},[i]),B.useEffect(()=>{if(s){let Q=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(Q)}}},[s]);let V=()=>{o(!0)},K=()=>{o(!1),f(!1)};return n?i!=="intent"?[u,w,{}]:[u,w,{onFocus:zl(m,V),onBlur:zl(p,K),onMouseEnter:zl(g,V),onMouseLeave:zl(v,K),onTouchStart:zl(b,V)}]:[!1,w,{}]}function zl(i,t){return n=>{i&&i(n),n.defaultPrevented||t(n)}}function qw({page:i,...t}){let{router:n}=z0(),s=B.useMemo(()=>N0(n.routes,i,n.basename),[n.routes,i,n.basename]);return s?B.createElement(Fw,{page:i,matches:s,...t}):null}function Hw(i){let{manifest:t,routeModules:n}=B0(),[s,o]=B.useState([]);return B.useEffect(()=>{let u=!1;return Pw(i,t,n).then(f=>{u||o(f)}),()=>{u=!0}},[i,t,n]),s}function Fw({page:i,matches:t,...n}){let s=os(),{manifest:o,routeModules:u}=B0(),{basename:f}=z0(),{loaderData:m,matches:p}=Bw(),g=B.useMemo(()=>$v(i,t,p,o,s,"data"),[i,t,p,o,s]),v=B.useMemo(()=>$v(i,t,p,o,s,"assets"),[i,t,p,o,s]),b=B.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let K=new Set,Q=!1;if(t.forEach(Z=>{let q=o.routes[Z.route.id];!q||!q.hasLoader||(!g.some(Y=>Y.route.id===Z.route.id)&&Z.route.id in m&&u[Z.route.id]?.shouldRevalidate||q.hasClientLoader?Q=!0:K.add(Z.route.id))}),K.size===0)return[];let L=xw(i,f,"data");return Q&&K.size>0&&L.searchParams.set("_routes",t.filter(Z=>K.has(Z.route.id)).map(Z=>Z.route.id).join(",")),[L.pathname+L.search]},[f,m,s,o,g,t,i,u]),w=B.useMemo(()=>kw(v,o),[v,o]),V=Hw(v);return B.createElement(B.Fragment,null,b.map(K=>B.createElement("link",{key:K,rel:"prefetch",as:"fetch",href:K,...n})),w.map(K=>B.createElement("link",{key:K,rel:"modulepreload",href:K,...n})),V.map(({key:K,link:Q})=>B.createElement("link",{key:K,nonce:n.nonce,...Q})))}function Gw(...i){return t=>{i.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var j0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{j0&&(window.__reactRouterVersion="7.9.1")}catch{}function $w({basename:i,children:t,window:n}){let s=B.useRef();s.current==null&&(s.current=MS({window:n,v5Compat:!0}));let o=s.current,[u,f]=B.useState({action:o.action,location:o.location}),m=B.useCallback(p=>{B.startTransition(()=>f(p))},[f]);return B.useLayoutEffect(()=>o.listen(m),[o,m]),B.createElement(bw,{basename:i,children:t,location:u.location,navigationType:u.action,navigator:o})}var q0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ch=B.forwardRef(function({onClick:t,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:m,target:p,to:g,preventScrollReset:v,viewTransition:b,...w},V){let{basename:K}=B.useContext(ti),Q=typeof g=="string"&&q0.test(g),L,Z=!1;if(typeof g=="string"&&Q&&(L=g,j0))try{let R=new URL(window.location.href),M=g.startsWith("//")?new URL(R.protocol+g):new URL(g),N=Zi(M.pathname,K);M.origin===R.origin&&N!=null?g=N+M.search+M.hash:Z=!0}catch{Wn(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let q=aw(g,{relative:o}),[Y,at,rt]=jw(s,w),dt=Xw(g,{replace:f,state:m,target:p,preventScrollReset:v,relative:o,viewTransition:b});function I(R){t&&t(R),R.defaultPrevented||dt(R)}let S=B.createElement("a",{...w,...rt,href:L||q,onClick:Z||u?t:I,ref:Gw(V,at),target:p,"data-discover":!Q&&n==="render"?"true":void 0});return Y&&!Q?B.createElement(B.Fragment,null,S,B.createElement(qw,{page:q})):S});ch.displayName="Link";var Kw=B.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:m,children:p,...g},v){let b=cu(f,{relative:g.relative}),w=os(),V=B.useContext(Vh),{navigator:K,basename:Q}=B.useContext(ti),L=V!=null&&eR(b)&&m===!0,Z=K.encodeLocation?K.encodeLocation(b).pathname:b.pathname,q=w.pathname,Y=V&&V.navigation&&V.navigation.location?V.navigation.location.pathname:null;n||(q=q.toLowerCase(),Y=Y?Y.toLowerCase():null,Z=Z.toLowerCase()),Y&&Q&&(Y=Zi(Y,Q)||Y);const at=Z!=="/"&&Z.endsWith("/")?Z.length-1:Z.length;let rt=q===Z||!o&&q.startsWith(Z)&&q.charAt(at)==="/",dt=Y!=null&&(Y===Z||!o&&Y.startsWith(Z)&&Y.charAt(Z.length)==="/"),I={isActive:rt,isPending:dt,isTransitioning:L},S=rt?t:void 0,R;typeof s=="function"?R=s(I):R=[s,rt?"active":null,dt?"pending":null,L?"transitioning":null].filter(Boolean).join(" ");let M=typeof u=="function"?u(I):u;return B.createElement(ch,{...g,"aria-current":S,className:R,ref:v,style:M,to:f,viewTransition:m},typeof p=="function"?p(I):p)});Kw.displayName="NavLink";var Qw=B.forwardRef(({discover:i="render",fetcherKey:t,navigate:n,reloadDocument:s,replace:o,state:u,method:f=Wc,action:m,onSubmit:p,relative:g,preventScrollReset:v,viewTransition:b,...w},V)=>{let K=Jw(),Q=tR(m,{relative:g}),L=f.toLowerCase()==="get"?"get":"post",Z=typeof m=="string"&&q0.test(m),q=Y=>{if(p&&p(Y),Y.defaultPrevented)return;Y.preventDefault();let at=Y.nativeEvent.submitter,rt=at?.getAttribute("formmethod")||f;K(at||Y.currentTarget,{fetcherKey:t,method:rt,navigate:n,replace:o,state:u,relative:g,preventScrollReset:v,viewTransition:b})};return B.createElement("form",{ref:V,method:L,action:Q,onSubmit:s?p:q,...w,"data-discover":!Z&&i==="render"?"true":void 0})});Qw.displayName="Form";function Yw(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function H0(i){let t=B.useContext(To);return oe(t,Yw(i)),t}function Xw(i,{target:t,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:f}={}){let m=ls(),p=os(),g=cu(i,{relative:u});return B.useCallback(v=>{if(Cw(v,t)){v.preventDefault();let b=n!==void 0?n:Wl(p)===Wl(g);m(i,{replace:b,state:s,preventScrollReset:o,relative:u,viewTransition:f})}},[p,m,g,n,s,t,i,o,u,f])}var Ww=0,Zw=()=>`__${String(++Ww)}__`;function Jw(){let{router:i}=H0("useSubmit"),{basename:t}=B.useContext(ti),n=_w();return B.useCallback(async(s,o={})=>{let{action:u,method:f,encType:m,formData:p,body:g}=Ow(s,t);if(o.navigate===!1){let v=o.fetcherKey||Zw();await i.fetch(v,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||f,formEncType:o.encType||m,flushSync:o.flushSync})}else await i.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||f,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[i,t,n])}function tR(i,{relative:t}={}){let{basename:n}=B.useContext(ti),s=B.useContext(ei);oe(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...cu(i||".",{relative:t})},f=os();if(i==null){u.search=f.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(v=>v==="")){m.delete("index"),p.filter(b=>b).forEach(b=>m.append("index",b));let v=m.toString();u.search=v?`?${v}`:""}}return(!i||i===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:Xi([n,u.pathname])),Wl(u)}function eR(i,{relative:t}={}){let n=B.useContext(V0);oe(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=H0("useViewTransitionState"),o=cu(i,{relative:t});if(!n.isTransitioning)return!1;let u=Zi(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=Zi(n.nextLocation.pathname,s)||n.nextLocation.pathname;return uh(o.pathname,f)!=null||uh(o.pathname,u)!=null}const F0=B.createContext(void 0),nR=({children:i})=>{const[t,n]=B.useState(localStorage.getItem("Auth_token")),[s,o]=B.useState(localStorage.getItem("role")),[u,f]=B.useState(null);B.useEffect(()=>{const g=localStorage.getItem("Auth_token"),v=localStorage.getItem("role");g&&n(g),v&&o(v)},[]);const m=(g,v,b)=>{n(g),o(v),f(b),localStorage.setItem("Auth_token",g),localStorage.setItem("role",v)},p=()=>{n(null),o(null),localStorage.removeItem("Auth_token"),localStorage.removeItem("role")};return F.jsx(F0.Provider,{value:{Auth:t,Role:s,login:m,logout:p,userName:u,setUserName:f},children:i})},kh=()=>{const i=B.useContext(F0);if(!i)throw new Error("useAuthContext must be used within an AuthProvider");return i},iR=()=>{const{Auth:t,Role:n,userName:s,logout:o}=kh(),u=ls(),f=()=>{o(),u("/login")};return F.jsx("nav",{className:"navbar navbar-expand-lg bg-light border-bottom shadow-sm",children:F.jsxs("div",{className:"container-fluid",children:[F.jsx("a",{className:"navbar-brand fw-bold text-primary",href:"#",children:"EMS"}),F.jsx("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation",children:F.jsx("span",{className:"navbar-toggler-icon"})}),F.jsxs("div",{className:"collapse navbar-collapse",id:"navbarNav",children:[F.jsx("ul",{className:"navbar-nav me-auto mb-2 mb-lg-0"}),F.jsx("div",{className:"nav-item",children:F.jsx("div",{className:"d-flex align-items-center gap-3",children:t?F.jsxs(F.Fragment,{children:[F.jsxs("span",{className:"fw-semibold text-primary",children:["Howdy, ",s]}),F.jsx("button",{className:"btn btn-outline-danger",onClick:f,children:"Logout"})]}):F.jsxs(F.Fragment,{children:[F.jsx(ch,{className:"btn btn-outline-primary",to:"/login",children:"Login"}),F.jsx(ch,{className:"btn btn-primary",to:"/register",children:"Register"})]})})})]})]})})},G0=()=>F.jsx("div",{className:"d-flex justify-content-center align-items-center vh-100",children:F.jsx("h1",{className:"text-danger display-4",children:"Page Not Found"})}),rR=({children:i,role:t,path:n})=>{const{Auth:s,Role:o}=kh();return console.log(s,o),s?n==="/ems-firebase"?o==="HR"?F.jsx(Hc,{to:"/hrinfo",replace:!0}):F.jsx(Hc,{to:"/emsinfo",replace:!0}):o==="HR"&&t==="HR"?F.jsx(F.Fragment,{children:i}):o==="EMP"&&t==="EMP"?F.jsx(F.Fragment,{children:i}):F.jsx(Hc,{to:"/ErrorPage",replace:!0}):F.jsx(Hc,{to:"/login",replace:!0})},sR=()=>{};var Kv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $0=function(i){const t=[];let n=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=o&63|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=o&63|128)}return t},aR=function(i){const t=[];let n=0,s=0;for(;n<i.length;){const o=i[n++];if(o<128)t[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[n++];t[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[n++],f=i[n++],m=i[n++],p=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;t[s++]=String.fromCharCode(55296+(p>>10)),t[s++]=String.fromCharCode(56320+(p&1023))}else{const u=i[n++],f=i[n++];t[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return t.join("")},K0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,t){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const u=i[o],f=o+1<i.length,m=f?i[o+1]:0,p=o+2<i.length,g=p?i[o+2]:0,v=u>>2,b=(u&3)<<4|m>>4;let w=(m&15)<<2|g>>6,V=g&63;p||(V=64,f||(w=64)),s.push(n[v],n[b],n[w],n[V])}return s.join("")},encodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(i):this.encodeByteArray($0(i),t)},decodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(i):aR(this.decodeStringToByteArray(i,t))},decodeStringToByteArray(i,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const u=n[i.charAt(o++)],m=o<i.length?n[i.charAt(o)]:0;++o;const g=o<i.length?n[i.charAt(o)]:64;++o;const b=o<i.length?n[i.charAt(o)]:64;if(++o,u==null||m==null||g==null||b==null)throw new oR;const w=u<<2|m>>4;if(s.push(w),g!==64){const V=m<<4&240|g>>2;if(s.push(V),b!==64){const K=g<<6&192|b;s.push(K)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class oR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const lR=function(i){const t=$0(i);return K0.encodeByteArray(t,!0)},hh=function(i){return lR(i).replace(/\./g,"")},Q0=function(i){try{return K0.decodeString(i,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cR=()=>uR().__FIREBASE_DEFAULTS__,hR=()=>{if(typeof process>"u"||typeof Kv>"u")return;const i=Kv.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},fR=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=i&&Q0(i[1]);return t&&JSON.parse(t)},Lh=()=>{try{return sR()||cR()||hR()||fR()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},Y0=i=>Lh()?.emulatorHosts?.[i],dR=i=>{const t=Y0(i);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),s]:[t.substring(0,n),s]},X0=()=>Lh()?.config,W0=i=>Lh()?.[`_${i}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bo(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Z0(i){return(await fetch(i,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pR(i,t){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=t||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...i};return[hh(JSON.stringify(n)),hh(JSON.stringify(f)),""].join(".")}const Fl={};function gR(){const i={prod:[],emulator:[]};for(const t of Object.keys(Fl))Fl[t]?i.emulator.push(t):i.prod.push(t);return i}function yR(i){let t=document.getElementById(i),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",i),n=!0),{created:n,element:t}}let Qv=!1;function J0(i,t){if(typeof window>"u"||typeof document>"u"||!bo(window.location.host)||Fl[i]===t||Fl[i]||Qv)return;Fl[i]=t;function n(w){return`__firebase__banner__${w}`}const s="__firebase__banner",u=gR().prod.length>0;function f(){const w=document.getElementById(s);w&&w.remove()}function m(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function p(w,V){w.setAttribute("width","24"),w.setAttribute("id",V),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function g(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{Qv=!0,f()},w}function v(w,V){w.setAttribute("id",V),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function b(){const w=yR(s),V=n("text"),K=document.getElementById(V)||document.createElement("span"),Q=n("learnmore"),L=document.getElementById(Q)||document.createElement("a"),Z=n("preprendIcon"),q=document.getElementById(Z)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const Y=w.element;m(Y),v(L,Q);const at=g();p(q,Z),Y.append(q,K,L,at),document.body.appendChild(Y)}u?(K.innerText="Preview backend disconnected.",q.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(q.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,K.innerText="Preview backend running in this workspace."),K.setAttribute("id",V)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Je(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function _R(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Je())}function vR(){const i=Lh()?.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function TR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function tE(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function ER(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function bR(){const i=Je();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function AR(){return!vR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function eE(){try{return typeof indexedDB=="object"}catch{return!1}}function nE(){return new Promise((i,t)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{t(o.error?.message||"")}}catch(n){t(n)}})}function SR(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wR="FirebaseError";class ni extends Error{constructor(t,n,s){super(n),this.code=t,this.customData=s,this.name=wR,Object.setPrototypeOf(this,ni.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,aa.prototype.create)}}class aa{constructor(t,n,s){this.service=t,this.serviceName=n,this.errors=s}create(t,...n){const s=n[0]||{},o=`${this.service}/${t}`,u=this.errors[t],f=u?RR(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new ni(o,m,s)}}function RR(i,t){return i.replace(IR,(n,s)=>{const o=t[s];return o!=null?String(o):`<${s}?>`})}const IR=/\{\$([^}]+)}/g;function CR(i){for(const t in i)if(Object.prototype.hasOwnProperty.call(i,t))return!1;return!0}function ts(i,t){if(i===t)return!0;const n=Object.keys(i),s=Object.keys(t);for(const o of n){if(!s.includes(o))return!1;const u=i[o],f=t[o];if(Yv(u)&&Yv(f)){if(!ts(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function Yv(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hu(i){const t=[];for(const[n,s]of Object.entries(i))Array.isArray(s)?s.forEach(o=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function DR(i,t){const n=new NR(i,t);return n.subscribe.bind(n)}class NR{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,s){let o;if(t===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");OR(t,["next","error","complete"])?o=t:o={next:t,error:n,complete:s},o.next===void 0&&(o.next=gm),o.error===void 0&&(o.error=gm),o.complete===void 0&&(o.complete=gm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function OR(i,t){if(typeof i!="object"||i===null)return!1;for(const n of t)if(n in i&&typeof i[n]=="function")return!0;return!1}function gm(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xR=1e3,MR=2,VR=14400*1e3,PR=.5;function Xv(i,t=xR,n=MR){const s=t*Math.pow(n,i),o=Math.round(PR*s*(Math.random()-.5)*2);return Math.min(VR,s+o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fe(i){return i&&i._delegate?i._delegate:i}class Zn{constructor(t,n,s){this.name=t,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kR{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const s=new mR;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t?.identifier),s=t?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(UR(t))try{this.getOrInitializeService({instanceIdentifier:Qs})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(t=Qs){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Qs){return this.instances.has(t)}getOptions(t=Qs){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(t,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(t),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&t(u,s),()=>{o.delete(t)}}invokeOnInitCallbacks(t,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:LR(t),options:n}),this.instances.set(t,s),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=Qs){return this.component?this.component.multipleInstances?t:Qs:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function LR(i){return i===Qs?void 0:i}function UR(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zR{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new kR(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mt;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Mt||(Mt={}));const BR={debug:Mt.DEBUG,verbose:Mt.VERBOSE,info:Mt.INFO,warn:Mt.WARN,error:Mt.ERROR,silent:Mt.SILENT},jR=Mt.INFO,qR={[Mt.DEBUG]:"log",[Mt.VERBOSE]:"log",[Mt.INFO]:"info",[Mt.WARN]:"warn",[Mt.ERROR]:"error"},HR=(i,t,...n)=>{if(t<i.logLevel)return;const s=new Date().toISOString(),o=qR[t];if(o)console[o](`[${s}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Uh{constructor(t){this.name=t,this._logLevel=jR,this._logHandler=HR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Mt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?BR[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Mt.DEBUG,...t),this._logHandler(this,Mt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Mt.VERBOSE,...t),this._logHandler(this,Mt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Mt.INFO,...t),this._logHandler(this,Mt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Mt.WARN,...t),this._logHandler(this,Mt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Mt.ERROR,...t),this._logHandler(this,Mt.ERROR,...t)}}const FR=(i,t)=>t.some(n=>i instanceof n);let Wv,Zv;function GR(){return Wv||(Wv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function $R(){return Zv||(Zv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const iE=new WeakMap,Vm=new WeakMap,rE=new WeakMap,ym=new WeakMap,Ep=new WeakMap;function KR(i){const t=new Promise((n,s)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",f)},u=()=>{n(Xr(i.result)),o()},f=()=>{s(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",f)});return t.then(n=>{n instanceof IDBCursor&&iE.set(n,i)}).catch(()=>{}),Ep.set(t,i),t}function QR(i){if(Vm.has(i))return;const t=new Promise((n,s)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",f),i.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",f),i.addEventListener("abort",f)});Vm.set(i,t)}let Pm={get(i,t,n){if(i instanceof IDBTransaction){if(t==="done")return Vm.get(i);if(t==="objectStoreNames")return i.objectStoreNames||rE.get(i);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Xr(i[t])},set(i,t,n){return i[t]=n,!0},has(i,t){return i instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in i}};function YR(i){Pm=i(Pm)}function XR(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const s=i.call(_m(this),t,...n);return rE.set(s,t.sort?t.sort():[t]),Xr(s)}:$R().includes(i)?function(...t){return i.apply(_m(this),t),Xr(iE.get(this))}:function(...t){return Xr(i.apply(_m(this),t))}}function WR(i){return typeof i=="function"?XR(i):(i instanceof IDBTransaction&&QR(i),FR(i,GR())?new Proxy(i,Pm):i)}function Xr(i){if(i instanceof IDBRequest)return KR(i);if(ym.has(i))return ym.get(i);const t=WR(i);return t!==i&&(ym.set(i,t),Ep.set(t,i)),t}const _m=i=>Ep.get(i);function sE(i,t,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(i,t),m=Xr(f);return s&&f.addEventListener("upgradeneeded",p=>{s(Xr(f.result),p.oldVersion,p.newVersion,Xr(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const ZR=["get","getKey","getAll","getAllKeys","count"],JR=["put","add","delete","clear"],vm=new Map;function Jv(i,t){if(!(i instanceof IDBDatabase&&!(t in i)&&typeof t=="string"))return;if(vm.get(t))return vm.get(t);const n=t.replace(/FromIndex$/,""),s=t!==n,o=JR.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||ZR.includes(n)))return;const u=async function(f,...m){const p=this.transaction(f,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),o&&p.done]))[0]};return vm.set(t,u),u}YR(i=>({...i,get:(t,n,s)=>Jv(t,n)||i.get(t,n,s),has:(t,n)=>!!Jv(t,n)||i.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tI{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(eI(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function eI(i){return i.getComponent()?.type==="VERSION"}const km="@firebase/app",tT="0.14.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ji=new Uh("@firebase/app"),nI="@firebase/app-compat",iI="@firebase/analytics-compat",rI="@firebase/analytics",sI="@firebase/app-check-compat",aI="@firebase/app-check",oI="@firebase/auth",lI="@firebase/auth-compat",uI="@firebase/database",cI="@firebase/data-connect",hI="@firebase/database-compat",fI="@firebase/functions",dI="@firebase/functions-compat",mI="@firebase/installations",pI="@firebase/installations-compat",gI="@firebase/messaging",yI="@firebase/messaging-compat",_I="@firebase/performance",vI="@firebase/performance-compat",TI="@firebase/remote-config",EI="@firebase/remote-config-compat",bI="@firebase/storage",AI="@firebase/storage-compat",SI="@firebase/firestore",wI="@firebase/ai",RI="@firebase/firestore-compat",II="firebase",CI="12.3.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lm="[DEFAULT]",DI={[km]:"fire-core",[nI]:"fire-core-compat",[rI]:"fire-analytics",[iI]:"fire-analytics-compat",[aI]:"fire-app-check",[sI]:"fire-app-check-compat",[oI]:"fire-auth",[lI]:"fire-auth-compat",[uI]:"fire-rtdb",[cI]:"fire-data-connect",[hI]:"fire-rtdb-compat",[fI]:"fire-fn",[dI]:"fire-fn-compat",[mI]:"fire-iid",[pI]:"fire-iid-compat",[gI]:"fire-fcm",[yI]:"fire-fcm-compat",[_I]:"fire-perf",[vI]:"fire-perf-compat",[TI]:"fire-rc",[EI]:"fire-rc-compat",[bI]:"fire-gcs",[AI]:"fire-gcs-compat",[SI]:"fire-fst",[RI]:"fire-fst-compat",[wI]:"fire-vertex","fire-js":"fire-js",[II]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fh=new Map,NI=new Map,Um=new Map;function eT(i,t){try{i.container.addComponent(t)}catch(n){Ji.debug(`Component ${t.name} failed to register with FirebaseApp ${i.name}`,n)}}function wi(i){const t=i.name;if(Um.has(t))return Ji.debug(`There were multiple attempts to register component ${t}.`),!1;Um.set(t,i);for(const n of fh.values())eT(n,i);for(const n of NI.values())eT(n,i);return!0}function oa(i,t){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(t)}function _i(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Wr=new aa("app","Firebase",OI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xI{constructor(t,n,s){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Zn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Wr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ao=CI;function aE(i,t={}){let n=i;typeof t!="object"&&(t={name:t});const s={name:Lm,automaticDataCollectionEnabled:!0,...t},o=s.name;if(typeof o!="string"||!o)throw Wr.create("bad-app-name",{appName:String(o)});if(n||(n=X0()),!n)throw Wr.create("no-options");const u=fh.get(o);if(u){if(ts(n,u.options)&&ts(s,u.config))return u;throw Wr.create("duplicate-app",{appName:o})}const f=new zR(o);for(const p of Um.values())f.addComponent(p);const m=new xI(n,s,f);return fh.set(o,m),m}function bp(i=Lm){const t=fh.get(i);if(!t&&i===Lm&&X0())return aE();if(!t)throw Wr.create("no-app",{appName:i});return t}function Ln(i,t,n){let s=DI[i]??i;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=t.match(/\s|\//);if(o||u){const f=[`Unable to register library "${s}" with version "${t}":`];o&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Ji.warn(f.join(" "));return}wi(new Zn(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MI="firebase-heartbeat-database",VI=1,Zl="firebase-heartbeat-store";let Tm=null;function oE(){return Tm||(Tm=sE(MI,VI,{upgrade:(i,t)=>{switch(t){case 0:try{i.createObjectStore(Zl)}catch(n){console.warn(n)}}}}).catch(i=>{throw Wr.create("idb-open",{originalErrorMessage:i.message})})),Tm}async function PI(i){try{const n=(await oE()).transaction(Zl),s=await n.objectStore(Zl).get(lE(i));return await n.done,s}catch(t){if(t instanceof ni)Ji.warn(t.message);else{const n=Wr.create("idb-get",{originalErrorMessage:t?.message});Ji.warn(n.message)}}}async function nT(i,t){try{const s=(await oE()).transaction(Zl,"readwrite");await s.objectStore(Zl).put(t,lE(i)),await s.done}catch(n){if(n instanceof ni)Ji.warn(n.message);else{const s=Wr.create("idb-set",{originalErrorMessage:n?.message});Ji.warn(s.message)}}}function lE(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kI=1024,LI=30;class UI{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new BI(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=iT();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>LI){const o=jI(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Ji.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=iT(),{heartbeatsToSend:n,unsentEntries:s}=zI(this._heartbeatsCache.heartbeats),o=hh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Ji.warn(t),""}}}function iT(){return new Date().toISOString().substring(0,10)}function zI(i,t=kI){const n=[];let s=i.slice();for(const o of i){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),rT(n)>t){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),rT(n)>t){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class BI{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return eE()?nE().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await PI(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return nT(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return nT(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function rT(i){return hh(JSON.stringify({version:2,heartbeats:i})).length}function jI(i){if(i.length===0)return-1;let t=0,n=i[0].date;for(let s=1;s<i.length;s++)i[s].date<n&&(n=i[s].date,t=s);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qI(i){wi(new Zn("platform-logger",t=>new tI(t),"PRIVATE")),wi(new Zn("heartbeat",t=>new UI(t),"PRIVATE")),Ln(km,tT,i),Ln(km,tT,"esm2020"),Ln("fire-js","")}qI("");var sT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Zr,uE;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(I,S){function R(){}R.prototype=S.prototype,I.F=S.prototype,I.prototype=new R,I.prototype.constructor=I,I.D=function(M,N,P){for(var D=Array(arguments.length-2),se=2;se<arguments.length;se++)D[se-2]=arguments[se];return S.prototype[N].apply(M,D)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(I,S,R){R||(R=0);const M=Array(16);if(typeof S=="string")for(var N=0;N<16;++N)M[N]=S.charCodeAt(R++)|S.charCodeAt(R++)<<8|S.charCodeAt(R++)<<16|S.charCodeAt(R++)<<24;else for(N=0;N<16;++N)M[N]=S[R++]|S[R++]<<8|S[R++]<<16|S[R++]<<24;S=I.g[0],R=I.g[1],N=I.g[2];let P=I.g[3],D;D=S+(P^R&(N^P))+M[0]+3614090360&4294967295,S=R+(D<<7&4294967295|D>>>25),D=P+(N^S&(R^N))+M[1]+3905402710&4294967295,P=S+(D<<12&4294967295|D>>>20),D=N+(R^P&(S^R))+M[2]+606105819&4294967295,N=P+(D<<17&4294967295|D>>>15),D=R+(S^N&(P^S))+M[3]+3250441966&4294967295,R=N+(D<<22&4294967295|D>>>10),D=S+(P^R&(N^P))+M[4]+4118548399&4294967295,S=R+(D<<7&4294967295|D>>>25),D=P+(N^S&(R^N))+M[5]+1200080426&4294967295,P=S+(D<<12&4294967295|D>>>20),D=N+(R^P&(S^R))+M[6]+2821735955&4294967295,N=P+(D<<17&4294967295|D>>>15),D=R+(S^N&(P^S))+M[7]+4249261313&4294967295,R=N+(D<<22&4294967295|D>>>10),D=S+(P^R&(N^P))+M[8]+1770035416&4294967295,S=R+(D<<7&4294967295|D>>>25),D=P+(N^S&(R^N))+M[9]+2336552879&4294967295,P=S+(D<<12&4294967295|D>>>20),D=N+(R^P&(S^R))+M[10]+4294925233&4294967295,N=P+(D<<17&4294967295|D>>>15),D=R+(S^N&(P^S))+M[11]+2304563134&4294967295,R=N+(D<<22&4294967295|D>>>10),D=S+(P^R&(N^P))+M[12]+1804603682&4294967295,S=R+(D<<7&4294967295|D>>>25),D=P+(N^S&(R^N))+M[13]+4254626195&4294967295,P=S+(D<<12&4294967295|D>>>20),D=N+(R^P&(S^R))+M[14]+2792965006&4294967295,N=P+(D<<17&4294967295|D>>>15),D=R+(S^N&(P^S))+M[15]+1236535329&4294967295,R=N+(D<<22&4294967295|D>>>10),D=S+(N^P&(R^N))+M[1]+4129170786&4294967295,S=R+(D<<5&4294967295|D>>>27),D=P+(R^N&(S^R))+M[6]+3225465664&4294967295,P=S+(D<<9&4294967295|D>>>23),D=N+(S^R&(P^S))+M[11]+643717713&4294967295,N=P+(D<<14&4294967295|D>>>18),D=R+(P^S&(N^P))+M[0]+3921069994&4294967295,R=N+(D<<20&4294967295|D>>>12),D=S+(N^P&(R^N))+M[5]+3593408605&4294967295,S=R+(D<<5&4294967295|D>>>27),D=P+(R^N&(S^R))+M[10]+38016083&4294967295,P=S+(D<<9&4294967295|D>>>23),D=N+(S^R&(P^S))+M[15]+3634488961&4294967295,N=P+(D<<14&4294967295|D>>>18),D=R+(P^S&(N^P))+M[4]+3889429448&4294967295,R=N+(D<<20&4294967295|D>>>12),D=S+(N^P&(R^N))+M[9]+568446438&4294967295,S=R+(D<<5&4294967295|D>>>27),D=P+(R^N&(S^R))+M[14]+3275163606&4294967295,P=S+(D<<9&4294967295|D>>>23),D=N+(S^R&(P^S))+M[3]+4107603335&4294967295,N=P+(D<<14&4294967295|D>>>18),D=R+(P^S&(N^P))+M[8]+1163531501&4294967295,R=N+(D<<20&4294967295|D>>>12),D=S+(N^P&(R^N))+M[13]+2850285829&4294967295,S=R+(D<<5&4294967295|D>>>27),D=P+(R^N&(S^R))+M[2]+4243563512&4294967295,P=S+(D<<9&4294967295|D>>>23),D=N+(S^R&(P^S))+M[7]+1735328473&4294967295,N=P+(D<<14&4294967295|D>>>18),D=R+(P^S&(N^P))+M[12]+2368359562&4294967295,R=N+(D<<20&4294967295|D>>>12),D=S+(R^N^P)+M[5]+4294588738&4294967295,S=R+(D<<4&4294967295|D>>>28),D=P+(S^R^N)+M[8]+2272392833&4294967295,P=S+(D<<11&4294967295|D>>>21),D=N+(P^S^R)+M[11]+1839030562&4294967295,N=P+(D<<16&4294967295|D>>>16),D=R+(N^P^S)+M[14]+4259657740&4294967295,R=N+(D<<23&4294967295|D>>>9),D=S+(R^N^P)+M[1]+2763975236&4294967295,S=R+(D<<4&4294967295|D>>>28),D=P+(S^R^N)+M[4]+1272893353&4294967295,P=S+(D<<11&4294967295|D>>>21),D=N+(P^S^R)+M[7]+4139469664&4294967295,N=P+(D<<16&4294967295|D>>>16),D=R+(N^P^S)+M[10]+3200236656&4294967295,R=N+(D<<23&4294967295|D>>>9),D=S+(R^N^P)+M[13]+681279174&4294967295,S=R+(D<<4&4294967295|D>>>28),D=P+(S^R^N)+M[0]+3936430074&4294967295,P=S+(D<<11&4294967295|D>>>21),D=N+(P^S^R)+M[3]+3572445317&4294967295,N=P+(D<<16&4294967295|D>>>16),D=R+(N^P^S)+M[6]+76029189&4294967295,R=N+(D<<23&4294967295|D>>>9),D=S+(R^N^P)+M[9]+3654602809&4294967295,S=R+(D<<4&4294967295|D>>>28),D=P+(S^R^N)+M[12]+3873151461&4294967295,P=S+(D<<11&4294967295|D>>>21),D=N+(P^S^R)+M[15]+530742520&4294967295,N=P+(D<<16&4294967295|D>>>16),D=R+(N^P^S)+M[2]+3299628645&4294967295,R=N+(D<<23&4294967295|D>>>9),D=S+(N^(R|~P))+M[0]+4096336452&4294967295,S=R+(D<<6&4294967295|D>>>26),D=P+(R^(S|~N))+M[7]+1126891415&4294967295,P=S+(D<<10&4294967295|D>>>22),D=N+(S^(P|~R))+M[14]+2878612391&4294967295,N=P+(D<<15&4294967295|D>>>17),D=R+(P^(N|~S))+M[5]+4237533241&4294967295,R=N+(D<<21&4294967295|D>>>11),D=S+(N^(R|~P))+M[12]+1700485571&4294967295,S=R+(D<<6&4294967295|D>>>26),D=P+(R^(S|~N))+M[3]+2399980690&4294967295,P=S+(D<<10&4294967295|D>>>22),D=N+(S^(P|~R))+M[10]+4293915773&4294967295,N=P+(D<<15&4294967295|D>>>17),D=R+(P^(N|~S))+M[1]+2240044497&4294967295,R=N+(D<<21&4294967295|D>>>11),D=S+(N^(R|~P))+M[8]+1873313359&4294967295,S=R+(D<<6&4294967295|D>>>26),D=P+(R^(S|~N))+M[15]+4264355552&4294967295,P=S+(D<<10&4294967295|D>>>22),D=N+(S^(P|~R))+M[6]+2734768916&4294967295,N=P+(D<<15&4294967295|D>>>17),D=R+(P^(N|~S))+M[13]+1309151649&4294967295,R=N+(D<<21&4294967295|D>>>11),D=S+(N^(R|~P))+M[4]+4149444226&4294967295,S=R+(D<<6&4294967295|D>>>26),D=P+(R^(S|~N))+M[11]+3174756917&4294967295,P=S+(D<<10&4294967295|D>>>22),D=N+(S^(P|~R))+M[2]+718787259&4294967295,N=P+(D<<15&4294967295|D>>>17),D=R+(P^(N|~S))+M[9]+3951481745&4294967295,I.g[0]=I.g[0]+S&4294967295,I.g[1]=I.g[1]+(N+(D<<21&4294967295|D>>>11))&4294967295,I.g[2]=I.g[2]+N&4294967295,I.g[3]=I.g[3]+P&4294967295}s.prototype.v=function(I,S){S===void 0&&(S=I.length);const R=S-this.blockSize,M=this.C;let N=this.h,P=0;for(;P<S;){if(N==0)for(;P<=R;)o(this,I,P),P+=this.blockSize;if(typeof I=="string"){for(;P<S;)if(M[N++]=I.charCodeAt(P++),N==this.blockSize){o(this,M),N=0;break}}else for(;P<S;)if(M[N++]=I[P++],N==this.blockSize){o(this,M),N=0;break}}this.h=N,this.o+=S},s.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var S=1;S<I.length-8;++S)I[S]=0;S=this.o*8;for(var R=I.length-8;R<I.length;++R)I[R]=S&255,S/=256;for(this.v(I),I=Array(16),S=0,R=0;R<4;++R)for(let M=0;M<32;M+=8)I[S++]=this.g[R]>>>M&255;return I};function u(I,S){var R=m;return Object.prototype.hasOwnProperty.call(R,I)?R[I]:R[I]=S(I)}function f(I,S){this.h=S;const R=[];let M=!0;for(let N=I.length-1;N>=0;N--){const P=I[N]|0;M&&P==S||(R[N]=P,M=!1)}this.g=R}var m={};function p(I){return-128<=I&&I<128?u(I,function(S){return new f([S|0],S<0?-1:0)}):new f([I|0],I<0?-1:0)}function g(I){if(isNaN(I)||!isFinite(I))return b;if(I<0)return L(g(-I));const S=[];let R=1;for(let M=0;I>=R;M++)S[M]=I/R|0,R*=4294967296;return new f(S,0)}function v(I,S){if(I.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(I.charAt(0)=="-")return L(v(I.substring(1),S));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=g(Math.pow(S,8));let M=b;for(let P=0;P<I.length;P+=8){var N=Math.min(8,I.length-P);const D=parseInt(I.substring(P,P+N),S);N<8?(N=g(Math.pow(S,N)),M=M.j(N).add(g(D))):(M=M.j(R),M=M.add(g(D)))}return M}var b=p(0),w=p(1),V=p(16777216);i=f.prototype,i.m=function(){if(Q(this))return-L(this).m();let I=0,S=1;for(let R=0;R<this.g.length;R++){const M=this.i(R);I+=(M>=0?M:4294967296+M)*S,S*=4294967296}return I},i.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(K(this))return"0";if(Q(this))return"-"+L(this).toString(I);const S=g(Math.pow(I,6));var R=this;let M="";for(;;){const N=at(R,S).g;R=Z(R,N.j(S));let P=((R.g.length>0?R.g[0]:R.h)>>>0).toString(I);if(R=N,K(R))return P+M;for(;P.length<6;)P="0"+P;M=P+M}},i.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function K(I){if(I.h!=0)return!1;for(let S=0;S<I.g.length;S++)if(I.g[S]!=0)return!1;return!0}function Q(I){return I.h==-1}i.l=function(I){return I=Z(this,I),Q(I)?-1:K(I)?0:1};function L(I){const S=I.g.length,R=[];for(let M=0;M<S;M++)R[M]=~I.g[M];return new f(R,~I.h).add(w)}i.abs=function(){return Q(this)?L(this):this},i.add=function(I){const S=Math.max(this.g.length,I.g.length),R=[];let M=0;for(let N=0;N<=S;N++){let P=M+(this.i(N)&65535)+(I.i(N)&65535),D=(P>>>16)+(this.i(N)>>>16)+(I.i(N)>>>16);M=D>>>16,P&=65535,D&=65535,R[N]=D<<16|P}return new f(R,R[R.length-1]&-2147483648?-1:0)};function Z(I,S){return I.add(L(S))}i.j=function(I){if(K(this)||K(I))return b;if(Q(this))return Q(I)?L(this).j(L(I)):L(L(this).j(I));if(Q(I))return L(this.j(L(I)));if(this.l(V)<0&&I.l(V)<0)return g(this.m()*I.m());const S=this.g.length+I.g.length,R=[];for(var M=0;M<2*S;M++)R[M]=0;for(M=0;M<this.g.length;M++)for(let N=0;N<I.g.length;N++){const P=this.i(M)>>>16,D=this.i(M)&65535,se=I.i(N)>>>16,Wt=I.i(N)&65535;R[2*M+2*N]+=D*Wt,q(R,2*M+2*N),R[2*M+2*N+1]+=P*Wt,q(R,2*M+2*N+1),R[2*M+2*N+1]+=D*se,q(R,2*M+2*N+1),R[2*M+2*N+2]+=P*se,q(R,2*M+2*N+2)}for(I=0;I<S;I++)R[I]=R[2*I+1]<<16|R[2*I];for(I=S;I<2*S;I++)R[I]=0;return new f(R,0)};function q(I,S){for(;(I[S]&65535)!=I[S];)I[S+1]+=I[S]>>>16,I[S]&=65535,S++}function Y(I,S){this.g=I,this.h=S}function at(I,S){if(K(S))throw Error("division by zero");if(K(I))return new Y(b,b);if(Q(I))return S=at(L(I),S),new Y(L(S.g),L(S.h));if(Q(S))return S=at(I,L(S)),new Y(L(S.g),S.h);if(I.g.length>30){if(Q(I)||Q(S))throw Error("slowDivide_ only works with positive integers.");for(var R=w,M=S;M.l(I)<=0;)R=rt(R),M=rt(M);var N=dt(R,1),P=dt(M,1);for(M=dt(M,2),R=dt(R,2);!K(M);){var D=P.add(M);D.l(I)<=0&&(N=N.add(R),P=D),M=dt(M,1),R=dt(R,1)}return S=Z(I,N.j(S)),new Y(N,S)}for(N=b;I.l(S)>=0;){for(R=Math.max(1,Math.floor(I.m()/S.m())),M=Math.ceil(Math.log(R)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),P=g(R),D=P.j(S);Q(D)||D.l(I)>0;)R-=M,P=g(R),D=P.j(S);K(P)&&(P=w),N=N.add(P),I=Z(I,D)}return new Y(N,I)}i.B=function(I){return at(this,I).h},i.and=function(I){const S=Math.max(this.g.length,I.g.length),R=[];for(let M=0;M<S;M++)R[M]=this.i(M)&I.i(M);return new f(R,this.h&I.h)},i.or=function(I){const S=Math.max(this.g.length,I.g.length),R=[];for(let M=0;M<S;M++)R[M]=this.i(M)|I.i(M);return new f(R,this.h|I.h)},i.xor=function(I){const S=Math.max(this.g.length,I.g.length),R=[];for(let M=0;M<S;M++)R[M]=this.i(M)^I.i(M);return new f(R,this.h^I.h)};function rt(I){const S=I.g.length+1,R=[];for(let M=0;M<S;M++)R[M]=I.i(M)<<1|I.i(M-1)>>>31;return new f(R,I.h)}function dt(I,S){const R=S>>5;S%=32;const M=I.g.length-R,N=[];for(let P=0;P<M;P++)N[P]=S>0?I.i(P+R)>>>S|I.i(P+R+1)<<32-S:I.i(P+R);return new f(N,I.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,uE=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=g,f.fromString=v,Zr=f}).apply(typeof sT<"u"?sT:typeof self<"u"?self:typeof window<"u"?window:{});var Gc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var cE,Bl,hE,Jc,zm,fE,dE,mE;(function(){var i,t=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Gc=="object"&&Gc];for(var y=0;y<c.length;++y){var _=c[y];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=n(this);function o(c,y){if(y)t:{var _=s;c=c.split(".");for(var A=0;A<c.length-1;A++){var z=c[A];if(!(z in _))break t;_=_[z]}c=c[c.length-1],A=_[c],y=y(A),y!=A&&y!=null&&t(_,c,{configurable:!0,writable:!0,value:y})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(y){var _=[],A;for(A in y)Object.prototype.hasOwnProperty.call(y,A)&&_.push([A,y[A]]);return _}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},f=this||self;function m(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function p(c,y,_){return c.call.apply(c.bind,arguments)}function g(c,y,_){return g=p,g.apply(null,arguments)}function v(c,y){var _=Array.prototype.slice.call(arguments,1);return function(){var A=_.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function b(c,y){function _(){}_.prototype=y.prototype,c.Z=y.prototype,c.prototype=new _,c.prototype.constructor=c,c.Ob=function(A,z,$){for(var st=Array(arguments.length-2),wt=2;wt<arguments.length;wt++)st[wt-2]=arguments[wt];return y.prototype[z].apply(A,st)}}var w=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function V(c){const y=c.length;if(y>0){const _=Array(y);for(let A=0;A<y;A++)_[A]=c[A];return _}return[]}function K(c,y){for(let A=1;A<arguments.length;A++){const z=arguments[A];var _=typeof z;if(_=_!="object"?_:z?Array.isArray(z)?"array":_:"null",_=="array"||_=="object"&&typeof z.length=="number"){_=c.length||0;const $=z.length||0;c.length=_+$;for(let st=0;st<$;st++)c[_+st]=z[st]}else c.push(z)}}class Q{constructor(y,_){this.i=y,this.j=_,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function L(c){f.setTimeout(()=>{throw c},0)}function Z(){var c=I;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class q{constructor(){this.h=this.g=null}add(y,_){const A=Y.get();A.set(y,_),this.h?this.h.next=A:this.g=A,this.h=A}}var Y=new Q(()=>new at,c=>c.reset());class at{constructor(){this.next=this.g=this.h=null}set(y,_){this.h=y,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let rt,dt=!1,I=new q,S=()=>{const c=Promise.resolve(void 0);rt=()=>{c.then(R)}};function R(){for(var c;c=Z();){try{c.h.call(c.g)}catch(_){L(_)}var y=Y;y.j(c),y.h<100&&(y.h++,c.next=y.g,y.g=c)}dt=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var P=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};f.addEventListener("test",_,y),f.removeEventListener("test",_,y)}catch{}return c})();function D(c){return/^[\s\xa0]*$/.test(c)}function se(c,y){N.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,y)}b(se,N),se.prototype.init=function(c,y){const _=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget,y||(_=="mouseover"?y=c.fromElement:_=="mouseout"&&(y=c.toElement)),this.relatedTarget=y,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&se.Z.h.call(this)},se.prototype.h=function(){se.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Wt="closure_listenable_"+(Math.random()*1e6|0),X=0;function ot(c,y,_,A,z){this.listener=c,this.proxy=null,this.src=y,this.type=_,this.capture=!!A,this.ha=z,this.key=++X,this.da=this.fa=!1}function mt(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function zt(c,y,_){for(const A in c)y.call(_,c[A],A,c)}function O(c,y){for(const _ in c)y.call(void 0,c[_],_,c)}function it(c){const y={};for(const _ in c)y[_]=c[_];return y}const ct="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function lt(c,y){let _,A;for(let z=1;z<arguments.length;z++){A=arguments[z];for(_ in A)c[_]=A[_];for(let $=0;$<ct.length;$++)_=ct[$],Object.prototype.hasOwnProperty.call(A,_)&&(c[_]=A[_])}}function gt(c){this.src=c,this.g={},this.h=0}gt.prototype.add=function(c,y,_,A,z){const $=c.toString();c=this.g[$],c||(c=this.g[$]=[],this.h++);const st=Et(c,y,A,z);return st>-1?(y=c[st],_||(y.fa=!1)):(y=new ot(y,this.src,$,!!A,z),y.fa=_,c.push(y)),y};function xt(c,y){const _=y.type;if(_ in c.g){var A=c.g[_],z=Array.prototype.indexOf.call(A,y,void 0),$;($=z>=0)&&Array.prototype.splice.call(A,z,1),$&&(mt(y),c.g[_].length==0&&(delete c.g[_],c.h--))}}function Et(c,y,_,A){for(let z=0;z<c.length;++z){const $=c[z];if(!$.da&&$.listener==y&&$.capture==!!_&&$.ha==A)return z}return-1}var Le="closure_lm_"+(Math.random()*1e6|0),$t={};function Un(c,y,_,A,z){if(Array.isArray(y)){for(let $=0;$<y.length;$++)Un(c,y[$],_,A,z);return null}return _=Su(_),c&&c[Wt]?c.J(y,_,m(A)?!!A.capture:!1,z):Oo(c,y,_,!1,A,z)}function Oo(c,y,_,A,z,$){if(!y)throw Error("Invalid event type");const st=m(z)?!!z.capture:!!z;let wt=xo(c);if(wt||(c[Le]=wt=new gt(c)),_=wt.add(y,_,A,st,$),_.proxy)return _;if(A=ca(),_.proxy=A,A.src=c,A.listener=_,c.addEventListener)P||(z=st),z===void 0&&(z=!1),c.addEventListener(y.toString(),A,z);else if(c.attachEvent)c.attachEvent(fa(y.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return _}function ca(){function c(_){return y.call(c.src,c.listener,_)}const y=uf;return c}function ha(c,y,_,A,z){if(Array.isArray(y))for(var $=0;$<y.length;$++)ha(c,y[$],_,A,z);else A=m(A)?!!A.capture:!!A,_=Su(_),c&&c[Wt]?(c=c.i,$=String(y).toString(),$ in c.g&&(y=c.g[$],_=Et(y,_,A,z),_>-1&&(mt(y[_]),Array.prototype.splice.call(y,_,1),y.length==0&&(delete c.g[$],c.h--)))):c&&(c=xo(c))&&(y=c.g[y.toString()],c=-1,y&&(c=Et(y,_,A,z)),(_=c>-1?y[c]:null)&&hs(_))}function hs(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[Wt])xt(y.i,c);else{var _=c.type,A=c.proxy;y.removeEventListener?y.removeEventListener(_,A,c.capture):y.detachEvent?y.detachEvent(fa(_),A):y.addListener&&y.removeListener&&y.removeListener(A),(_=xo(y))?(xt(_,c),_.h==0&&(_.src=null,y[Le]=null)):mt(c)}}}function fa(c){return c in $t?$t[c]:$t[c]="on"+c}function uf(c,y){if(c.da)c=!0;else{y=new se(y,this);const _=c.listener,A=c.ha||c.src;c.fa&&hs(c),c=_.call(A,y)}return c}function xo(c){return c=c[Le],c instanceof gt?c:null}var on="__closure_events_fn_"+(Math.random()*1e9>>>0);function Su(c){return typeof c=="function"?c:(c[on]||(c[on]=function(y){return c.handleEvent(y)}),c[on])}function Re(){M.call(this),this.i=new gt(this),this.M=this,this.G=null}b(Re,M),Re.prototype[Wt]=!0,Re.prototype.removeEventListener=function(c,y,_,A){ha(this,c,y,_,A)};function Oe(c,y){var _,A=c.G;if(A)for(_=[];A;A=A.G)_.push(A);if(c=c.M,A=y.type||y,typeof y=="string")y=new N(y,c);else if(y instanceof N)y.target=y.target||c;else{var z=y;y=new N(A,c),lt(y,z)}z=!0;let $,st;if(_)for(st=_.length-1;st>=0;st--)$=y.g=_[st],z=Ii($,A,!0,y)&&z;if($=y.g=c,z=Ii($,A,!0,y)&&z,z=Ii($,A,!1,y)&&z,_)for(st=0;st<_.length;st++)$=y.g=_[st],z=Ii($,A,!1,y)&&z}Re.prototype.N=function(){if(Re.Z.N.call(this),this.i){var c=this.i;for(const y in c.g){const _=c.g[y];for(let A=0;A<_.length;A++)mt(_[A]);delete c.g[y],c.h--}}this.G=null},Re.prototype.J=function(c,y,_,A){return this.i.add(String(c),y,!1,_,A)},Re.prototype.K=function(c,y,_,A){return this.i.add(String(c),y,!0,_,A)};function Ii(c,y,_,A){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();let z=!0;for(let $=0;$<y.length;++$){const st=y[$];if(st&&!st.da&&st.capture==_){const wt=st.listener,ne=st.ha||st.src;st.fa&&xt(c.i,st),z=wt.call(ne,A)!==!1&&z}}return z&&!A.defaultPrevented}function cf(c,y){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=g(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:f.setTimeout(c,y||0)}function Mo(c){c.g=cf(()=>{c.g=null,c.i&&(c.i=!1,Mo(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class hf extends M{constructor(y,_){super(),this.m=y,this.l=_,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Mo(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function fs(c){M.call(this),this.h=c,this.g={}}b(fs,M);var or=[];function $e(c){zt(c.g,function(y,_){this.g.hasOwnProperty(_)&&hs(y)},c),c.g={}}fs.prototype.N=function(){fs.Z.N.call(this),$e(this)},fs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Sn=f.JSON.stringify,tn=f.JSON.parse,ff=class{stringify(c){return f.JSON.stringify(c,void 0)}parse(c){return f.JSON.parse(c,void 0)}};function wu(){}function Ru(){}var ii={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function lr(){N.call(this,"d")}b(lr,N);function zn(){N.call(this,"c")}b(zn,N);var wn={},ur=null;function da(){return ur=ur||new Re}wn.Ia="serverreachability";function Vo(c){N.call(this,wn.Ia,c)}b(Vo,N);function cr(c){const y=da();Oe(y,new Vo(y))}wn.STAT_EVENT="statevent";function ma(c,y){N.call(this,wn.STAT_EVENT,c),this.stat=y}b(ma,N);function de(c){const y=da();Oe(y,new ma(y,c))}wn.Ja="timingevent";function Iu(c,y){N.call(this,wn.Ja,c),this.size=y}b(Iu,N);function hr(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){c()},y)}function fr(){this.g=!0}fr.prototype.ua=function(){this.g=!1};function Po(c,y,_,A,z,$){c.info(function(){if(c.g)if($){var st="",wt=$.split("&");for(let Ht=0;Ht<wt.length;Ht++){var ne=wt[Ht].split("=");if(ne.length>1){const ge=ne[0];ne=ne[1];const mn=ge.split("_");st=mn.length>=2&&mn[1]=="type"?st+(ge+"="+ne+"&"):st+(ge+"=redacted&")}}}else st=null;else st=$;return"XMLHTTP REQ ("+A+") [attempt "+z+"]: "+y+`
`+_+`
`+st})}function ko(c,y,_,A,z,$,st){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+z+"]: "+y+`
`+_+`
`+$+" "+st})}function Ci(c,y,_,A){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+ri(c,_)+(A?" "+A:"")})}function df(c,y){c.info(function(){return"TIMEOUT: "+y})}fr.prototype.info=function(){};function ri(c,y){if(!c.g)return y;if(!y)return null;try{const $=JSON.parse(y);if($){for(c=0;c<$.length;c++)if(Array.isArray($[c])){var _=$[c];if(!(_.length<2)){var A=_[1];if(Array.isArray(A)&&!(A.length<1)){var z=A[0];if(z!="noop"&&z!="stop"&&z!="close")for(let st=1;st<A.length;st++)A[st]=""}}}}return Sn($)}catch{return y}}var me={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ue={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Di;function ds(){}b(ds,wu),ds.prototype.g=function(){return new XMLHttpRequest},Di=new ds;function ms(c){return encodeURIComponent(String(c))}function mf(c){var y=1;c=c.split(":");const _=[];for(;y>0&&c.length;)_.push(c.shift()),y--;return c.length&&_.push(c.join(":")),_}function Bn(c,y,_,A){this.j=c,this.i=y,this.l=_,this.S=A||1,this.V=new fs(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new dr}function dr(){this.i=null,this.g="",this.h=!1}var pa={},si={};function ai(c,y,_){c.M=1,c.A=Oi(le(y)),c.u=_,c.R=!0,mr(c,null)}function mr(c,y){c.F=Date.now(),ps(c),c.B=le(c.A);var _=c.B,A=c.S;Array.isArray(A)||(A=[String(A)]),Ou(_.i,"t",A),c.C=0,_=c.j.L,c.h=new dr,c.g=wa(c.j,_?y:null,!c.u),c.P>0&&(c.O=new hf(g(c.Y,c,c.g),c.P)),y=c.V,_=c.g,A=c.ba;var z="readystatechange";Array.isArray(z)||(z&&(or[0]=z.toString()),z=or);for(let $=0;$<z.length;$++){const st=Un(_,z[$],A||y.handleEvent,!1,y.h||y);if(!st)break;y.g[st.key]=st}y=c.J?it(c.J):{},c.u?(c.v||(c.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,y)):(c.v="GET",c.g.ea(c.B,c.v,null,y)),cr(),Po(c.i,c.v,c.B,c.l,c.S,c.u)}Bn.prototype.ba=function(c){c=c.target;const y=this.O;y&&Ke(c)==3?y.j():this.Y(c)},Bn.prototype.Y=function(c){try{if(c==this.g)t:{const wt=Ke(this.g),ne=this.g.ya(),Ht=this.g.ca();if(!(wt<3)&&(wt!=3||this.g&&(this.h.h||this.g.la()||Rs(this.g)))){this.K||wt!=4||ne==7||(ne==8||Ht<=0?cr(3):cr(2)),li(this);var y=this.g.ca();this.X=y;var _=pr(this);if(this.o=y==200,ko(this.i,this.v,this.B,this.l,this.S,wt,y),this.o){if(this.U&&!this.L){e:{if(this.g){var A,z=this.g;if((A=z.g?z.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!D(A)){var $=A;break e}}$=null}if(c=$)Ci(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ga(this,c);else{this.o=!1,this.m=3,de(12),ui(this),gs(this);break t}}if(this.R){c=!0;let ge;for(;!this.K&&this.C<_.length;)if(ge=Cu(this,_),ge==si){wt==4&&(this.m=4,de(14),c=!1),Ci(this.i,this.l,null,"[Incomplete Response]");break}else if(ge==pa){this.m=4,de(15),Ci(this.i,this.l,_,"[Invalid Chunk]"),c=!1;break}else Ci(this.i,this.l,ge,null),ga(this,ge);if(pe(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),wt!=4||_.length!=0||this.h.h||(this.m=1,de(16),c=!1),this.o=this.o&&c,!c)Ci(this.i,this.l,_,"[Invalid Chunked Response]"),ui(this),gs(this);else if(_.length>0&&!this.W){this.W=!0;var st=this.j;st.g==this&&st.aa&&!st.P&&(st.j.info("Great, no buffering proxy detected. Bytes received: "+_.length),$o(st),st.P=!0,de(11))}}else Ci(this.i,this.l,_,null),ga(this,_);wt==4&&ui(this),this.o&&!this.K&&(wt==4?Ko(this.j,this):(this.o=!1,ps(this)))}else Is(this.g),y==400&&_.indexOf("Unknown SID")>0?(this.m=3,de(12)):(this.m=0,de(13)),ui(this),gs(this)}}}catch{}finally{}};function pr(c){if(!pe(c))return c.g.la();const y=Rs(c.g);if(y==="")return"";let _="";const A=y.length,z=Ke(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return ui(c),gs(c),"";c.h.i=new f.TextDecoder}for(let $=0;$<A;$++)c.h.h=!0,_+=c.h.i.decode(y[$],{stream:!(z&&$==A-1)});return y.length=0,c.h.g+=_,c.C=0,c.h.g}function pe(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function Cu(c,y){var _=c.C,A=y.indexOf(`
`,_);return A==-1?si:(_=Number(y.substring(_,A)),isNaN(_)?pa:(A+=1,A+_>y.length?si:(y=y.slice(A,A+_),c.C=A+_,y)))}Bn.prototype.cancel=function(){this.K=!0,ui(this)};function ps(c){c.T=Date.now()+c.H,oi(c,c.H)}function oi(c,y){if(c.D!=null)throw Error("WatchDog timer not null");c.D=hr(g(c.aa,c),y)}function li(c){c.D&&(f.clearTimeout(c.D),c.D=null)}Bn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(df(this.i,this.B),this.M!=2&&(cr(),de(17)),ui(this),this.m=2,gs(this)):oi(this,this.T-c)};function gs(c){c.j.I==0||c.K||Ko(c.j,c)}function ui(c){li(c);var y=c.O;y&&typeof y.dispose=="function"&&y.dispose(),c.O=null,$e(c.V),c.g&&(y=c.g,c.g=null,y.abort(),y.dispose())}function ga(c,y){try{var _=c.j;if(_.I!=0&&(_.g==c||vs(_.h,c))){if(!c.L&&vs(_.h,c)&&_.I==3){try{var A=_.Ba.g.parse(y)}catch{A=null}if(Array.isArray(A)&&A.length==3){var z=A;if(z[0]==0){t:if(!_.v){if(_.g)if(_.g.F+3e3<c.F)Sa(_),ci(_);else break t;Go(_),de(18)}}else _.xa=z[1],0<_.xa-_.K&&z[2]<37500&&_.F&&_.A==0&&!_.C&&(_.C=hr(g(_.Va,_),6e3));Rn(_.h)<=1&&_.ta&&(_.ta=void 0)}else Vi(_,11)}else if((c.L||_.g==c)&&Sa(_),!D(y))for(z=_.Ba.g.parse(y),y=0;y<z.length;y++){let Ht=z[y];const ge=Ht[0];if(!(ge<=_.K))if(_.K=ge,Ht=Ht[1],_.I==2)if(Ht[0]=="c"){_.M=Ht[1],_.ba=Ht[2];const mn=Ht[3];mn!=null&&(_.ka=mn,_.j.info("VER="+_.ka));const hi=Ht[4];hi!=null&&(_.za=hi,_.j.info("SVER="+_.za));const Hn=Ht[5];Hn!=null&&typeof Hn=="number"&&Hn>0&&(A=1.5*Hn,_.O=A,_.j.info("backChannelRequestTimeoutMs_="+A)),A=_;const Fn=c.g;if(Fn){const Gn=Fn.g?Fn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Gn){var $=A.h;$.g||Gn.indexOf("spdy")==-1&&Gn.indexOf("quic")==-1&&Gn.indexOf("h2")==-1||($.j=$.l,$.g=new Set,$.h&&(ya($,$.h),$.h=null))}if(A.G){const Yo=Fn.g?Fn.g.getResponseHeader("X-HTTP-Session-Id"):null;Yo&&(A.wa=Yo,Kt(A.J,A.G,Yo))}}_.I=3,_.l&&_.l.ra(),_.aa&&(_.T=Date.now()-c.F,_.j.info("Handshake RTT: "+_.T+"ms")),A=_;var st=c;if(A.na=Bu(A,A.L?A.ba:null,A.W),st.L){Ni(A.h,st);var wt=st,ne=A.O;ne&&(wt.H=ne),wt.D&&(li(wt),ps(wt)),A.g=st}else ku(A);_.i.length>0&&Os(_)}else Ht[0]!="stop"&&Ht[0]!="close"||Vi(_,7);else _.I==3&&(Ht[0]=="stop"||Ht[0]=="close"?Ht[0]=="stop"?Vi(_,7):Ds(_):Ht[0]!="noop"&&_.l&&_.l.qa(Ht),_.A=0)}}cr(4)}catch{}}var pf=class{constructor(c,y){this.g=c,this.map=y}};function ys(c){this.l=c||10,f.PerformanceNavigationTiming?(c=f.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function _s(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Rn(c){return c.h?1:c.g?c.g.size:0}function vs(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function ya(c,y){c.g?c.g.add(y):c.h=y}function Ni(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}ys.prototype.cancel=function(){if(this.i=_a(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function _a(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const _ of c.g.values())y=y.concat(_.G);return y}return V(c.i)}var va=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function gf(c,y){if(c){c=c.split("&");for(let _=0;_<c.length;_++){const A=c[_].indexOf("=");let z,$=null;A>=0?(z=c[_].substring(0,A),$=c[_].substring(A+1)):z=c[_],y(z,$?decodeURIComponent($.replace(/\+/g," ")):"")}}}function jn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;c instanceof jn?(this.l=c.l,gr(this,c.j),this.o=c.o,this.g=c.g,Ts(this,c.u),this.h=c.h,yr(this,xu(c.i)),this.m=c.m):c&&(y=String(c).match(va))?(this.l=!1,gr(this,y[1]||"",!0),this.o=Es(y[2]||""),this.g=Es(y[3]||"",!0),Ts(this,y[4]),this.h=Es(y[5]||"",!0),yr(this,y[6]||"",!0),this.m=Es(y[7]||"")):(this.l=!1,this.i=new In(null,this.l))}jn.prototype.toString=function(){const c=[];var y=this.j;y&&c.push(xe(y,Uo,!0),":");var _=this.g;return(_||y=="file")&&(c.push("//"),(y=this.o)&&c.push(xe(y,Uo,!0),"@"),c.push(ms(_).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.u,_!=null&&c.push(":",String(_))),(_=this.h)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(xe(_,_.charAt(0)=="/"?_r:zo,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",xe(_,Nu)),c.join("")},jn.prototype.resolve=function(c){const y=le(this);let _=!!c.j;_?gr(y,c.j):_=!!c.o,_?y.o=c.o:_=!!c.g,_?y.g=c.g:_=c.u!=null;var A=c.h;if(_)Ts(y,c.u);else if(_=!!c.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var z=y.h.lastIndexOf("/");z!=-1&&(A=y.h.slice(0,z+1)+A)}if(z=A,z==".."||z==".")A="";else if(z.indexOf("./")!=-1||z.indexOf("/.")!=-1){A=z.lastIndexOf("/",0)==0,z=z.split("/");const $=[];for(let st=0;st<z.length;){const wt=z[st++];wt=="."?A&&st==z.length&&$.push(""):wt==".."?(($.length>1||$.length==1&&$[0]!="")&&$.pop(),A&&st==z.length&&$.push("")):($.push(wt),A=!0)}A=$.join("/")}else A=z}return _?y.h=A:_=c.i.toString()!=="",_?yr(y,xu(c.i)):_=!!c.m,_&&(y.m=c.m),y};function le(c){return new jn(c)}function gr(c,y,_){c.j=_?Es(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function Ts(c,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);c.u=y}else c.u=null}function yr(c,y,_){y instanceof In?(c.i=y,qo(c.i,c.l)):(_||(y=xe(y,Du)),c.i=new In(y,c.l))}function Kt(c,y,_){c.i.set(y,_)}function Oi(c){return Kt(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function Es(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function xe(c,y,_){return typeof c=="string"?(c=encodeURI(c).replace(y,Lo),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Lo(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Uo=/[#\/\?@]/g,zo=/[#\?:]/g,_r=/[#\?]/g,Du=/[#\?@]/g,Nu=/#/g;function In(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function xi(c){c.g||(c.g=new Map,c.h=0,c.i&&gf(c.i,function(y,_){c.add(decodeURIComponent(y.replace(/\+/g," ")),_)}))}i=In.prototype,i.add=function(c,y){xi(this),this.i=null,c=qn(this,c);let _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(y),this.h+=1,this};function Bo(c,y){xi(c),y=qn(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function jo(c,y){return xi(c),y=qn(c,y),c.g.has(y)}i.forEach=function(c,y){xi(this),this.g.forEach(function(_,A){_.forEach(function(z){c.call(y,z,A,this)},this)},this)};function Ta(c,y){xi(c);let _=[];if(typeof y=="string")jo(c,y)&&(_=_.concat(c.g.get(qn(c,y))));else for(c=Array.from(c.g.values()),y=0;y<c.length;y++)_=_.concat(c[y]);return _}i.set=function(c,y){return xi(this),this.i=null,c=qn(this,c),jo(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},i.get=function(c,y){return c?(c=Ta(this,c),c.length>0?String(c[0]):y):y};function Ou(c,y,_){Bo(c,y),_.length>0&&(c.i=null,c.g.set(qn(c,y),V(_)),c.h+=_.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(let A=0;A<y.length;A++){var _=y[A];const z=ms(_);_=Ta(this,_);for(let $=0;$<_.length;$++){let st=z;_[$]!==""&&(st+="="+ms(_[$])),c.push(st)}}return this.i=c.join("&")};function xu(c){const y=new In;return y.i=c.i,c.g&&(y.g=new Map(c.g),y.h=c.h),y}function qn(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function qo(c,y){y&&!c.j&&(xi(c),c.i=null,c.g.forEach(function(_,A){const z=A.toLowerCase();A!=z&&(Bo(this,A),Ou(this,z,_))},c)),c.j=y}function Ho(c,y){const _=new fr;if(f.Image){const A=new Image;A.onload=v(en,_,"TestLoadImage: loaded",!0,y,A),A.onerror=v(en,_,"TestLoadImage: error",!1,y,A),A.onabort=v(en,_,"TestLoadImage: abort",!1,y,A),A.ontimeout=v(en,_,"TestLoadImage: timeout",!1,y,A),f.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else y(!1)}function vr(c,y){const _=new fr,A=new AbortController,z=setTimeout(()=>{A.abort(),en(_,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:A.signal}).then($=>{clearTimeout(z),$.ok?en(_,"TestPingServer: ok",!0,y):en(_,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(z),en(_,"TestPingServer: error",!1,y)})}function en(c,y,_,A,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),A(_)}catch{}}function Mu(){this.g=new ff}function bs(c){this.i=c.Sb||null,this.h=c.ab||!1}b(bs,wu),bs.prototype.g=function(){return new As(this.i,this.h)};function As(c,y){Re.call(this),this.H=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(As,Re),i=As.prototype,i.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=y,this.readyState=1,Mi(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(y.body=c),(this.H||f).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,nn(this)),this.readyState=0},i.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Mi(this)),this.g&&(this.readyState=3,Mi(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Tr(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function Tr(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}i.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?nn(this):Mi(this),this.readyState==3&&Tr(this)}},i.Oa=function(c){this.g&&(this.response=this.responseText=c,nn(this))},i.Na=function(c){this.g&&(this.response=c,nn(this))},i.ga=function(){this.g&&nn(this)};function nn(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Mi(c)}i.setRequestHeader=function(c,y){this.A.append(c,y)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var _=y.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=y.next();return c.join(`\r
`)};function Mi(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(As.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Er(c){let y="";return zt(c,function(_,A){y+=A,y+=":",y+=_,y+=`\r
`}),y}function Cn(c,y,_){t:{for(A in _){var A=!1;break t}A=!0}A||(_=Er(_),typeof c=="string"?_!=null&&ms(_):Kt(c,y,_))}function Jt(c){Re.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(Jt,Re);var Ea=/^https?$/i,Vu=["POST","PUT"];i=Jt.prototype,i.Fa=function(c){this.H=c},i.ea=function(c,y,_,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Di.g(),this.g.onreadystatechange=w(g(this.Ca,this));try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch($){Ss(this,$);return}if(c=_||"",_=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var z in A)_.set(z,A[z]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const $ of A.keys())_.set($,A.get($));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(_.keys()).find($=>$.toLowerCase()=="content-type"),z=f.FormData&&c instanceof f.FormData,!(Array.prototype.indexOf.call(Vu,y,void 0)>=0)||A||z||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[$,st]of _)this.g.setRequestHeader($,st);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch($){Ss(this,$)}};function Ss(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.o=5,ws(c),Ie(c)}function ws(c){c.A||(c.A=!0,Oe(c,"complete"),Oe(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Oe(this,"complete"),Oe(this,"abort"),Ie(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ie(this,!0)),Jt.Z.N.call(this)},i.Ca=function(){this.u||(this.B||this.v||this.j?Fo(this):this.Xa())},i.Xa=function(){Fo(this)};function Fo(c){if(c.h&&typeof u<"u"){if(c.v&&Ke(c)==4)setTimeout(c.Ca.bind(c),0);else if(Oe(c,"readystatechange"),Ke(c)==4){c.h=!1;try{const $=c.ca();t:switch($){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break t;default:y=!1}var _;if(!(_=y)){var A;if(A=$===0){let st=String(c.D).match(va)[1]||null;!st&&f.self&&f.self.location&&(st=f.self.location.protocol.slice(0,-1)),A=!Ea.test(st?st.toLowerCase():"")}_=A}if(_)Oe(c,"complete"),Oe(c,"success");else{c.o=6;try{var z=Ke(c)>2?c.g.statusText:""}catch{z=""}c.l=z+" ["+c.ca()+"]",ws(c)}}finally{Ie(c)}}}}function Ie(c,y){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const _=c.g;c.g=null,y||Oe(c,"ready");try{_.onreadystatechange=null}catch{}}}i.isActive=function(){return!!this.g};function Ke(c){return c.g?c.g.readyState:0}i.ca=function(){try{return Ke(this)>2?this.g.status:-1}catch{return-1}},i.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.La=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),tn(y)}};function Rs(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Is(c){const y={};c=(c.g&&Ke(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(D(c[A]))continue;var _=mf(c[A]);const z=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const $=y[z]||[];y[z]=$,$.push(_)}O(y,function(A){return A.join(", ")})}i.ya=function(){return this.o},i.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Cs(c,y,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||y}function ba(c){this.za=0,this.i=[],this.j=new fr,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Cs("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Cs("baseRetryDelayMs",5e3,c),this.Za=Cs("retryDelaySeedMs",1e4,c),this.Ta=Cs("forwardChannelMaxRetries",2,c),this.va=Cs("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new ys(c&&c.concurrentRequestLimit),this.Ba=new Mu,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}i=ba.prototype,i.ka=8,i.I=1,i.connect=function(c,y,_,A){de(0),this.W=c,this.H=y||{},_&&A!==void 0&&(this.H.OSID=_,this.H.OAID=A),this.F=this.X,this.J=Bu(this,null,this.W),Os(this)};function Ds(c){if(Ns(c),c.I==3){var y=c.V++,_=le(c.J);if(Kt(_,"SID",c.M),Kt(_,"RID",y),Kt(_,"TYPE","terminate"),xs(c,_),y=new Bn(c,c.j,y),y.M=2,y.A=Oi(le(_)),_=!1,f.navigator&&f.navigator.sendBeacon)try{_=f.navigator.sendBeacon(y.A.toString(),"")}catch{}!_&&f.Image&&(new Image().src=y.A,_=!0),_||(y.g=wa(y.j,null),y.g.ea(y.A)),y.F=Date.now(),ps(y)}zu(c)}function ci(c){c.g&&($o(c),c.g.cancel(),c.g=null)}function Ns(c){ci(c),c.v&&(f.clearTimeout(c.v),c.v=null),Sa(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&f.clearTimeout(c.m),c.m=null)}function Os(c){if(!_s(c.h)&&!c.m){c.m=!0;var y=c.Ea;rt||S(),dt||(rt(),dt=!0),I.add(y,c),c.D=0}}function yf(c,y){return Rn(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=y.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=hr(g(c.Ea,c,y),Uu(c,c.D)),c.D++,!0)}i.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const z=new Bn(this,this.j,c);let $=this.o;if(this.U&&($?($=it($),lt($,this.U)):$=this.U),this.u!==null||this.R||(z.J=$,$=null),this.S)t:{for(var y=0,_=0;_<this.i.length;_++){e:{var A=this.i[_];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break e}A=void 0}if(A===void 0)break;if(y+=A,y>4096){y=_;break t}if(y===4096||_===this.i.length-1){y=_+1;break t}}y=1e3}else y=1e3;y=Aa(this,z,y),_=le(this.J),Kt(_,"RID",c),Kt(_,"CVER",22),this.G&&Kt(_,"X-HTTP-Session-Id",this.G),xs(this,_),$&&(this.R?y="headers="+ms(Er($))+"&"+y:this.u&&Cn(_,this.u,$)),ya(this.h,z),this.Ra&&Kt(_,"TYPE","init"),this.S?(Kt(_,"$req",y),Kt(_,"SID","null"),z.U=!0,ai(z,_,null)):ai(z,_,y),this.I=2}}else this.I==3&&(c?Pu(this,c):this.i.length==0||_s(this.h)||Pu(this))};function Pu(c,y){var _;y?_=y.l:_=c.V++;const A=le(c.J);Kt(A,"SID",c.M),Kt(A,"RID",_),Kt(A,"AID",c.K),xs(c,A),c.u&&c.o&&Cn(A,c.u,c.o),_=new Bn(c,c.j,_,c.D+1),c.u===null&&(_.J=c.o),y&&(c.i=y.G.concat(c.i)),y=Aa(c,_,1e3),_.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),ya(c.h,_),ai(_,A,y)}function xs(c,y){c.H&&zt(c.H,function(_,A){Kt(y,A,_)}),c.l&&zt({},function(_,A){Kt(y,A,_)})}function Aa(c,y,_){_=Math.min(c.i.length,_);const A=c.l?g(c.l.Ka,c.l,c):null;t:{var z=c.i;let wt=-1;for(;;){const ne=["count="+_];wt==-1?_>0?(wt=z[0].g,ne.push("ofs="+wt)):wt=0:ne.push("ofs="+wt);let Ht=!0;for(let ge=0;ge<_;ge++){var $=z[ge].g;const mn=z[ge].map;if($-=wt,$<0)wt=Math.max(0,z[ge].g-100),Ht=!1;else try{$="req"+$+"_"||"";try{var st=mn instanceof Map?mn:Object.entries(mn);for(const[hi,Hn]of st){let Fn=Hn;m(Hn)&&(Fn=Sn(Hn)),ne.push($+hi+"="+encodeURIComponent(Fn))}}catch(hi){throw ne.push($+"type="+encodeURIComponent("_badmap")),hi}}catch{A&&A(mn)}}if(Ht){st=ne.join("&");break t}}st=void 0}return c=c.i.splice(0,_),y.G=c,st}function ku(c){if(!c.g&&!c.v){c.Y=1;var y=c.Da;rt||S(),dt||(rt(),dt=!0),I.add(y,c),c.A=0}}function Go(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=hr(g(c.Da,c),Uu(c,c.A)),c.A++,!0)}i.Da=function(){if(this.v=null,Lu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=hr(g(this.Wa,this),c)}},i.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,de(10),ci(this),Lu(this))};function $o(c){c.B!=null&&(f.clearTimeout(c.B),c.B=null)}function Lu(c){c.g=new Bn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var y=le(c.na);Kt(y,"RID","rpc"),Kt(y,"SID",c.M),Kt(y,"AID",c.K),Kt(y,"CI",c.F?"0":"1"),!c.F&&c.ia&&Kt(y,"TO",c.ia),Kt(y,"TYPE","xmlhttp"),xs(c,y),c.u&&c.o&&Cn(y,c.u,c.o),c.O&&(c.g.H=c.O);var _=c.g;c=c.ba,_.M=1,_.A=Oi(le(y)),_.u=null,_.R=!0,mr(_,c)}i.Va=function(){this.C!=null&&(this.C=null,ci(this),Go(this),de(19))};function Sa(c){c.C!=null&&(f.clearTimeout(c.C),c.C=null)}function Ko(c,y){var _=null;if(c.g==y){Sa(c),$o(c),c.g=null;var A=2}else if(vs(c.h,y))_=y.G,Ni(c.h,y),A=1;else return;if(c.I!=0){if(y.o)if(A==1){_=y.u?y.u.length:0,y=Date.now()-y.F;var z=c.D;A=da(),Oe(A,new Iu(A,_)),Os(c)}else ku(c);else if(z=y.m,z==3||z==0&&y.X>0||!(A==1&&yf(c,y)||A==2&&Go(c)))switch(_&&_.length>0&&(y=c.h,y.i=y.i.concat(_)),z){case 1:Vi(c,5);break;case 4:Vi(c,10);break;case 3:Vi(c,6);break;default:Vi(c,2)}}}function Uu(c,y){let _=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(_*=2),_*y}function Vi(c,y){if(c.j.info("Error code "+y),y==2){var _=g(c.bb,c),A=c.Ua;const z=!A;A=new jn(A||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||gr(A,"https"),Oi(A),z?Ho(A.toString(),_):vr(A.toString(),_)}else de(2);c.I=0,c.l&&c.l.pa(y),zu(c),Ns(c)}i.bb=function(c){c?(this.j.info("Successfully pinged google.com"),de(2)):(this.j.info("Failed to ping google.com"),de(1))};function zu(c){if(c.I=0,c.ja=[],c.l){const y=_a(c.h);(y.length!=0||c.i.length!=0)&&(K(c.ja,y),K(c.ja,c.i),c.h.i.length=0,V(c.i),c.i.length=0),c.l.oa()}}function Bu(c,y,_){var A=_ instanceof jn?le(_):new jn(_);if(A.g!="")y&&(A.g=y+"."+A.g),Ts(A,A.u);else{var z=f.location;A=z.protocol,y=y?y+"."+z.hostname:z.hostname,z=+z.port;const $=new jn(null);A&&gr($,A),y&&($.g=y),z&&Ts($,z),_&&($.h=_),A=$}return _=c.G,y=c.wa,_&&y&&Kt(A,_,y),Kt(A,"VER",c.ka),xs(c,A),A}function wa(c,y,_){if(y&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Aa&&!c.ma?new Jt(new bs({ab:_})):new Jt(c.ma),y.Fa(c.L),y}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function ju(){}i=ju.prototype,i.ra=function(){},i.qa=function(){},i.pa=function(){},i.oa=function(){},i.isActive=function(){return!0},i.Ka=function(){};function Ra(){}Ra.prototype.g=function(c,y){return new rn(c,y)};function rn(c,y){Re.call(this),this.g=new ba(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(c?c["X-WebChannel-Client-Profile"]=y.sa:c={"X-WebChannel-Client-Profile":y.sa}),this.g.U=c,(c=y&&y.Qb)&&!D(c)&&(this.g.u=c),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!D(y)&&(this.g.G=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new br(this)}b(rn,Re),rn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},rn.prototype.close=function(){Ds(this.g)},rn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.v&&(_={},_.__data__=Sn(c),c=_);y.i.push(new pf(y.Ya++,c)),y.I==3&&Os(y)},rn.prototype.N=function(){this.g.l=null,delete this.j,Ds(this.g),delete this.g,rn.Z.N.call(this)};function Qo(c){lr.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){t:{for(const _ in y){c=_;break t}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}b(Qo,lr);function qu(){zn.call(this),this.status=1}b(qu,zn);function br(c){this.g=c}b(br,ju),br.prototype.ra=function(){Oe(this.g,"a")},br.prototype.qa=function(c){Oe(this.g,new Qo(c))},br.prototype.pa=function(c){Oe(this.g,new qu)},br.prototype.oa=function(){Oe(this.g,"b")},Ra.prototype.createWebChannel=Ra.prototype.g,rn.prototype.send=rn.prototype.o,rn.prototype.open=rn.prototype.m,rn.prototype.close=rn.prototype.close,mE=function(){return new Ra},dE=function(){return da()},fE=wn,zm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},me.NO_ERROR=0,me.TIMEOUT=8,me.HTTP_ERROR=6,Jc=me,Ue.COMPLETE="complete",hE=Ue,Ru.EventType=ii,ii.OPEN="a",ii.CLOSE="b",ii.ERROR="c",ii.MESSAGE="d",Re.prototype.listen=Re.prototype.J,Bl=Ru,Jt.prototype.listenOnce=Jt.prototype.K,Jt.prototype.getLastError=Jt.prototype.Ha,Jt.prototype.getLastErrorCode=Jt.prototype.ya,Jt.prototype.getStatus=Jt.prototype.ca,Jt.prototype.getResponseJson=Jt.prototype.La,Jt.prototype.getResponseText=Jt.prototype.la,Jt.prototype.send=Jt.prototype.ea,Jt.prototype.setWithCredentials=Jt.prototype.Fa,cE=Jt}).apply(typeof Gc<"u"?Gc:typeof self<"u"?self:typeof window<"u"?window:{});const aT="@firebase/firestore",oT="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class We{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}We.UNAUTHENTICATED=new We(null),We.GOOGLE_CREDENTIALS=new We("google-credentials-uid"),We.FIRST_PARTY=new We("first-party-uid"),We.MOCK_USER=new We("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let So="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ta=new Uh("@firebase/firestore");function eo(){return ta.logLevel}function ht(i,...t){if(ta.logLevel<=Mt.DEBUG){const n=t.map(Ap);ta.debug(`Firestore (${So}): ${i}`,...n)}}function tr(i,...t){if(ta.logLevel<=Mt.ERROR){const n=t.map(Ap);ta.error(`Firestore (${So}): ${i}`,...n)}}function ho(i,...t){if(ta.logLevel<=Mt.WARN){const n=t.map(Ap);ta.warn(`Firestore (${So}): ${i}`,...n)}}function Ap(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tt(i,t,n){let s="Unexpected state";typeof t=="string"?s=t:n=t,pE(i,s,n)}function pE(i,t,n){let s=`FIRESTORE (${So}) INTERNAL ASSERTION FAILED: ${t} (ID: ${i.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw tr(s),new Error(s)}function qt(i,t,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,i||pE(t,o,s)}function Rt(i,t){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ut extends ni{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi{constructor(){this.promise=new Promise(((t,n)=>{this.resolve=t,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gE{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class HI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable((()=>n(We.UNAUTHENTICATED)))}shutdown(){}}class FI{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class GI{constructor(t){this.t=t,this.currentUser=We.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){qt(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new Wi;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Wi,t.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const p=u;t.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},m=p=>{ht("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((p=>m(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(ht("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Wi)}}),0),f()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==t?(ht("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(qt(typeof s.accessToken=="string",31837,{l:s}),new gE(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return qt(t===null||typeof t=="string",2055,{h:t}),new We(t)}}class $I{constructor(t,n,s){this.P=t,this.T=n,this.I=s,this.type="FirstParty",this.user=We.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class KI{constructor(t,n,s){this.P=t,this.T=n,this.I=s}getToken(){return Promise.resolve(new $I(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable((()=>n(We.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class lT{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class QI{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,_i(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){qt(this.o===void 0,3512);const s=u=>{u.error!=null&&ht("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,ht("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable((()=>s(u)))};const o=u=>{ht("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ht("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new lT(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((n=>n?(qt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new lT(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YI(i){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let s=0;s<i;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sp{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=YI(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=t.charAt(o[u]%62))}return s}}function Vt(i,t){return i<t?-1:i>t?1:0}function Bm(i,t){const n=Math.min(i.length,t.length);for(let s=0;s<n;s++){const o=i.charAt(s),u=t.charAt(s);if(o!==u)return Em(o)===Em(u)?Vt(o,u):Em(o)?1:-1}return Vt(i.length,t.length)}const XI=55296,WI=57343;function Em(i){const t=i.charCodeAt(0);return t>=XI&&t<=WI}function fo(i,t,n){return i.length===t.length&&i.every(((s,o)=>n(s,t[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uT="__name__";class yi{constructor(t,n,s){n===void 0?n=0:n>t.length&&Tt(637,{offset:n,range:t.length}),s===void 0?s=t.length-n:s>t.length-n&&Tt(1746,{length:s,range:t.length-n}),this.segments=t,this.offset=n,this.len=s}get length(){return this.len}isEqual(t){return yi.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof yi?t.forEach((s=>{n.push(s)})):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,s=this.limit();n<s;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const s=Math.min(t.length,n.length);for(let o=0;o<s;o++){const u=yi.compareSegments(t.get(o),n.get(o));if(u!==0)return u}return Vt(t.length,n.length)}static compareSegments(t,n){const s=yi.isNumericId(t),o=yi.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?yi.extractNumericId(t).compare(yi.extractNumericId(n)):Bm(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Zr.fromString(t.substring(4,t.length-2))}}class ee extends yi{construct(t,n,s){return new ee(t,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const s of t){if(s.indexOf("//")>=0)throw new ut(tt.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new ee(n)}static emptyPath(){return new ee([])}}const ZI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class He extends yi{construct(t,n,s){return new He(t,n,s)}static isValidIdentifier(t){return ZI.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),He.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===uT}static keyField(){return new He([uT])}static fromServerFormat(t){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new ut(tt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<t.length;){const m=t[o];if(m==="\\"){if(o+1===t.length)throw new ut(tt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ut(tt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=p,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new ut(tt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new He(n)}static emptyPath(){return new He([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(t){this.path=t}static fromPath(t){return new yt(ee.fromString(t))}static fromName(t){return new yt(ee.fromString(t).popFirst(5))}static empty(){return new yt(ee.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ee.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return ee.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new yt(new ee(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yE(i,t,n){if(!n)throw new ut(tt.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${t}.`)}function JI(i,t,n,s){if(t===!0&&s===!0)throw new ut(tt.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function cT(i){if(!yt.isDocumentKey(i))throw new ut(tt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function hT(i){if(yt.isDocumentKey(i))throw new ut(tt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function _E(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function zh(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const t=(function(s){return s.constructor?s.constructor.name:null})(i);return t?`a custom ${t} object`:"an object"}}return typeof i=="function"?"a function":Tt(12329,{type:typeof i})}function er(i,t){if("_delegate"in i&&(i=i._delegate),!(i instanceof t)){if(t.name===i.constructor.name)throw new ut(tt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=zh(i);throw new ut(tt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return i}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Se(i,t){const n={typeString:i};return t&&(n.value=t),n}function fu(i,t){if(!_E(i))throw new ut(tt.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in t)if(t[s]){const o=t[s].typeString,u="value"in t[s]?{value:t[s].value}:void 0;if(!(s in i)){n=`JSON missing required field: '${s}'`;break}const f=i[s];if(o&&typeof f!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new ut(tt.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fT=-62135596800,dT=1e6;class ie{static now(){return ie.fromMillis(Date.now())}static fromDate(t){return ie.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),s=Math.floor((t-1e3*n)*dT);return new ie(n,s)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new ut(tt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ut(tt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<fT)throw new ut(tt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ut(tt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/dT}_compareTo(t){return this.seconds===t.seconds?Vt(this.nanoseconds,t.nanoseconds):Vt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ie._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(fu(t,ie._jsonSchema))return new ie(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-fT;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ie._jsonSchemaVersion="firestore/timestamp/1.0",ie._jsonSchema={type:Se("string",ie._jsonSchemaVersion),seconds:Se("number"),nanoseconds:Se("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{static fromTimestamp(t){return new St(t)}static min(){return new St(new ie(0,0))}static max(){return new St(new ie(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jl=-1;function tC(i,t){const n=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=St.fromTimestamp(s===1e9?new ie(n+1,0):new ie(n,s));return new es(o,yt.empty(),t)}function eC(i){return new es(i.readTime,i.key,Jl)}class es{constructor(t,n,s){this.readTime=t,this.documentKey=n,this.largestBatchId=s}static min(){return new es(St.min(),yt.empty(),Jl)}static max(){return new es(St.max(),yt.empty(),Jl)}}function nC(i,t){let n=i.readTime.compareTo(t.readTime);return n!==0?n:(n=yt.comparator(i.documentKey,t.documentKey),n!==0?n:Vt(i.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class rC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wo(i){if(i.code!==tt.FAILED_PRECONDITION||i.message!==iC)throw i;ht("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&Tt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new nt(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((t,n)=>{this.next(t,n)}))}wrapUserFunction(t){try{const n=t();return n instanceof nt?n:nt.resolve(n)}catch(n){return nt.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction((()=>t(n))):nt.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction((()=>t(n))):nt.reject(n)}static resolve(t){return new nt(((n,s)=>{n(t)}))}static reject(t){return new nt(((n,s)=>{s(t)}))}static waitFor(t){return new nt(((n,s)=>{let o=0,u=0,f=!1;t.forEach((m=>{++o,m.next((()=>{++u,f&&u===o&&n()}),(p=>s(p)))})),f=!0,u===o&&n()}))}static or(t){let n=nt.resolve(!1);for(const s of t)n=n.next((o=>o?nt.resolve(o):s()));return n}static forEach(t,n){const s=[];return t.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(t,n){return new nt(((s,o)=>{const u=t.length,f=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;n(t[g]).next((v=>{f[g]=v,++m,m===u&&s(f)}),(v=>o(v)))}}))}static doWhile(t,n){return new nt(((s,o)=>{const u=()=>{t()===!0?n().next((()=>{u()}),o):s()};u()}))}}function sC(i){const t=i.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ro(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Bh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wp=-1;function jh(i){return i==null}function dh(i){return i===0&&1/i==-1/0}function aC(i){return typeof i=="number"&&Number.isInteger(i)&&!dh(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vE="";function oC(i){let t="";for(let n=0;n<i.length;n++)t.length>0&&(t=mT(t)),t=lC(i.get(n),t);return mT(t)}function lC(i,t){let n=t;const s=i.length;for(let o=0;o<s;o++){const u=i.charAt(o);switch(u){case"\0":n+="";break;case vE:n+="";break;default:n+=u}}return n}function mT(i){return i+vE+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pT(i){let t=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&t++;return t}function us(i,t){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&t(n,i[n])}function TE(i){for(const t in i)if(Object.prototype.hasOwnProperty.call(i,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ce{constructor(t,n){this.comparator=t,this.root=n||qe.EMPTY}insert(t,n){return new ce(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,qe.BLACK,null,null))}remove(t){return new ce(this.comparator,this.root.remove(t,this.comparator).copy(null,null,qe.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(t,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(t){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(t,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((n,s)=>(t(n,s),!1)))}toString(){const t=[];return this.inorderTraversal(((n,s)=>(t.push(`${n}:${s}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new $c(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new $c(this.root,t,this.comparator,!1)}getReverseIterator(){return new $c(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new $c(this.root,t,this.comparator,!0)}}class $c{constructor(t,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=n?s(t.key,n):1,n&&o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class qe{constructor(t,n,s,o,u){this.key=t,this.value=n,this.color=s??qe.RED,this.left=o??qe.EMPTY,this.right=u??qe.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,s,o,u){return new qe(t??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,s){let o=this;const u=s(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(t,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return qe.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let s,o=this;if(n(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(t,o.key)===0){if(o.right.isEmpty())return qe.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,qe.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,qe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Tt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Tt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Tt(27949);return t+(this.isRed()?0:1)}}qe.EMPTY=null,qe.RED=!0,qe.BLACK=!1;qe.EMPTY=new class{constructor(){this.size=0}get key(){throw Tt(57766)}get value(){throw Tt(16141)}get color(){throw Tt(16727)}get left(){throw Tt(29726)}get right(){throw Tt(36894)}copy(t,n,s,o,u){return this}insert(t,n,s){return new qe(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ne{constructor(t){this.comparator=t,this.data=new ce(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((n,s)=>(t(n),!1)))}forEachInRange(t,n){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,t[1])>=0)return;n(o.key)}}forEachWhile(t,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new gT(this.data.getIterator())}getIteratorFrom(t){return new gT(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach((s=>{n=n.add(s)})),n}isEqual(t){if(!(t instanceof Ne)||this.size!==t.size)return!1;const n=this.data.getIterator(),s=t.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((n=>{t.push(n)})),t}toString(){const t=[];return this.forEach((n=>t.push(n))),"SortedSet("+t.toString()+")"}copy(t){const n=new Ne(this.comparator);return n.data=t,n}}class gT{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(t){this.fields=t,t.sort(He.comparator)}static empty(){return new bn([])}unionWith(t){let n=new Ne(He.comparator);for(const s of this.fields)n=n.add(s);for(const s of t)n=n.add(s);return new bn(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return fo(this.fields,t.fields,((n,s)=>n.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{constructor(t){this.binaryString=t}static fromBase64String(t){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new EE("Invalid base64 string: "+u):u}})(t);return new Ge(n)}static fromUint8Array(t){const n=(function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u})(t);return new Ge(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Vt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ge.EMPTY_BYTE_STRING=new Ge("");const uC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ns(i){if(qt(!!i,39018),typeof i=="string"){let t=0;const n=uC.exec(i);if(qt(!!n,46558,{timestamp:i}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),t=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:ve(i.seconds),nanos:ve(i.nanos)}}function ve(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function is(i){return typeof i=="string"?Ge.fromBase64String(i):Ge.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bE="server_timestamp",AE="__type__",SE="__previous_value__",wE="__local_write_time__";function Rp(i){return(i?.mapValue?.fields||{})[AE]?.stringValue===bE}function qh(i){const t=i.mapValue.fields[SE];return Rp(t)?qh(t):t}function tu(i){const t=ns(i.mapValue.fields[wE].timestampValue);return new ie(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cC{constructor(t,n,s,o,u,f,m,p,g,v){this.databaseId=t,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=v}}const mh="(default)";class eu{constructor(t,n){this.projectId=t,this.database=n||mh}static empty(){return new eu("","")}get isDefaultDatabase(){return this.database===mh}isEqual(t){return t instanceof eu&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RE="__type__",hC="__max__",Kc={mapValue:{}},IE="__vector__",ph="value";function rs(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Rp(i)?4:dC(i)?9007199254740991:fC(i)?10:11:Tt(28295,{value:i})}function Ri(i,t){if(i===t)return!0;const n=rs(i);if(n!==rs(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===t.booleanValue;case 4:return tu(i).isEqual(tu(t));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=ns(o.timestampValue),m=ns(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos})(i,t);case 5:return i.stringValue===t.stringValue;case 6:return(function(o,u){return is(o.bytesValue).isEqual(is(u.bytesValue))})(i,t);case 7:return i.referenceValue===t.referenceValue;case 8:return(function(o,u){return ve(o.geoPointValue.latitude)===ve(u.geoPointValue.latitude)&&ve(o.geoPointValue.longitude)===ve(u.geoPointValue.longitude)})(i,t);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return ve(o.integerValue)===ve(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=ve(o.doubleValue),m=ve(u.doubleValue);return f===m?dh(f)===dh(m):isNaN(f)&&isNaN(m)}return!1})(i,t);case 9:return fo(i.arrayValue.values||[],t.arrayValue.values||[],Ri);case 10:case 11:return(function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(pT(f)!==pT(m))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(m[p]===void 0||!Ri(f[p],m[p])))return!1;return!0})(i,t);default:return Tt(52216,{left:i})}}function nu(i,t){return(i.values||[]).find((n=>Ri(n,t)))!==void 0}function mo(i,t){if(i===t)return 0;const n=rs(i),s=rs(t);if(n!==s)return Vt(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Vt(i.booleanValue,t.booleanValue);case 2:return(function(u,f){const m=ve(u.integerValue||u.doubleValue),p=ve(f.integerValue||f.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1})(i,t);case 3:return yT(i.timestampValue,t.timestampValue);case 4:return yT(tu(i),tu(t));case 5:return Bm(i.stringValue,t.stringValue);case 6:return(function(u,f){const m=is(u),p=is(f);return m.compareTo(p)})(i.bytesValue,t.bytesValue);case 7:return(function(u,f){const m=u.split("/"),p=f.split("/");for(let g=0;g<m.length&&g<p.length;g++){const v=Vt(m[g],p[g]);if(v!==0)return v}return Vt(m.length,p.length)})(i.referenceValue,t.referenceValue);case 8:return(function(u,f){const m=Vt(ve(u.latitude),ve(f.latitude));return m!==0?m:Vt(ve(u.longitude),ve(f.longitude))})(i.geoPointValue,t.geoPointValue);case 9:return _T(i.arrayValue,t.arrayValue);case 10:return(function(u,f){const m=u.fields||{},p=f.fields||{},g=m[ph]?.arrayValue,v=p[ph]?.arrayValue,b=Vt(g?.values?.length||0,v?.values?.length||0);return b!==0?b:_T(g,v)})(i.mapValue,t.mapValue);case 11:return(function(u,f){if(u===Kc.mapValue&&f===Kc.mapValue)return 0;if(u===Kc.mapValue)return 1;if(f===Kc.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=f.fields||{},v=Object.keys(g);p.sort(),v.sort();for(let b=0;b<p.length&&b<v.length;++b){const w=Bm(p[b],v[b]);if(w!==0)return w;const V=mo(m[p[b]],g[v[b]]);if(V!==0)return V}return Vt(p.length,v.length)})(i.mapValue,t.mapValue);default:throw Tt(23264,{he:n})}}function yT(i,t){if(typeof i=="string"&&typeof t=="string"&&i.length===t.length)return Vt(i,t);const n=ns(i),s=ns(t),o=Vt(n.seconds,s.seconds);return o!==0?o:Vt(n.nanos,s.nanos)}function _T(i,t){const n=i.values||[],s=t.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=mo(n[o],s[o]);if(u)return u}return Vt(n.length,s.length)}function po(i){return jm(i)}function jm(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(n){const s=ns(n);return`time(${s.seconds},${s.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(n){return is(n).toBase64()})(i.bytesValue):"referenceValue"in i?(function(n){return yt.fromName(n).toString()})(i.referenceValue):"geoPointValue"in i?(function(n){return`geo(${n.latitude},${n.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=jm(u);return s+"]"})(i.arrayValue):"mapValue"in i?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${jm(n.fields[f])}`;return o+"}"})(i.mapValue):Tt(61005,{value:i})}function th(i){switch(rs(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=qh(i);return t?16+th(t):16;case 5:return 2*i.stringValue.length;case 6:return is(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+th(u)),0)})(i.arrayValue);case 10:case 11:return(function(s){let o=0;return us(s.fields,((u,f)=>{o+=u.length+th(f)})),o})(i.mapValue);default:throw Tt(13486,{value:i})}}function vT(i,t){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${t.path.canonicalString()}`}}function qm(i){return!!i&&"integerValue"in i}function Ip(i){return!!i&&"arrayValue"in i}function TT(i){return!!i&&"nullValue"in i}function ET(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function eh(i){return!!i&&"mapValue"in i}function fC(i){return(i?.mapValue?.fields||{})[RE]?.stringValue===IE}function Gl(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const t={mapValue:{fields:{}}};return us(i.mapValue.fields,((n,s)=>t.mapValue.fields[n]=Gl(s))),t}if(i.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Gl(i.arrayValue.values[n]);return t}return{...i}}function dC(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===hC}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(t){this.value=t}static empty(){return new fn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let s=0;s<t.length-1;++s)if(n=(n.mapValue.fields||{})[t.get(s)],!eh(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Gl(n)}setAll(t){let n=He.emptyPath(),s={},o=[];t.forEach(((f,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=Gl(f):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(t){const n=this.field(t.popLast());eh(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return Ri(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<t.length;++s){let o=n.mapValue.fields[t.get(s)];eh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[t.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(t,n,s){us(n,((o,u)=>t[o]=u));for(const o of s)delete t[o]}clone(){return new fn(Gl(this.value))}}function CE(i){const t=[];return us(i.fields,((n,s)=>{const o=new He([n]);if(eh(s)){const u=CE(s.mapValue).fields;if(u.length===0)t.push(o);else for(const f of u)t.push(o.child(f))}else t.push(o)})),new bn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ze{constructor(t,n,s,o,u,f,m){this.key=t,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(t){return new Ze(t,0,St.min(),St.min(),St.min(),fn.empty(),0)}static newFoundDocument(t,n,s,o){return new Ze(t,1,n,St.min(),s,o,0)}static newNoDocument(t,n){return new Ze(t,2,n,St.min(),St.min(),fn.empty(),0)}static newUnknownDocument(t,n){return new Ze(t,3,n,St.min(),St.min(),fn.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(St.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=fn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=fn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=St.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Ze&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Ze(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gh{constructor(t,n){this.position=t,this.inclusive=n}}function bT(i,t,n){let s=0;for(let o=0;o<i.position.length;o++){const u=t[o],f=i.position[o];if(u.field.isKeyField()?s=yt.comparator(yt.fromName(f.referenceValue),n.key):s=mo(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function AT(i,t){if(i===null)return t===null;if(t===null||i.inclusive!==t.inclusive||i.position.length!==t.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!Ri(i.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yh{constructor(t,n="asc"){this.field=t,this.dir=n}}function mC(i,t){return i.dir===t.dir&&i.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DE{}class Ae extends DE{constructor(t,n,s){super(),this.field=t,this.op=n,this.value=s}static create(t,n,s){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,s):new gC(t,n,s):n==="array-contains"?new vC(t,s):n==="in"?new TC(t,s):n==="not-in"?new EC(t,s):n==="array-contains-any"?new bC(t,s):new Ae(t,n,s)}static createKeyFieldInFilter(t,n,s){return n==="in"?new yC(t,s):new _C(t,s)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(mo(n,this.value)):n!==null&&rs(this.value)===rs(n)&&this.matchesComparison(mo(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Tt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Jn extends DE{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new Jn(t,n)}matches(t){return NE(this)?this.filters.find((n=>!n.matches(t)))===void 0:this.filters.find((n=>n.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,n)=>t.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function NE(i){return i.op==="and"}function OE(i){return pC(i)&&NE(i)}function pC(i){for(const t of i.filters)if(t instanceof Jn)return!1;return!0}function Hm(i){if(i instanceof Ae)return i.field.canonicalString()+i.op.toString()+po(i.value);if(OE(i))return i.filters.map((t=>Hm(t))).join(",");{const t=i.filters.map((n=>Hm(n))).join(",");return`${i.op}(${t})`}}function xE(i,t){return i instanceof Ae?(function(s,o){return o instanceof Ae&&s.op===o.op&&s.field.isEqual(o.field)&&Ri(s.value,o.value)})(i,t):i instanceof Jn?(function(s,o){return o instanceof Jn&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,f,m)=>u&&xE(f,o.filters[m])),!0):!1})(i,t):void Tt(19439)}function ME(i){return i instanceof Ae?(function(n){return`${n.field.canonicalString()} ${n.op} ${po(n.value)}`})(i):i instanceof Jn?(function(n){return n.op.toString()+" {"+n.getFilters().map(ME).join(" ,")+"}"})(i):"Filter"}class gC extends Ae{constructor(t,n,s){super(t,n,s),this.key=yt.fromName(s.referenceValue)}matches(t){const n=yt.comparator(t.key,this.key);return this.matchesComparison(n)}}class yC extends Ae{constructor(t,n){super(t,"in",n),this.keys=VE("in",n)}matches(t){return this.keys.some((n=>n.isEqual(t.key)))}}class _C extends Ae{constructor(t,n){super(t,"not-in",n),this.keys=VE("not-in",n)}matches(t){return!this.keys.some((n=>n.isEqual(t.key)))}}function VE(i,t){return(t.arrayValue?.values||[]).map((n=>yt.fromName(n.referenceValue)))}class vC extends Ae{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return Ip(n)&&nu(n.arrayValue,this.value)}}class TC extends Ae{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&nu(this.value.arrayValue,n)}}class EC extends Ae{constructor(t,n){super(t,"not-in",n)}matches(t){if(nu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!nu(this.value.arrayValue,n)}}class bC extends Ae{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!Ip(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>nu(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AC{constructor(t,n=null,s=[],o=[],u=null,f=null,m=null){this.path=t,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Te=null}}function ST(i,t=null,n=[],s=[],o=null,u=null,f=null){return new AC(i,t,n,s,o,u,f)}function Cp(i){const t=Rt(i);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((s=>Hm(s))).join(","),n+="|ob:",n+=t.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),jh(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((s=>po(s))).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((s=>po(s))).join(",")),t.Te=n}return t.Te}function Dp(i,t){if(i.limit!==t.limit||i.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!mC(i.orderBy[n],t.orderBy[n]))return!1;if(i.filters.length!==t.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!xE(i.filters[n],t.filters[n]))return!1;return i.collectionGroup===t.collectionGroup&&!!i.path.isEqual(t.path)&&!!AT(i.startAt,t.startAt)&&AT(i.endAt,t.endAt)}function Fm(i){return yt.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class du{constructor(t,n=null,s=[],o=[],u=null,f="F",m=null,p=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function SC(i,t,n,s,o,u,f,m){return new du(i,t,n,s,o,u,f,m)}function Np(i){return new du(i)}function wT(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function PE(i){return i.collectionGroup!==null}function $l(i){const t=Rt(i);if(t.Ie===null){t.Ie=[];const n=new Set;for(const u of t.explicitOrderBy)t.Ie.push(u),n.add(u.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Ne(He.comparator);return f.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(m=m.add(g.field))}))})),m})(t).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||t.Ie.push(new yh(u,s))})),n.has(He.keyField().canonicalString())||t.Ie.push(new yh(He.keyField(),s))}return t.Ie}function vi(i){const t=Rt(i);return t.Ee||(t.Ee=wC(t,$l(i))),t.Ee}function wC(i,t){if(i.limitType==="F")return ST(i.path,i.collectionGroup,t,i.filters,i.limit,i.startAt,i.endAt);{t=t.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new yh(o.field,u)}));const n=i.endAt?new gh(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new gh(i.startAt.position,i.startAt.inclusive):null;return ST(i.path,i.collectionGroup,t,i.filters,i.limit,n,s)}}function Gm(i,t){const n=i.filters.concat([t]);return new du(i.path,i.collectionGroup,i.explicitOrderBy.slice(),n,i.limit,i.limitType,i.startAt,i.endAt)}function $m(i,t,n){return new du(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),t,n,i.startAt,i.endAt)}function Hh(i,t){return Dp(vi(i),vi(t))&&i.limitType===t.limitType}function kE(i){return`${Cp(vi(i))}|lt:${i.limitType}`}function no(i){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>ME(o))).join(", ")}]`),jh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>po(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>po(o))).join(",")),`Target(${s})`})(vi(i))}; limitType=${i.limitType})`}function Fh(i,t){return t.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):yt.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(i,t)&&(function(s,o){for(const u of $l(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(i,t)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(i,t)&&(function(s,o){return!(s.startAt&&!(function(f,m,p){const g=bT(f,m,p);return f.inclusive?g<=0:g<0})(s.startAt,$l(s),o)||s.endAt&&!(function(f,m,p){const g=bT(f,m,p);return f.inclusive?g>=0:g>0})(s.endAt,$l(s),o))})(i,t)}function RC(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function LE(i){return(t,n)=>{let s=!1;for(const o of $l(i)){const u=IC(o,t,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function IC(i,t,n){const s=i.field.isKeyField()?yt.comparator(t.key,n.key):(function(u,f,m){const p=f.data.field(u),g=m.data.field(u);return p!==null&&g!==null?mo(p,g):Tt(42886)})(i.field,t,n);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return Tt(19790,{direction:i.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,t))return u}}has(t){return this.get(t)!==void 0}set(t,n){const s=this.mapKeyFn(t),o=this.inner[s];if(o===void 0)return this.inner[s]=[[t,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,n]);o.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],t))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(t){us(this.inner,((n,s)=>{for(const[o,u]of s)t(o,u)}))}isEmpty(){return TE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CC=new ce(yt.comparator);function nr(){return CC}const UE=new ce(yt.comparator);function jl(...i){let t=UE;for(const n of i)t=t.insert(n.key,n);return t}function zE(i){let t=UE;return i.forEach(((n,s)=>t=t.insert(n,s.overlayedDocument))),t}function Ys(){return Kl()}function BE(){return Kl()}function Kl(){return new la((i=>i.toString()),((i,t)=>i.isEqual(t)))}const DC=new ce(yt.comparator),NC=new Ne(yt.comparator);function Pt(...i){let t=NC;for(const n of i)t=t.add(n);return t}const OC=new Ne(Vt);function xC(){return OC}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Op(i,t){if(i.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:dh(t)?"-0":t}}function jE(i){return{integerValue:""+i}}function MC(i,t){return aC(t)?jE(t):Op(i,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gh{constructor(){this._=void 0}}function VC(i,t,n){return i instanceof _h?(function(o,u){const f={fields:{[AE]:{stringValue:bE},[wE]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Rp(u)&&(u=qh(u)),u&&(f.fields[SE]=u),{mapValue:f}})(n,t):i instanceof iu?HE(i,t):i instanceof ru?FE(i,t):(function(o,u){const f=qE(o,u),m=RT(f)+RT(o.Ae);return qm(f)&&qm(o.Ae)?jE(m):Op(o.serializer,m)})(i,t)}function PC(i,t,n){return i instanceof iu?HE(i,t):i instanceof ru?FE(i,t):n}function qE(i,t){return i instanceof vh?(function(s){return qm(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(t)?t:{integerValue:0}:null}class _h extends Gh{}class iu extends Gh{constructor(t){super(),this.elements=t}}function HE(i,t){const n=GE(t);for(const s of i.elements)n.some((o=>Ri(o,s)))||n.push(s);return{arrayValue:{values:n}}}class ru extends Gh{constructor(t){super(),this.elements=t}}function FE(i,t){let n=GE(t);for(const s of i.elements)n=n.filter((o=>!Ri(o,s)));return{arrayValue:{values:n}}}class vh extends Gh{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function RT(i){return ve(i.integerValue||i.doubleValue)}function GE(i){return Ip(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function kC(i,t){return i.field.isEqual(t.field)&&(function(s,o){return s instanceof iu&&o instanceof iu||s instanceof ru&&o instanceof ru?fo(s.elements,o.elements,Ri):s instanceof vh&&o instanceof vh?Ri(s.Ae,o.Ae):s instanceof _h&&o instanceof _h})(i.transform,t.transform)}class LC{constructor(t,n){this.version=t,this.transformResults=n}}class Xn{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new Xn}static exists(t){return new Xn(void 0,t)}static updateTime(t){return new Xn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function nh(i,t){return i.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(i.updateTime):i.exists===void 0||i.exists===t.isFoundDocument()}class $h{}function $E(i,t){if(!i.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return i.isNoDocument()?new xp(i.key,Xn.none()):new mu(i.key,i.data,Xn.none());{const n=i.data,s=fn.empty();let o=new Ne(He.comparator);for(let u of t.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new cs(i.key,s,new bn(o.toArray()),Xn.none())}}function UC(i,t,n){i instanceof mu?(function(o,u,f){const m=o.value.clone(),p=CT(o.fieldTransforms,u,f.transformResults);m.setAll(p),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()})(i,t,n):i instanceof cs?(function(o,u,f){if(!nh(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=CT(o.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(KE(o)),p.setAll(m),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()})(i,t,n):(function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,t,n)}function Ql(i,t,n,s){return i instanceof mu?(function(u,f,m,p){if(!nh(u.precondition,f))return m;const g=u.value.clone(),v=DT(u.fieldTransforms,p,f);return g.setAll(v),f.convertToFoundDocument(f.version,g).setHasLocalMutations(),null})(i,t,n,s):i instanceof cs?(function(u,f,m,p){if(!nh(u.precondition,f))return m;const g=DT(u.fieldTransforms,p,f),v=f.data;return v.setAll(KE(u)),v.setAll(g),f.convertToFoundDocument(f.version,v).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((b=>b.field)))})(i,t,n,s):(function(u,f,m){return nh(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m})(i,t,n)}function zC(i,t){let n=null;for(const s of i.fieldTransforms){const o=t.data.field(s.field),u=qE(s.transform,o||null);u!=null&&(n===null&&(n=fn.empty()),n.set(s.field,u))}return n||null}function IT(i,t){return i.type===t.type&&!!i.key.isEqual(t.key)&&!!i.precondition.isEqual(t.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&fo(s,o,((u,f)=>kC(u,f)))})(i.fieldTransforms,t.fieldTransforms)&&(i.type===0?i.value.isEqual(t.value):i.type!==1||i.data.isEqual(t.data)&&i.fieldMask.isEqual(t.fieldMask))}class mu extends $h{constructor(t,n,s,o=[]){super(),this.key=t,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class cs extends $h{constructor(t,n,s,o,u=[]){super(),this.key=t,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function KE(i){const t=new Map;return i.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=i.data.field(n);t.set(n,s)}})),t}function CT(i,t,n){const s=new Map;qt(i.length===n.length,32656,{Re:n.length,Ve:i.length});for(let o=0;o<n.length;o++){const u=i[o],f=u.transform,m=t.data.field(u.field);s.set(u.field,PC(f,m,n[o]))}return s}function DT(i,t,n){const s=new Map;for(const o of i){const u=o.transform,f=n.data.field(o.field);s.set(o.field,VC(u,f,t))}return s}class xp extends $h{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class BC extends $h{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jC{constructor(t,n,s,o){this.batchId=t,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(t,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(t.key)&&UC(u,t,s[o])}}applyToLocalView(t,n){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(n=Ql(s,t,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(n=Ql(s,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const s=BE();return this.mutations.forEach((o=>{const u=t.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const p=$E(f,m);p!==null&&s.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(St.min())})),s}keys(){return this.mutations.reduce(((t,n)=>t.add(n.key)),Pt())}isEqual(t){return this.batchId===t.batchId&&fo(this.mutations,t.mutations,((n,s)=>IT(n,s)))&&fo(this.baseMutations,t.baseMutations,((n,s)=>IT(n,s)))}}class Mp{constructor(t,n,s,o){this.batch=t,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(t,n,s){qt(t.mutations.length===s.length,58842,{me:t.mutations.length,fe:s.length});let o=(function(){return DC})();const u=t.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new Mp(t,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qC{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HC{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var be,Ut;function FC(i){switch(i){case tt.OK:return Tt(64938);case tt.CANCELLED:case tt.UNKNOWN:case tt.DEADLINE_EXCEEDED:case tt.RESOURCE_EXHAUSTED:case tt.INTERNAL:case tt.UNAVAILABLE:case tt.UNAUTHENTICATED:return!1;case tt.INVALID_ARGUMENT:case tt.NOT_FOUND:case tt.ALREADY_EXISTS:case tt.PERMISSION_DENIED:case tt.FAILED_PRECONDITION:case tt.ABORTED:case tt.OUT_OF_RANGE:case tt.UNIMPLEMENTED:case tt.DATA_LOSS:return!0;default:return Tt(15467,{code:i})}}function QE(i){if(i===void 0)return tr("GRPC error has no .code"),tt.UNKNOWN;switch(i){case be.OK:return tt.OK;case be.CANCELLED:return tt.CANCELLED;case be.UNKNOWN:return tt.UNKNOWN;case be.DEADLINE_EXCEEDED:return tt.DEADLINE_EXCEEDED;case be.RESOURCE_EXHAUSTED:return tt.RESOURCE_EXHAUSTED;case be.INTERNAL:return tt.INTERNAL;case be.UNAVAILABLE:return tt.UNAVAILABLE;case be.UNAUTHENTICATED:return tt.UNAUTHENTICATED;case be.INVALID_ARGUMENT:return tt.INVALID_ARGUMENT;case be.NOT_FOUND:return tt.NOT_FOUND;case be.ALREADY_EXISTS:return tt.ALREADY_EXISTS;case be.PERMISSION_DENIED:return tt.PERMISSION_DENIED;case be.FAILED_PRECONDITION:return tt.FAILED_PRECONDITION;case be.ABORTED:return tt.ABORTED;case be.OUT_OF_RANGE:return tt.OUT_OF_RANGE;case be.UNIMPLEMENTED:return tt.UNIMPLEMENTED;case be.DATA_LOSS:return tt.DATA_LOSS;default:return Tt(39323,{code:i})}}(Ut=be||(be={}))[Ut.OK=0]="OK",Ut[Ut.CANCELLED=1]="CANCELLED",Ut[Ut.UNKNOWN=2]="UNKNOWN",Ut[Ut.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ut[Ut.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ut[Ut.NOT_FOUND=5]="NOT_FOUND",Ut[Ut.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ut[Ut.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ut[Ut.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ut[Ut.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ut[Ut.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ut[Ut.ABORTED=10]="ABORTED",Ut[Ut.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ut[Ut.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ut[Ut.INTERNAL=13]="INTERNAL",Ut[Ut.UNAVAILABLE=14]="UNAVAILABLE",Ut[Ut.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GC(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $C=new Zr([4294967295,4294967295],0);function NT(i){const t=GC().encode(i),n=new uE;return n.update(t),new Uint8Array(n.digest())}function OT(i){const t=new DataView(i.buffer),n=t.getUint32(0,!0),s=t.getUint32(4,!0),o=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new Zr([n,s],0),new Zr([o,u],0)]}class Vp{constructor(t,n,s){if(this.bitmap=t,this.padding=n,this.hashCount=s,n<0||n>=8)throw new ql(`Invalid padding: ${n}`);if(s<0)throw new ql(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new ql(`Invalid hash count: ${s}`);if(t.length===0&&n!==0)throw new ql(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=Zr.fromNumber(this.ge)}ye(t,n,s){let o=t.add(n.multiply(Zr.fromNumber(s)));return o.compare($C)===1&&(o=new Zr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=NT(t),[s,o]=OT(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);if(!this.we(f))return!1}return!0}static create(t,n,s){const o=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),f=new Vp(u,o,n);return s.forEach((m=>f.insert(m))),f}insert(t){if(this.ge===0)return;const n=NT(t),[s,o]=OT(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);this.Se(f)}}Se(t){const n=Math.floor(t/8),s=t%8;this.bitmap[n]|=1<<s}}class ql extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh{constructor(t,n,s,o,u){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,n,s){const o=new Map;return o.set(t,pu.createSynthesizedTargetChangeForCurrentChange(t,n,s)),new Kh(St.min(),o,new ce(Vt),nr(),Pt())}}class pu{constructor(t,n,s,o,u){this.resumeToken=t,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,n,s){return new pu(s,n,Pt(),Pt(),Pt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ih{constructor(t,n,s,o){this.be=t,this.removedTargetIds=n,this.key=s,this.De=o}}class YE{constructor(t,n){this.targetId=t,this.Ce=n}}class XE{constructor(t,n,s=Ge.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=n,this.resumeToken=s,this.cause=o}}class xT{constructor(){this.ve=0,this.Fe=MT(),this.Me=Ge.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Pt(),n=Pt(),s=Pt();return this.Fe.forEach(((o,u)=>{switch(u){case 0:t=t.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:Tt(38017,{changeType:u})}})),new pu(this.Me,this.xe,t,n,s)}qe(){this.Oe=!1,this.Fe=MT()}Qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,qt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class KC{constructor(t){this.Ge=t,this.ze=new Map,this.je=nr(),this.Je=Qc(),this.He=Qc(),this.Ye=new ce(Vt)}Ze(t){for(const n of t.be)t.De&&t.De.isFoundDocument()?this.Xe(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,(n=>{const s=this.nt(n);switch(t.state){case 0:this.rt(n)&&s.Le(t.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(t.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(t.resumeToken));break;default:Tt(56790,{state:t.state})}}))}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(t){const n=t.targetId,s=t.Ce.count,o=this.ot(n);if(o){const u=o.target;if(Fm(u))if(s===0){const f=new yt(u.path);this.et(n,f,Ze.newNoDocument(f,St.min()))}else qt(s===1,20013,{expectedCount:s});else{const f=this._t(n);if(f!==s){const m=this.ut(t),p=m?this.ct(m,t,f):1;if(p!==0){this.it(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,g)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=is(s).toUint8Array()}catch(p){if(p instanceof EE)return ho("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Vp(f,o,u)}catch(p){return ho(p instanceof ql?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.ge===0?null:m}ct(t,n,s){return n.Ce.count===s-this.Pt(t,n.targetId)?0:2}Pt(t,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const f=this.Ge.ht(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;t.mightContain(m)||(this.et(n,u,null),o++)})),o}Tt(t){const n=new Map;this.ze.forEach(((u,f)=>{const m=this.ot(f);if(m){if(u.current&&Fm(m.target)){const p=new yt(m.target.path);this.It(p).has(f)||this.Et(f,p)||this.et(f,p,Ze.newNoDocument(p,t))}u.Be&&(n.set(f,u.ke()),u.qe())}}));let s=Pt();this.He.forEach(((u,f)=>{let m=!0;f.forEachWhile((p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(u))})),this.je.forEach(((u,f)=>f.setReadTime(t)));const o=new Kh(t,n,this.Ye,this.je,s);return this.je=nr(),this.Je=Qc(),this.He=Qc(),this.Ye=new ce(Vt),o}Xe(t,n){if(!this.rt(t))return;const s=this.Et(t,n.key)?2:0;this.nt(t).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(t)),this.He=this.He.insert(n.key,this.dt(n.key).add(t))}et(t,n,s){if(!this.rt(t))return;const o=this.nt(t);this.Et(t,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(t)),this.He=this.He.insert(n,this.dt(n).add(t)),s&&(this.je=this.je.insert(n,s))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let n=this.ze.get(t);return n||(n=new xT,this.ze.set(t,n)),n}dt(t){let n=this.He.get(t);return n||(n=new Ne(Vt),this.He=this.He.insert(t,n)),n}It(t){let n=this.Je.get(t);return n||(n=new Ne(Vt),this.Je=this.Je.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||ht("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new xT),this.Ge.getRemoteKeysForTarget(t).forEach((n=>{this.et(t,n,null)}))}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function Qc(){return new ce(yt.comparator)}function MT(){return new ce(yt.comparator)}const QC={asc:"ASCENDING",desc:"DESCENDING"},YC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},XC={and:"AND",or:"OR"};class WC{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function Km(i,t){return i.useProto3Json||jh(t)?t:{value:t}}function Th(i,t){return i.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function WE(i,t){return i.useProto3Json?t.toBase64():t.toUint8Array()}function ZC(i,t){return Th(i,t.toTimestamp())}function Ti(i){return qt(!!i,49232),St.fromTimestamp((function(n){const s=ns(n);return new ie(s.seconds,s.nanos)})(i))}function Pp(i,t){return Qm(i,t).canonicalString()}function Qm(i,t){const n=(function(o){return new ee(["projects",o.projectId,"databases",o.database])})(i).child("documents");return t===void 0?n:n.child(t)}function ZE(i){const t=ee.fromString(i);return qt(ib(t),10190,{key:t.toString()}),t}function Ym(i,t){return Pp(i.databaseId,t.path)}function bm(i,t){const n=ZE(t);if(n.get(1)!==i.databaseId.projectId)throw new ut(tt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new ut(tt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new yt(tb(n))}function JE(i,t){return Pp(i.databaseId,t)}function JC(i){const t=ZE(i);return t.length===4?ee.emptyPath():tb(t)}function Xm(i){return new ee(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function tb(i){return qt(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function VT(i,t,n){return{name:Ym(i,t),fields:n.value.mapValue.fields}}function t2(i,t){let n;if("targetChange"in t){t.targetChange;const s=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Tt(39313,{state:g})})(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],u=(function(g,v){return g.useProto3Json?(qt(v===void 0||typeof v=="string",58123),Ge.fromBase64String(v||"")):(qt(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),Ge.fromUint8Array(v||new Uint8Array))})(i,t.targetChange.resumeToken),f=t.targetChange.cause,m=f&&(function(g){const v=g.code===void 0?tt.UNKNOWN:QE(g.code);return new ut(v,g.message||"")})(f);n=new XE(s,o,u,m||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const o=bm(i,s.document.name),u=Ti(s.document.updateTime),f=s.document.createTime?Ti(s.document.createTime):St.min(),m=new fn({mapValue:{fields:s.document.fields}}),p=Ze.newFoundDocument(o,u,f,m),g=s.targetIds||[],v=s.removedTargetIds||[];n=new ih(g,v,p.key,p)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const o=bm(i,s.document),u=s.readTime?Ti(s.readTime):St.min(),f=Ze.newNoDocument(o,u),m=s.removedTargetIds||[];n=new ih([],m,f.key,f)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const o=bm(i,s.document),u=s.removedTargetIds||[];n=new ih([],u,o,null)}else{if(!("filter"in t))return Tt(11601,{Rt:t});{t.filter;const s=t.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new HC(o,u),m=s.targetId;n=new YE(m,f)}}return n}function e2(i,t){let n;if(t instanceof mu)n={update:VT(i,t.key,t.value)};else if(t instanceof xp)n={delete:Ym(i,t.key)};else if(t instanceof cs)n={update:VT(i,t.key,t.data),updateMask:c2(t.fieldMask)};else{if(!(t instanceof BC))return Tt(16599,{Vt:t.type});n={verify:Ym(i,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((s=>(function(u,f){const m=f.transform;if(m instanceof _h)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof iu)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof ru)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof vh)return{fieldPath:f.field.canonicalString(),increment:m.Ae};throw Tt(20930,{transform:f.transform})})(0,s)))),t.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:ZC(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Tt(27497)})(i,t.precondition)),n}function n2(i,t){return i&&i.length>0?(qt(t!==void 0,14353),i.map((n=>(function(o,u){let f=o.updateTime?Ti(o.updateTime):Ti(u);return f.isEqual(St.min())&&(f=Ti(u)),new LC(f,o.transformResults||[])})(n,t)))):[]}function i2(i,t){return{documents:[JE(i,t.path)]}}function r2(i,t){const n={structuredQuery:{}},s=t.path;let o;t.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=JE(i,o);const u=(function(g){if(g.length!==0)return nb(Jn.create(g,"and"))})(t.filters);u&&(n.structuredQuery.where=u);const f=(function(g){if(g.length!==0)return g.map((v=>(function(w){return{field:io(w.field),direction:o2(w.dir)}})(v)))})(t.orderBy);f&&(n.structuredQuery.orderBy=f);const m=Km(i,t.limit);return m!==null&&(n.structuredQuery.limit=m),t.startAt&&(n.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(t.startAt)),t.endAt&&(n.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(t.endAt)),{ft:n,parent:o}}function s2(i){let t=JC(i.parent);const n=i.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){qt(s===1,65062);const v=n.from[0];v.allDescendants?o=v.collectionId:t=t.child(v.collectionId)}let u=[];n.where&&(u=(function(b){const w=eb(b);return w instanceof Jn&&OE(w)?w.getFilters():[w]})(n.where));let f=[];n.orderBy&&(f=(function(b){return b.map((w=>(function(K){return new yh(ro(K.field),(function(L){switch(L){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(K.direction))})(w)))})(n.orderBy));let m=null;n.limit&&(m=(function(b){let w;return w=typeof b=="object"?b.value:b,jh(w)?null:w})(n.limit));let p=null;n.startAt&&(p=(function(b){const w=!!b.before,V=b.values||[];return new gh(V,w)})(n.startAt));let g=null;return n.endAt&&(g=(function(b){const w=!b.before,V=b.values||[];return new gh(V,w)})(n.endAt)),SC(t,o,f,u,m,"F",p,g)}function a2(i,t){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Tt(28987,{purpose:o})}})(t.purpose);return n==null?null:{"goog-listen-tags":n}}function eb(i){return i.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=ro(n.unaryFilter.field);return Ae.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=ro(n.unaryFilter.field);return Ae.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=ro(n.unaryFilter.field);return Ae.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=ro(n.unaryFilter.field);return Ae.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Tt(61313);default:return Tt(60726)}})(i):i.fieldFilter!==void 0?(function(n){return Ae.create(ro(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Tt(58110);default:return Tt(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(n){return Jn.create(n.compositeFilter.filters.map((s=>eb(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Tt(1026)}})(n.compositeFilter.op))})(i):Tt(30097,{filter:i})}function o2(i){return QC[i]}function l2(i){return YC[i]}function u2(i){return XC[i]}function io(i){return{fieldPath:i.canonicalString()}}function ro(i){return He.fromServerFormat(i.fieldPath)}function nb(i){return i instanceof Ae?(function(n){if(n.op==="=="){if(ET(n.value))return{unaryFilter:{field:io(n.field),op:"IS_NAN"}};if(TT(n.value))return{unaryFilter:{field:io(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(ET(n.value))return{unaryFilter:{field:io(n.field),op:"IS_NOT_NAN"}};if(TT(n.value))return{unaryFilter:{field:io(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:io(n.field),op:l2(n.op),value:n.value}}})(i):i instanceof Jn?(function(n){const s=n.getFilters().map((o=>nb(o)));return s.length===1?s[0]:{compositeFilter:{op:u2(n.op),filters:s}}})(i):Tt(54877,{filter:i})}function c2(i){const t=[];return i.fields.forEach((n=>t.push(n.canonicalString()))),{fieldPaths:t}}function ib(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr{constructor(t,n,s,o,u=St.min(),f=St.min(),m=Ge.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(t){return new Yr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Yr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Yr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Yr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h2{constructor(t){this.yt=t}}function f2(i){const t=s2({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?$m(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d2{constructor(){this.Cn=new m2}addToCollectionParentIndex(t,n){return this.Cn.add(n),nt.resolve()}getCollectionParents(t,n){return nt.resolve(this.Cn.getEntries(n))}addFieldIndex(t,n){return nt.resolve()}deleteFieldIndex(t,n){return nt.resolve()}deleteAllFieldIndexes(t){return nt.resolve()}createTargetIndexes(t,n){return nt.resolve()}getDocumentsMatchingTarget(t,n){return nt.resolve(null)}getIndexType(t,n){return nt.resolve(0)}getFieldIndexes(t,n){return nt.resolve([])}getNextCollectionGroupToUpdate(t){return nt.resolve(null)}getMinOffset(t,n){return nt.resolve(es.min())}getMinOffsetFromCollectionGroup(t,n){return nt.resolve(es.min())}updateCollectionGroup(t,n,s){return nt.resolve()}updateIndexEntries(t,n){return nt.resolve()}}class m2{constructor(){this.index={}}add(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n]||new Ne(ee.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(t){return(this.index[t]||new Ne(ee.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},rb=41943040;class hn{static withCacheSize(t){return new hn(t,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */hn.DEFAULT_COLLECTION_PERCENTILE=10,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,hn.DEFAULT=new hn(rb,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),hn.DISABLED=new hn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new go(0)}static cr(){return new go(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kT="LruGarbageCollector",p2=1048576;function LT([i,t],[n,s]){const o=Vt(i,n);return o===0?Vt(t,s):o}class g2{constructor(t){this.Ir=t,this.buffer=new Ne(LT),this.Er=0}dr(){return++this.Er}Ar(t){const n=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();LT(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class y2{constructor(t,n,s){this.garbageCollector=t,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){ht(kT,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ro(n)?ht(kT,"Ignoring IndexedDB error during garbage collection: ",n):await wo(n)}await this.Vr(3e5)}))}}class _2{constructor(t,n){this.mr=t,this.params=n}calculateTargetCount(t,n){return this.mr.gr(t).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(t,n){if(n===0)return nt.resolve(Bh.ce);const s=new g2(n);return this.mr.forEachTarget(t,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(t,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(t,n,s){return this.mr.removeTargets(t,n,s)}removeOrphanedDocuments(t,n){return this.mr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(ht("LruGarbageCollector","Garbage collection skipped; disabled"),nt.resolve(PT)):this.getCacheSize(t).next((s=>s<this.params.cacheSizeCollectionThreshold?(ht("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),PT):this.yr(t,n)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,n){let s,o,u,f,m,p,g;const v=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(ht("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),o=this.params.maximumSequenceNumbersToCollect):o=b,f=Date.now(),this.nthSequenceNumber(t,o)))).next((b=>(s=b,m=Date.now(),this.removeTargets(t,s,n)))).next((b=>(u=b,p=Date.now(),this.removeOrphanedDocuments(t,s)))).next((b=>(g=Date.now(),eo()<=Mt.DEBUG&&ht("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-v}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${b} documents in `+(g-p)+`ms
Total Duration: ${g-v}ms`),nt.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:b}))))}}function v2(i,t){return new _2(i,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T2{constructor(){this.changes=new la((t=>t.toString()),((t,n)=>t.isEqual(n))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,Ze.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?nt.resolve(s):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E2{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b2{constructor(t,n,s,o){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(t,n){let s=null;return this.documentOverlayCache.getOverlay(t,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(t,n)))).next((o=>(s!==null&&Ql(s.mutation,o,bn.empty(),ie.now()),o)))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next((s=>this.getLocalViewOfDocuments(t,s,Pt()).next((()=>s))))}getLocalViewOfDocuments(t,n,s=Pt()){const o=Ys();return this.populateOverlays(t,o,n).next((()=>this.computeViews(t,n,o,s).next((u=>{let f=jl();return u.forEach(((m,p)=>{f=f.insert(m,p.overlayedDocument)})),f}))))}getOverlayedDocuments(t,n){const s=Ys();return this.populateOverlays(t,s,n).next((()=>this.computeViews(t,n,s,Pt())))}populateOverlays(t,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(t,o).next((u=>{u.forEach(((f,m)=>{n.set(f,m)}))}))}computeViews(t,n,s,o){let u=nr();const f=Kl(),m=(function(){return Kl()})();return n.forEach(((p,g)=>{const v=s.get(g.key);o.has(g.key)&&(v===void 0||v.mutation instanceof cs)?u=u.insert(g.key,g):v!==void 0?(f.set(g.key,v.mutation.getFieldMask()),Ql(v.mutation,g,v.mutation.getFieldMask(),ie.now())):f.set(g.key,bn.empty())})),this.recalculateAndSaveOverlays(t,u).next((p=>(p.forEach(((g,v)=>f.set(g,v))),n.forEach(((g,v)=>m.set(g,new E2(v,f.get(g)??null)))),m)))}recalculateAndSaveOverlays(t,n){const s=Kl();let o=new ce(((f,m)=>f-m)),u=Pt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next((f=>{for(const m of f)m.keys().forEach((p=>{const g=n.get(p);if(g===null)return;let v=s.get(p)||bn.empty();v=m.applyToLocalView(g,v),s.set(p,v);const b=(o.get(m.batchId)||Pt()).add(p);o=o.insert(m.batchId,b)}))})).next((()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,v=p.value,b=BE();v.forEach((w=>{if(!u.has(w)){const V=$E(n.get(w),s.get(w));V!==null&&b.set(w,V),u=u.add(w)}})),f.push(this.documentOverlayCache.saveOverlays(t,g,b))}return nt.waitFor(f)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next((s=>this.recalculateAndSaveOverlays(t,s)))}getDocumentsMatchingQuery(t,n,s,o){return(function(f){return yt.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):PE(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,s,o):this.getDocumentsMatchingCollectionQuery(t,n,s,o)}getNextDocuments(t,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,s,o).next((u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,s.largestBatchId,o-u.size):nt.resolve(Ys());let m=Jl,p=u;return f.next((g=>nt.forEach(g,((v,b)=>(m<b.largestBatchId&&(m=b.largestBatchId),u.get(v)?nt.resolve():this.remoteDocumentCache.getEntry(t,v).next((w=>{p=p.insert(v,w)}))))).next((()=>this.populateOverlays(t,g,u))).next((()=>this.computeViews(t,p,g,Pt()))).next((v=>({batchId:m,changes:zE(v)})))))}))}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new yt(n)).next((s=>{let o=jl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(t,n,s,o){const u=n.collectionGroup;let f=jl();return this.indexManager.getCollectionParents(t,u).next((m=>nt.forEach(m,(p=>{const g=(function(b,w){return new du(w,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(t,g,s,o).next((v=>{v.forEach(((b,w)=>{f=f.insert(b,w)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(t,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,s.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,s,u,o)))).next((f=>{u.forEach(((p,g)=>{const v=g.getKey();f.get(v)===null&&(f=f.insert(v,Ze.newInvalidDocument(v)))}));let m=jl();return f.forEach(((p,g)=>{const v=u.get(p);v!==void 0&&Ql(v.mutation,g,bn.empty(),ie.now()),Fh(n,g)&&(m=m.insert(p,g))})),m}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A2{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,n){return nt.resolve(this.Lr.get(n))}saveBundleMetadata(t,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Ti(o.createTime)}})(n)),nt.resolve()}getNamedQuery(t,n){return nt.resolve(this.kr.get(n))}saveNamedQuery(t,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:f2(o.bundledQuery),readTime:Ti(o.readTime)}})(n)),nt.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S2{constructor(){this.overlays=new ce(yt.comparator),this.qr=new Map}getOverlay(t,n){return nt.resolve(this.overlays.get(n))}getOverlays(t,n){const s=Ys();return nt.forEach(n,(o=>this.getOverlay(t,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(t,n,s){return s.forEach(((o,u)=>{this.St(t,n,u)})),nt.resolve()}removeOverlaysForBatchId(t,n,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(s)),nt.resolve()}getOverlaysForCollection(t,n,s){const o=Ys(),u=n.length+1,f=new yt(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return nt.resolve(o)}getOverlaysForCollectionGroup(t,n,s,o){let u=new ce(((g,v)=>g-v));const f=this.overlays.getIterator();for(;f.hasNext();){const g=f.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let v=u.get(g.largestBatchId);v===null&&(v=Ys(),u=u.insert(g.largestBatchId,v)),v.set(g.getKey(),g)}}const m=Ys(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,v)=>m.set(g,v))),!(m.size()>=o)););return nt.resolve(m)}St(t,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new qC(n,s));let u=this.qr.get(n);u===void 0&&(u=Pt(),this.qr.set(n,u)),this.qr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w2{constructor(){this.sessionToken=Ge.EMPTY_BYTE_STRING}getSessionToken(t){return nt.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,nt.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kp{constructor(){this.Qr=new Ne(ke.$r),this.Ur=new Ne(ke.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,n){const s=new ke(t,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(t,n){t.forEach((s=>this.addReference(s,n)))}removeReference(t,n){this.Gr(new ke(t,n))}zr(t,n){t.forEach((s=>this.removeReference(s,n)))}jr(t){const n=new yt(new ee([])),s=new ke(n,t),o=new ke(n,t+1),u=[];return this.Ur.forEachInRange([s,o],(f=>{this.Gr(f),u.push(f.key)})),u}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const n=new yt(new ee([])),s=new ke(n,t),o=new ke(n,t+1);let u=Pt();return this.Ur.forEachInRange([s,o],(f=>{u=u.add(f.key)})),u}containsKey(t){const n=new ke(t,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&t.isEqual(s.key)}}class ke{constructor(t,n){this.key=t,this.Yr=n}static $r(t,n){return yt.comparator(t.key,n.key)||Vt(t.Yr,n.Yr)}static Kr(t,n){return Vt(t.Yr,n.Yr)||yt.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R2{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Ne(ke.$r)}checkEmpty(t){return nt.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new jC(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.Zr=this.Zr.add(new ke(m.key,u)),this.indexManager.addToCollectionParentIndex(t,m.key.path.popLast());return nt.resolve(f)}lookupMutationBatch(t,n){return nt.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(t,n){const s=n+1,o=this.ei(s),u=o<0?0:o;return nt.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return nt.resolve(this.mutationQueue.length===0?wp:this.tr-1)}getAllMutationBatches(t){return nt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const s=new ke(n,0),o=new ke(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],(f=>{const m=this.Xr(f.Yr);u.push(m)})),nt.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,n){let s=new Ne(Vt);return n.forEach((o=>{const u=new ke(o,0),f=new ke(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,f],(m=>{s=s.add(m.Yr)}))})),nt.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(t,n){const s=n.path,o=s.length+1;let u=s;yt.isDocumentKey(u)||(u=u.child(""));const f=new ke(new yt(u),0);let m=new Ne(Vt);return this.Zr.forEachWhile((p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Yr)),!0)}),f),nt.resolve(this.ti(m))}ti(t){const n=[];return t.forEach((s=>{const o=this.Xr(s);o!==null&&n.push(o)})),n}removeMutationBatch(t,n){qt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return nt.forEach(n.mutations,(o=>{const u=new ke(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)})).next((()=>{this.Zr=s}))}ir(t){}containsKey(t,n){const s=new ke(n,0),o=this.Zr.firstAfterOrEqual(s);return nt.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,nt.resolve()}ni(t,n){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const n=this.ei(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I2{constructor(t){this.ri=t,this.docs=(function(){return new ce(yt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const s=this.docs.get(n);return nt.resolve(s?s.document.mutableCopy():Ze.newInvalidDocument(n))}getEntries(t,n){let s=nr();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Ze.newInvalidDocument(o))})),nt.resolve(s)}getDocumentsMatchingQuery(t,n,s,o){let u=nr();const f=n.path,m=new yt(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:v}}=p.getNext();if(!f.isPrefixOf(g.path))break;g.path.length>f.length+1||nC(eC(v),s)<=0||(o.has(v.key)||Fh(n,v))&&(u=u.insert(v.key,v.mutableCopy()))}return nt.resolve(u)}getAllFromCollectionGroup(t,n,s,o){Tt(9500)}ii(t,n){return nt.forEach(this.docs,(s=>n(s)))}newChangeBuffer(t){return new C2(this)}getSize(t){return nt.resolve(this.size)}}class C2 extends T2{constructor(t){super(),this.Nr=t}applyChanges(t){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(t,o)):this.Nr.removeEntry(s)})),nt.waitFor(n)}getFromCache(t,n){return this.Nr.getEntry(t,n)}getAllFromCache(t,n){return this.Nr.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D2{constructor(t){this.persistence=t,this.si=new la((n=>Cp(n)),Dp),this.lastRemoteSnapshotVersion=St.min(),this.highestTargetId=0,this.oi=0,this._i=new kp,this.targetCount=0,this.ai=go.ur()}forEachTarget(t,n){return this.si.forEach(((s,o)=>n(o))),nt.resolve()}getLastRemoteSnapshotVersion(t){return nt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return nt.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),nt.resolve(this.highestTargetId)}setTargetsMetadata(t,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),nt.resolve()}Pr(t){this.si.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ai=new go(n),this.highestTargetId=n),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,n){return this.Pr(n),this.targetCount+=1,nt.resolve()}updateTargetData(t,n){return this.Pr(n),nt.resolve()}removeTargetData(t,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,nt.resolve()}removeTargets(t,n,s){let o=0;const u=[];return this.si.forEach(((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.si.delete(f),u.push(this.removeMatchingKeysForTargetId(t,m.targetId)),o++)})),nt.waitFor(u).next((()=>o))}getTargetCount(t){return nt.resolve(this.targetCount)}getTargetData(t,n){const s=this.si.get(n)||null;return nt.resolve(s)}addMatchingKeys(t,n,s){return this._i.Wr(n,s),nt.resolve()}removeMatchingKeys(t,n,s){this._i.zr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((f=>{u.push(o.markPotentiallyOrphaned(t,f))})),nt.waitFor(u)}removeMatchingKeysForTargetId(t,n){return this._i.jr(n),nt.resolve()}getMatchingKeysForTargetId(t,n){const s=this._i.Hr(n);return nt.resolve(s)}containsKey(t,n){return nt.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sb{constructor(t,n){this.ui={},this.overlays={},this.ci=new Bh(0),this.li=!1,this.li=!0,this.hi=new w2,this.referenceDelegate=t(this),this.Pi=new D2(this),this.indexManager=new d2,this.remoteDocumentCache=(function(o){return new I2(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new h2(n),this.Ii=new A2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new S2,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let s=this.ui[t.toKey()];return s||(s=new R2(n,this.referenceDelegate),this.ui[t.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,n,s){ht("MemoryPersistence","Starting transaction:",t);const o=new N2(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(t,n){return nt.or(Object.values(this.ui).map((s=>()=>s.containsKey(t,n))))}}class N2 extends rC{constructor(t){super(),this.currentSequenceNumber=t}}class Lp{constructor(t){this.persistence=t,this.Ri=new kp,this.Vi=null}static mi(t){return new Lp(t)}get fi(){if(this.Vi)return this.Vi;throw Tt(60996)}addReference(t,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),nt.resolve()}removeReference(t,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),nt.resolve()}markPotentiallyOrphaned(t,n){return this.fi.add(n.toString()),nt.resolve()}removeTarget(t,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,n.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>s.removeTargetData(t,n)))}Ei(){this.Vi=new Set}di(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return nt.forEach(this.fi,(s=>{const o=yt.fromPath(s);return this.gi(t,o).next((u=>{u||n.removeEntry(o,St.min())}))})).next((()=>(this.Vi=null,n.apply(t))))}updateLimboDocument(t,n){return this.gi(t,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(t){return 0}gi(t,n){return nt.or([()=>nt.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ai(t,n)])}}class Eh{constructor(t,n){this.persistence=t,this.pi=new la((s=>oC(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=v2(this,n)}static mi(t,n){return new Eh(t,n)}Ei(){}di(t){return nt.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}gr(t){const n=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((s=>n.next((o=>s+o))))}wr(t){let n=0;return this.pr(t,(s=>{n++})).next((()=>n))}pr(t,n){return nt.forEach(this.pi,((s,o)=>this.br(t,s,o).next((u=>u?nt.resolve():n(o)))))}removeTargets(t,n,s){return this.persistence.getTargetCache().removeTargets(t,n,s)}removeOrphanedDocuments(t,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(t,(f=>this.br(t,f,n).next((m=>{m||(s++,u.removeEntry(f,St.min()))})))).next((()=>u.apply(t))).next((()=>s))}markPotentiallyOrphaned(t,n){return this.pi.set(n,t.currentSequenceNumber),nt.resolve()}removeTarget(t,n){const s=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,n,s){return this.pi.set(s,t.currentSequenceNumber),nt.resolve()}removeReference(t,n,s){return this.pi.set(s,t.currentSequenceNumber),nt.resolve()}updateLimboDocument(t,n){return this.pi.set(n,t.currentSequenceNumber),nt.resolve()}Ti(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=th(t.data.value)),n}br(t,n,s){return nt.or([()=>this.persistence.Ai(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const o=this.pi.get(n);return nt.resolve(o!==void 0&&o>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Up{constructor(t,n,s,o){this.targetId=t,this.fromCache=n,this.Es=s,this.ds=o}static As(t,n){let s=Pt(),o=Pt();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Up(t,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x2{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return AR()?8:sC(Je())>0?6:4})()}initialize(t,n){this.ps=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,s,o){const u={result:null};return this.ys(t,n).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ws(t,n,o,s).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new O2;return this.Ss(t,n,f).next((m=>{if(u.result=m,this.Vs)return this.bs(t,n,f,m.size)}))})).next((()=>u.result))}bs(t,n,s,o){return s.documentReadCount<this.fs?(eo()<=Mt.DEBUG&&ht("QueryEngine","SDK will not create cache indexes for query:",no(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),nt.resolve()):(eo()<=Mt.DEBUG&&ht("QueryEngine","Query:",no(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(eo()<=Mt.DEBUG&&ht("QueryEngine","The SDK decides to create cache indexes for query:",no(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,vi(n))):nt.resolve())}ys(t,n){if(wT(n))return nt.resolve(null);let s=vi(n);return this.indexManager.getIndexType(t,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=$m(n,null,"F"),s=vi(n)),this.indexManager.getDocumentsMatchingTarget(t,s).next((u=>{const f=Pt(...u);return this.ps.getDocuments(t,f).next((m=>this.indexManager.getMinOffset(t,s).next((p=>{const g=this.Ds(n,m);return this.Cs(n,g,f,p.readTime)?this.ys(t,$m(n,null,"F")):this.vs(t,g,n,p)}))))})))))}ws(t,n,s,o){return wT(n)||o.isEqual(St.min())?nt.resolve(null):this.ps.getDocuments(t,s).next((u=>{const f=this.Ds(n,u);return this.Cs(n,f,s,o)?nt.resolve(null):(eo()<=Mt.DEBUG&&ht("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),no(n)),this.vs(t,f,n,tC(o,Jl)).next((m=>m)))}))}Ds(t,n){let s=new Ne(LE(t));return n.forEach(((o,u)=>{Fh(t,u)&&(s=s.add(u))})),s}Cs(t,n,s,o){if(t.limit===null)return!1;if(s.size!==n.size)return!0;const u=t.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(t,n,s){return eo()<=Mt.DEBUG&&ht("QueryEngine","Using full collection scan to execute query:",no(n)),this.ps.getDocumentsMatchingQuery(t,n,es.min(),s)}vs(t,n,s,o){return this.ps.getDocumentsMatchingQuery(t,s,o).next((u=>(n.forEach((f=>{u=u.insert(f.key,f)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zp="LocalStore",M2=3e8;class V2{constructor(t,n,s,o){this.persistence=t,this.Fs=n,this.serializer=o,this.Ms=new ce(Vt),this.xs=new la((u=>Cp(u)),Dp),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(s)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new b2(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>t.collect(n,this.Ms)))}}function P2(i,t,n,s){return new V2(i,t,n,s)}async function ab(i,t){const n=Rt(i);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Bs(t),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const f=[],m=[];let p=Pt();for(const g of o){f.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}for(const g of u){m.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}return n.localDocuments.getDocuments(s,p).next((g=>({Ls:g,removedBatchIds:f,addedBatchIds:m})))}))}))}function k2(i,t){const n=Rt(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=t.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,p,g,v){const b=g.batch,w=b.keys();let V=nt.resolve();return w.forEach((K=>{V=V.next((()=>v.getEntry(p,K))).next((Q=>{const L=g.docVersions.get(K);qt(L!==null,48541),Q.version.compareTo(L)<0&&(b.applyToRemoteDocument(Q,g),Q.isValidDocument()&&(Q.setReadTime(g.commitVersion),v.addEntry(Q)))}))})),V.next((()=>m.mutationQueue.removeMutationBatch(p,b)))})(n,s,t,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let p=Pt();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p})(t)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function ob(i){const t=Rt(i);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>t.Pi.getLastRemoteSnapshotVersion(n)))}function L2(i,t){const n=Rt(i),s=t.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const m=[];t.targetChanges.forEach(((v,b)=>{const w=o.get(b);if(!w)return;m.push(n.Pi.removeMatchingKeys(u,v.removedDocuments,b).next((()=>n.Pi.addMatchingKeys(u,v.addedDocuments,b))));let V=w.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(b)!==null?V=V.withResumeToken(Ge.EMPTY_BYTE_STRING,St.min()).withLastLimboFreeSnapshotVersion(St.min()):v.resumeToken.approximateByteSize()>0&&(V=V.withResumeToken(v.resumeToken,s)),o=o.insert(b,V),(function(Q,L,Z){return Q.resumeToken.approximateByteSize()===0||L.snapshotVersion.toMicroseconds()-Q.snapshotVersion.toMicroseconds()>=M2?!0:Z.addedDocuments.size+Z.modifiedDocuments.size+Z.removedDocuments.size>0})(w,V,v)&&m.push(n.Pi.updateTargetData(u,V))}));let p=nr(),g=Pt();if(t.documentUpdates.forEach((v=>{t.resolvedLimboDocuments.has(v)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,v))})),m.push(U2(u,f,t.documentUpdates).next((v=>{p=v.ks,g=v.qs}))),!s.isEqual(St.min())){const v=n.Pi.getLastRemoteSnapshotVersion(u).next((b=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s)));m.push(v)}return nt.waitFor(m).next((()=>f.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,p,g))).next((()=>p))})).then((u=>(n.Ms=o,u)))}function U2(i,t,n){let s=Pt(),o=Pt();return n.forEach((u=>s=s.add(u))),t.getEntries(i,s).next((u=>{let f=nr();return n.forEach(((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(St.min())?(t.removeEntry(m,p.readTime),f=f.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(t.addEntry(p),f=f.insert(m,p)):ht(zp,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)})),{ks:f,qs:o}}))}function z2(i,t){const n=Rt(i);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(t===void 0&&(t=wp),n.mutationQueue.getNextMutationBatchAfterBatchId(s,t))))}function B2(i,t){const n=Rt(i);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.Pi.getTargetData(s,t).next((u=>u?(o=u,nt.resolve(o)):n.Pi.allocateTargetId(s).next((f=>(o=new Yr(t,f,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(t,s.targetId)),s}))}async function Wm(i,t,n){const s=Rt(i),o=s.Ms.get(t),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(f=>s.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!Ro(f))throw f;ht(zp,`Failed to update sequence numbers for target ${t}: ${f}`)}s.Ms=s.Ms.remove(t),s.xs.delete(o.target)}function UT(i,t,n){const s=Rt(i);let o=St.min(),u=Pt();return s.persistence.runTransaction("Execute query","readwrite",(f=>(function(p,g,v){const b=Rt(p),w=b.xs.get(v);return w!==void 0?nt.resolve(b.Ms.get(w)):b.Pi.getTargetData(g,v)})(s,f,vi(t)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(f,m.targetId).next((p=>{u=p}))})).next((()=>s.Fs.getDocumentsMatchingQuery(f,t,n?o:St.min(),n?u:Pt()))).next((m=>(j2(s,RC(t),m),{documents:m,Qs:u})))))}function j2(i,t,n){let s=i.Os.get(t)||St.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),i.Os.set(t,s)}class zT{constructor(){this.activeTargetIds=xC()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class q2{constructor(){this.Mo=new zT,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,s){}addLocalQueryTarget(t,n=!0){return n&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,n,s){this.xo[t]=n}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new zT,Promise.resolve()}handleUserChange(t,n,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H2{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BT="ConnectivityMonitor";class jT{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ht(BT,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){ht(BT,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yc=null;function Zm(){return Yc===null?Yc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Yc++,"0x"+Yc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Am="RestConnection",F2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class G2{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+t.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===mh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(t,n,s,o,u){const f=Zm(),m=this.zo(t,n.toUriEncodedString());ht(Am,`Sending RPC '${t}' ${f}:`,m,s);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,u);const{host:g}=new URL(m),v=bo(g);return this.Jo(t,m,p,s,v).then((b=>(ht(Am,`Received RPC '${t}' ${f}: `,b),b)),(b=>{throw ho(Am,`RPC '${t}' ${f} failed with error: `,b,"url: ",m,"request:",s),b}))}Ho(t,n,s,o,u,f){return this.Go(t,n,s,o,u)}jo(t,n,s){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+So})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>t[u]=o)),s&&s.headers.forEach(((o,u)=>t[u]=o))}zo(t,n){const s=F2[t];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $2{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xe="WebChannelConnection";class K2 extends G2{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,n,s,o,u){const f=Zm();return new Promise(((m,p)=>{const g=new cE;g.setWithCredentials(!0),g.listenOnce(hE.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case Jc.NO_ERROR:const b=g.getResponseJson();ht(Xe,`XHR for RPC '${t}' ${f} received:`,JSON.stringify(b)),m(b);break;case Jc.TIMEOUT:ht(Xe,`RPC '${t}' ${f} timed out`),p(new ut(tt.DEADLINE_EXCEEDED,"Request time out"));break;case Jc.HTTP_ERROR:const w=g.getStatus();if(ht(Xe,`RPC '${t}' ${f} failed with status:`,w,"response text:",g.getResponseText()),w>0){let V=g.getResponseJson();Array.isArray(V)&&(V=V[0]);const K=V?.error;if(K&&K.status&&K.message){const Q=(function(Z){const q=Z.toLowerCase().replace(/_/g,"-");return Object.values(tt).indexOf(q)>=0?q:tt.UNKNOWN})(K.status);p(new ut(Q,K.message))}else p(new ut(tt.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new ut(tt.UNAVAILABLE,"Connection failed."));break;default:Tt(9055,{l_:t,streamId:f,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{ht(Xe,`RPC '${t}' ${f} completed.`)}}));const v=JSON.stringify(o);ht(Xe,`RPC '${t}' ${f} sending request:`,o),g.send(n,"POST",v,s,15)}))}T_(t,n,s){const o=Zm(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],f=mE(),m=dE(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const v=u.join("");ht(Xe,`Creating RPC '${t}' stream ${o}: ${v}`,p);const b=f.createWebChannel(v,p);this.I_(b);let w=!1,V=!1;const K=new $2({Yo:L=>{V?ht(Xe,`Not sending because RPC '${t}' stream ${o} is closed:`,L):(w||(ht(Xe,`Opening RPC '${t}' stream ${o} transport.`),b.open(),w=!0),ht(Xe,`RPC '${t}' stream ${o} sending:`,L),b.send(L))},Zo:()=>b.close()}),Q=(L,Z,q)=>{L.listen(Z,(Y=>{try{q(Y)}catch(at){setTimeout((()=>{throw at}),0)}}))};return Q(b,Bl.EventType.OPEN,(()=>{V||(ht(Xe,`RPC '${t}' stream ${o} transport opened.`),K.o_())})),Q(b,Bl.EventType.CLOSE,(()=>{V||(V=!0,ht(Xe,`RPC '${t}' stream ${o} transport closed`),K.a_(),this.E_(b))})),Q(b,Bl.EventType.ERROR,(L=>{V||(V=!0,ho(Xe,`RPC '${t}' stream ${o} transport errored. Name:`,L.name,"Message:",L.message),K.a_(new ut(tt.UNAVAILABLE,"The operation could not be completed")))})),Q(b,Bl.EventType.MESSAGE,(L=>{if(!V){const Z=L.data[0];qt(!!Z,16349);const q=Z,Y=q?.error||q[0]?.error;if(Y){ht(Xe,`RPC '${t}' stream ${o} received error:`,Y);const at=Y.status;let rt=(function(S){const R=be[S];if(R!==void 0)return QE(R)})(at),dt=Y.message;rt===void 0&&(rt=tt.INTERNAL,dt="Unknown error status: "+at+" with message "+Y.message),V=!0,K.a_(new ut(rt,dt)),b.close()}else ht(Xe,`RPC '${t}' stream ${o} received:`,Z),K.u_(Z)}})),Q(m,fE.STAT_EVENT,(L=>{L.stat===zm.PROXY?ht(Xe,`RPC '${t}' stream ${o} detected buffering proxy`):L.stat===zm.NOPROXY&&ht(Xe,`RPC '${t}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{K.__()}),0),K}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((n=>n===t))}}function Sm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qh(i){return new WC(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lb{constructor(t,n,s=1e3,o=1.5,u=6e4){this.Mi=t,this.timerId=n,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&ht("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qT="PersistentStream";class ub{constructor(t,n,s,o,u,f,m,p){this.Mi=t,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new lb(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===tt.RESOURCE_EXHAUSTED?(tr(n.toString()),tr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===tt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(n)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{t((()=>{const o=new ut(tt.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(t,n){const s=this.W_(this.D_);this.stream=this.j_(t,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return ht(qT,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return n=>{this.Mi.enqueueAndForget((()=>this.D_===t?n():(ht(qT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Q2 extends ub{constructor(t,n,s,o,u,f){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}j_(t,n){return this.connection.T_("Listen",t,n)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=t2(this.serializer,t),s=(function(u){if(!("targetChange"in u))return St.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?St.min():f.readTime?Ti(f.readTime):St.min()})(t);return this.listener.H_(n,s)}Y_(t){const n={};n.database=Xm(this.serializer),n.addTarget=(function(u,f){let m;const p=f.target;if(m=Fm(p)?{documents:i2(u,p)}:{query:r2(u,p).ft},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=WE(u,f.resumeToken);const g=Km(u,f.expectedCount);g!==null&&(m.expectedCount=g)}else if(f.snapshotVersion.compareTo(St.min())>0){m.readTime=Th(u,f.snapshotVersion.toTimestamp());const g=Km(u,f.expectedCount);g!==null&&(m.expectedCount=g)}return m})(this.serializer,t);const s=a2(this.serializer,t);s&&(n.labels=s),this.q_(n)}Z_(t){const n={};n.database=Xm(this.serializer),n.removeTarget=t,this.q_(n)}}class Y2 extends ub{constructor(t,n,s,o,u,f){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,n){return this.connection.T_("Write",t,n)}J_(t){return qt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,qt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){qt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const n=n2(t.writeResults,t.commitTime),s=Ti(t.commitTime);return this.listener.na(s,n)}ra(){const t={};t.database=Xm(this.serializer),this.q_(t)}ea(t){const n={streamToken:this.lastStreamToken,writes:t.map((s=>e2(this.serializer,s)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X2{}class W2 extends X2{constructor(t,n,s,o){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ut(tt.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Go(t,Qm(n,s),o,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===tt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ut(tt.UNKNOWN,u.toString())}))}Ho(t,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,m])=>this.connection.Ho(t,Qm(n,s),o,f,m,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===tt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new ut(tt.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class Z2{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(tr(n),this.aa=!1):ht("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ea="RemoteStore";class J2{constructor(t,n,s,o,u){this.localStore=t,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((f=>{s.enqueueAndForget((async()=>{ua(this)&&(ht(ea,"Restarting streams for network reachability change."),await(async function(p){const g=Rt(p);g.Ea.add(4),await gu(g),g.Ra.set("Unknown"),g.Ea.delete(4),await Yh(g)})(this))}))})),this.Ra=new Z2(s,o)}}async function Yh(i){if(ua(i))for(const t of i.da)await t(!0)}async function gu(i){for(const t of i.da)await t(!1)}function cb(i,t){const n=Rt(i);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),Hp(n)?qp(n):Io(n).O_()&&jp(n,t))}function Bp(i,t){const n=Rt(i),s=Io(n);n.Ia.delete(t),s.O_()&&hb(n,t),n.Ia.size===0&&(s.O_()?s.L_():ua(n)&&n.Ra.set("Unknown"))}function jp(i,t){if(i.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(St.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Io(i).Y_(t)}function hb(i,t){i.Va.Ue(t),Io(i).Z_(t)}function qp(i){i.Va=new KC({getRemoteKeysForTarget:t=>i.remoteSyncer.getRemoteKeysForTarget(t),At:t=>i.Ia.get(t)||null,ht:()=>i.datastore.serializer.databaseId}),Io(i).start(),i.Ra.ua()}function Hp(i){return ua(i)&&!Io(i).x_()&&i.Ia.size>0}function ua(i){return Rt(i).Ea.size===0}function fb(i){i.Va=void 0}async function tD(i){i.Ra.set("Online")}async function eD(i){i.Ia.forEach(((t,n)=>{jp(i,t)}))}async function nD(i,t){fb(i),Hp(i)?(i.Ra.ha(t),qp(i)):i.Ra.set("Unknown")}async function iD(i,t,n){if(i.Ra.set("Online"),t instanceof XE&&t.state===2&&t.cause)try{await(async function(o,u){const f=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ia.delete(m),o.Va.removeTarget(m))})(i,t)}catch(s){ht(ea,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await bh(i,s)}else if(t instanceof ih?i.Va.Ze(t):t instanceof YE?i.Va.st(t):i.Va.tt(t),!n.isEqual(St.min()))try{const s=await ob(i.localStore);n.compareTo(s)>=0&&await(function(u,f){const m=u.Va.Tt(f);return m.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const v=u.Ia.get(g);v&&u.Ia.set(g,v.withResumeToken(p.resumeToken,f))}})),m.targetMismatches.forEach(((p,g)=>{const v=u.Ia.get(p);if(!v)return;u.Ia.set(p,v.withResumeToken(Ge.EMPTY_BYTE_STRING,v.snapshotVersion)),hb(u,p);const b=new Yr(v.target,p,g,v.sequenceNumber);jp(u,b)})),u.remoteSyncer.applyRemoteEvent(m)})(i,n)}catch(s){ht(ea,"Failed to raise snapshot:",s),await bh(i,s)}}async function bh(i,t,n){if(!Ro(t))throw t;i.Ea.add(1),await gu(i),i.Ra.set("Offline"),n||(n=()=>ob(i.localStore)),i.asyncQueue.enqueueRetryable((async()=>{ht(ea,"Retrying IndexedDB access"),await n(),i.Ea.delete(1),await Yh(i)}))}function db(i,t){return t().catch((n=>bh(i,n,t)))}async function Xh(i){const t=Rt(i),n=ss(t);let s=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:wp;for(;rD(t);)try{const o=await z2(t.localStore,s);if(o===null){t.Ta.length===0&&n.L_();break}s=o.batchId,sD(t,o)}catch(o){await bh(t,o)}mb(t)&&pb(t)}function rD(i){return ua(i)&&i.Ta.length<10}function sD(i,t){i.Ta.push(t);const n=ss(i);n.O_()&&n.X_&&n.ea(t.mutations)}function mb(i){return ua(i)&&!ss(i).x_()&&i.Ta.length>0}function pb(i){ss(i).start()}async function aD(i){ss(i).ra()}async function oD(i){const t=ss(i);for(const n of i.Ta)t.ea(n.mutations)}async function lD(i,t,n){const s=i.Ta.shift(),o=Mp.from(s,t,n);await db(i,(()=>i.remoteSyncer.applySuccessfulWrite(o))),await Xh(i)}async function uD(i,t){t&&ss(i).X_&&await(async function(s,o){if((function(f){return FC(f)&&f!==tt.ABORTED})(o.code)){const u=s.Ta.shift();ss(s).B_(),await db(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await Xh(s)}})(i,t),mb(i)&&pb(i)}async function HT(i,t){const n=Rt(i);n.asyncQueue.verifyOperationInProgress(),ht(ea,"RemoteStore received new credentials");const s=ua(n);n.Ea.add(3),await gu(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await Yh(n)}async function cD(i,t){const n=Rt(i);t?(n.Ea.delete(2),await Yh(n)):t||(n.Ea.add(2),await gu(n),n.Ra.set("Unknown"))}function Io(i){return i.ma||(i.ma=(function(n,s,o){const u=Rt(n);return u.sa(),new Q2(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Xo:tD.bind(null,i),t_:eD.bind(null,i),r_:nD.bind(null,i),H_:iD.bind(null,i)}),i.da.push((async t=>{t?(i.ma.B_(),Hp(i)?qp(i):i.Ra.set("Unknown")):(await i.ma.stop(),fb(i))}))),i.ma}function ss(i){return i.fa||(i.fa=(function(n,s,o){const u=Rt(n);return u.sa(),new Y2(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Xo:()=>Promise.resolve(),t_:aD.bind(null,i),r_:uD.bind(null,i),ta:oD.bind(null,i),na:lD.bind(null,i)}),i.da.push((async t=>{t?(i.fa.B_(),await Xh(i)):(await i.fa.stop(),i.Ta.length>0&&(ht(ea,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))}))),i.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fp{constructor(t,n,s,o,u){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new Wi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,n,s,o,u){const f=Date.now()+s,m=new Fp(t,n,f,o,u);return m.start(s),m}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ut(tt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Gp(i,t){if(tr("AsyncQueue",`${t}: ${i}`),Ro(i))return new ut(tt.UNAVAILABLE,`${t}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao{static emptySet(t){return new ao(t.comparator)}constructor(t){this.comparator=t?(n,s)=>t(n,s)||yt.comparator(n.key,s.key):(n,s)=>yt.comparator(n.key,s.key),this.keyedMap=jl(),this.sortedSet=new ce(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((n,s)=>(t(n),!1)))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof ao)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach((n=>{t.push(n.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const s=new ao;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FT{constructor(){this.ga=new ce(yt.comparator)}track(t){const n=t.doc.key,s=this.ga.get(n);s?t.type!==0&&s.type===3?this.ga=this.ga.insert(n,t):t.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.ga=this.ga.remove(n):t.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):Tt(63341,{Rt:t,pa:s}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal(((n,s)=>{t.push(s)})),t}}class yo{constructor(t,n,s,o,u,f,m,p,g){this.query=t,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(t,n,s,o,u){const f=[];return n.forEach((m=>{f.push({type:0,doc:m})})),new yo(t,n,ao.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Hh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,s=t.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hD{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class fD{constructor(){this.queries=GT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=Rt(n),u=o.queries;o.queries=GT(),u.forEach(((f,m)=>{for(const p of m.Sa)p.onError(s)}))})(this,new ut(tt.ABORTED,"Firestore shutting down"))}}function GT(){return new la((i=>kE(i)),Hh)}async function gb(i,t){const n=Rt(i);let s=3;const o=t.query;let u=n.queries.get(o);u?!u.ba()&&t.Da()&&(s=2):(u=new hD,s=t.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=Gp(f,`Initialization of query '${no(t.query)}' failed`);return void t.onError(m)}n.queries.set(o,u),u.Sa.push(t),t.va(n.onlineState),u.wa&&t.Fa(u.wa)&&$p(n)}async function yb(i,t){const n=Rt(i),s=t.query;let o=3;const u=n.queries.get(s);if(u){const f=u.Sa.indexOf(t);f>=0&&(u.Sa.splice(f,1),u.Sa.length===0?o=t.Da()?0:1:!u.ba()&&t.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function dD(i,t){const n=Rt(i);let s=!1;for(const o of t){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.Sa)m.Fa(o)&&(s=!0);f.wa=o}}s&&$p(n)}function mD(i,t,n){const s=Rt(i),o=s.queries.get(t);if(o)for(const u of o.Sa)u.onError(n);s.queries.delete(t)}function $p(i){i.Ca.forEach((t=>{t.next()}))}var Jm,$T;($T=Jm||(Jm={})).Ma="default",$T.Cache="cache";class _b{constructor(t,n,s){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(t){if(!this.options.includeMetadataChanges){const s=[];for(const o of t.docChanges)o.type!==3&&s.push(o);t=new yo(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=yo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Jm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vb{constructor(t){this.key=t}}class Tb{constructor(t){this.key=t}}class pD{constructor(t,n){this.query=t,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Pt(),this.mutatedKeys=Pt(),this.eu=LE(t),this.tu=new ao(this.eu)}get nu(){return this.Ya}ru(t,n){const s=n?n.iu:new FT,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal(((v,b)=>{const w=o.get(v),V=Fh(this.query,b)?b:null,K=!!w&&this.mutatedKeys.has(w.key),Q=!!V&&(V.hasLocalMutations||this.mutatedKeys.has(V.key)&&V.hasCommittedMutations);let L=!1;w&&V?w.data.isEqual(V.data)?K!==Q&&(s.track({type:3,doc:V}),L=!0):this.su(w,V)||(s.track({type:2,doc:V}),L=!0,(p&&this.eu(V,p)>0||g&&this.eu(V,g)<0)&&(m=!0)):!w&&V?(s.track({type:0,doc:V}),L=!0):w&&!V&&(s.track({type:1,doc:w}),L=!0,(p||g)&&(m=!0)),L&&(V?(f=f.add(V),u=Q?u.add(v):u.delete(v)):(f=f.delete(v),u=u.delete(v)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const v=this.query.limitType==="F"?f.last():f.first();f=f.delete(v.key),u=u.delete(v.key),s.track({type:1,doc:v})}return{tu:f,iu:s,Cs:m,mutatedKeys:u}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,s,o){const u=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const f=t.iu.ya();f.sort(((v,b)=>(function(V,K){const Q=L=>{switch(L){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Tt(20277,{Rt:L})}};return Q(V)-Q(K)})(v.type,b.type)||this.eu(v.doc,b.doc))),this.ou(s),o=o??!1;const m=n&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,g=p!==this.Za;return this.Za=p,f.length!==0||g?{snapshot:new yo(this.query,t.tu,u,f,t.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new FT,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),t.modifiedDocuments.forEach((n=>{})),t.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Pt(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return t.forEach((s=>{this.Xa.has(s)||n.push(new Tb(s))})),this.Xa.forEach((s=>{t.has(s)||n.push(new vb(s))})),n}cu(t){this.Ya=t.Qs,this.Xa=Pt();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return yo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Kp="SyncEngine";class gD{constructor(t,n,s){this.query=t,this.targetId=n,this.view=s}}class yD{constructor(t){this.key=t,this.hu=!1}}class _D{constructor(t,n,s,o,u,f){this.localStore=t,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new la((m=>kE(m)),Hh),this.Iu=new Map,this.Eu=new Set,this.du=new ce(yt.comparator),this.Au=new Map,this.Ru=new kp,this.Vu={},this.mu=new Map,this.fu=go.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function vD(i,t,n=!0){const s=Rb(i);let o;const u=s.Tu.get(t);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await Eb(s,t,n,!0),o}async function TD(i,t){const n=Rb(i);await Eb(n,t,!0,!1)}async function Eb(i,t,n,s){const o=await B2(i.localStore,vi(t)),u=o.targetId,f=i.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await ED(i,t,u,f==="current",o.resumeToken)),i.isPrimaryClient&&n&&cb(i.remoteStore,o),m}async function ED(i,t,n,s,o){i.pu=(b,w,V)=>(async function(Q,L,Z,q){let Y=L.view.ru(Z);Y.Cs&&(Y=await UT(Q.localStore,L.query,!1).then((({documents:I})=>L.view.ru(I,Y))));const at=q&&q.targetChanges.get(L.targetId),rt=q&&q.targetMismatches.get(L.targetId)!=null,dt=L.view.applyChanges(Y,Q.isPrimaryClient,at,rt);return QT(Q,L.targetId,dt.au),dt.snapshot})(i,b,w,V);const u=await UT(i.localStore,t,!0),f=new pD(t,u.Qs),m=f.ru(u.documents),p=pu.createSynthesizedTargetChangeForCurrentChange(n,s&&i.onlineState!=="Offline",o),g=f.applyChanges(m,i.isPrimaryClient,p);QT(i,n,g.au);const v=new gD(t,n,f);return i.Tu.set(t,v),i.Iu.has(n)?i.Iu.get(n).push(t):i.Iu.set(n,[t]),g.snapshot}async function bD(i,t,n){const s=Rt(i),o=s.Tu.get(t),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((f=>!Hh(f,t)))),void s.Tu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Wm(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&Bp(s.remoteStore,o.targetId),tp(s,o.targetId)})).catch(wo)):(tp(s,o.targetId),await Wm(s.localStore,o.targetId,!0))}async function AD(i,t){const n=Rt(i),s=n.Tu.get(t),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Bp(n.remoteStore,s.targetId))}async function SD(i,t,n){const s=OD(i);try{const o=await(function(f,m){const p=Rt(f),g=ie.now(),v=m.reduce(((V,K)=>V.add(K.key)),Pt());let b,w;return p.persistence.runTransaction("Locally write mutations","readwrite",(V=>{let K=nr(),Q=Pt();return p.Ns.getEntries(V,v).next((L=>{K=L,K.forEach(((Z,q)=>{q.isValidDocument()||(Q=Q.add(Z))}))})).next((()=>p.localDocuments.getOverlayedDocuments(V,K))).next((L=>{b=L;const Z=[];for(const q of m){const Y=zC(q,b.get(q.key).overlayedDocument);Y!=null&&Z.push(new cs(q.key,Y,CE(Y.value.mapValue),Xn.exists(!0)))}return p.mutationQueue.addMutationBatch(V,g,Z,m)})).next((L=>{w=L;const Z=L.applyToLocalDocumentSet(b,Q);return p.documentOverlayCache.saveOverlays(V,L.batchId,Z)}))})).then((()=>({batchId:w.batchId,changes:zE(b)})))})(s.localStore,t);s.sharedClientState.addPendingMutation(o.batchId),(function(f,m,p){let g=f.Vu[f.currentUser.toKey()];g||(g=new ce(Vt)),g=g.insert(m,p),f.Vu[f.currentUser.toKey()]=g})(s,o.batchId,n),await yu(s,o.changes),await Xh(s.remoteStore)}catch(o){const u=Gp(o,"Failed to persist write");n.reject(u)}}async function bb(i,t){const n=Rt(i);try{const s=await L2(n.localStore,t);t.targetChanges.forEach(((o,u)=>{const f=n.Au.get(u);f&&(qt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?qt(f.hu,14607):o.removedDocuments.size>0&&(qt(f.hu,42227),f.hu=!1))})),await yu(n,s,t)}catch(s){await wo(s)}}function KT(i,t,n){const s=Rt(i);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((u,f)=>{const m=f.view.va(t);m.snapshot&&o.push(m.snapshot)})),(function(f,m){const p=Rt(f);p.onlineState=m;let g=!1;p.queries.forEach(((v,b)=>{for(const w of b.Sa)w.va(m)&&(g=!0)})),g&&$p(p)})(s.eventManager,t),o.length&&s.Pu.H_(o),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function wD(i,t,n){const s=Rt(i);s.sharedClientState.updateQueryState(t,"rejected",n);const o=s.Au.get(t),u=o&&o.key;if(u){let f=new ce(yt.comparator);f=f.insert(u,Ze.newNoDocument(u,St.min()));const m=Pt().add(u),p=new Kh(St.min(),new Map,new ce(Vt),f,m);await bb(s,p),s.du=s.du.remove(u),s.Au.delete(t),Qp(s)}else await Wm(s.localStore,t,!1).then((()=>tp(s,t,n))).catch(wo)}async function RD(i,t){const n=Rt(i),s=t.batch.batchId;try{const o=await k2(n.localStore,t);Sb(n,s,null),Ab(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await yu(n,o)}catch(o){await wo(o)}}async function ID(i,t,n){const s=Rt(i);try{const o=await(function(f,m){const p=Rt(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let v;return p.mutationQueue.lookupMutationBatch(g,m).next((b=>(qt(b!==null,37113),v=b.keys(),p.mutationQueue.removeMutationBatch(g,b)))).next((()=>p.mutationQueue.performConsistencyCheck(g))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(g,v,m))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,v))).next((()=>p.localDocuments.getDocuments(g,v)))}))})(s.localStore,t);Sb(s,t,n),Ab(s,t),s.sharedClientState.updateMutationState(t,"rejected",n),await yu(s,o)}catch(o){await wo(o)}}function Ab(i,t){(i.mu.get(t)||[]).forEach((n=>{n.resolve()})),i.mu.delete(t)}function Sb(i,t,n){const s=Rt(i);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(t);u&&(n?u.reject(n):u.resolve(),o=o.remove(t)),s.Vu[s.currentUser.toKey()]=o}}function tp(i,t,n=null){i.sharedClientState.removeLocalQueryTarget(t);for(const s of i.Iu.get(t))i.Tu.delete(s),n&&i.Pu.yu(s,n);i.Iu.delete(t),i.isPrimaryClient&&i.Ru.jr(t).forEach((s=>{i.Ru.containsKey(s)||wb(i,s)}))}function wb(i,t){i.Eu.delete(t.path.canonicalString());const n=i.du.get(t);n!==null&&(Bp(i.remoteStore,n),i.du=i.du.remove(t),i.Au.delete(n),Qp(i))}function QT(i,t,n){for(const s of n)s instanceof vb?(i.Ru.addReference(s.key,t),CD(i,s)):s instanceof Tb?(ht(Kp,"Document no longer in limbo: "+s.key),i.Ru.removeReference(s.key,t),i.Ru.containsKey(s.key)||wb(i,s.key)):Tt(19791,{wu:s})}function CD(i,t){const n=t.key,s=n.path.canonicalString();i.du.get(n)||i.Eu.has(s)||(ht(Kp,"New document in limbo: "+n),i.Eu.add(s),Qp(i))}function Qp(i){for(;i.Eu.size>0&&i.du.size<i.maxConcurrentLimboResolutions;){const t=i.Eu.values().next().value;i.Eu.delete(t);const n=new yt(ee.fromString(t)),s=i.fu.next();i.Au.set(s,new yD(n)),i.du=i.du.insert(n,s),cb(i.remoteStore,new Yr(vi(Np(n.path)),s,"TargetPurposeLimboResolution",Bh.ce))}}async function yu(i,t,n){const s=Rt(i),o=[],u=[],f=[];s.Tu.isEmpty()||(s.Tu.forEach(((m,p)=>{f.push(s.pu(p,t,n).then((g=>{if((g||n)&&s.isPrimaryClient){const v=g?!g.fromCache:n?.targetChanges.get(p.targetId)?.current;s.sharedClientState.updateQueryState(p.targetId,v?"current":"not-current")}if(g){o.push(g);const v=Up.As(p.targetId,g);u.push(v)}})))})),await Promise.all(f),s.Pu.H_(o),await(async function(p,g){const v=Rt(p);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>nt.forEach(g,(w=>nt.forEach(w.Es,(V=>v.persistence.referenceDelegate.addReference(b,w.targetId,V))).next((()=>nt.forEach(w.ds,(V=>v.persistence.referenceDelegate.removeReference(b,w.targetId,V)))))))))}catch(b){if(!Ro(b))throw b;ht(zp,"Failed to update sequence numbers: "+b)}for(const b of g){const w=b.targetId;if(!b.fromCache){const V=v.Ms.get(w),K=V.snapshotVersion,Q=V.withLastLimboFreeSnapshotVersion(K);v.Ms=v.Ms.insert(w,Q)}}})(s.localStore,u))}async function DD(i,t){const n=Rt(i);if(!n.currentUser.isEqual(t)){ht(Kp,"User change. New user:",t.toKey());const s=await ab(n.localStore,t);n.currentUser=t,(function(u,f){u.mu.forEach((m=>{m.forEach((p=>{p.reject(new ut(tt.CANCELLED,f))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await yu(n,s.Ls)}}function ND(i,t){const n=Rt(i),s=n.Au.get(t);if(s&&s.hu)return Pt().add(s.key);{let o=Pt();const u=n.Iu.get(t);if(!u)return o;for(const f of u){const m=n.Tu.get(f);o=o.unionWith(m.view.nu)}return o}}function Rb(i){const t=Rt(i);return t.remoteStore.remoteSyncer.applyRemoteEvent=bb.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=ND.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=wD.bind(null,t),t.Pu.H_=dD.bind(null,t.eventManager),t.Pu.yu=mD.bind(null,t.eventManager),t}function OD(i){const t=Rt(i);return t.remoteStore.remoteSyncer.applySuccessfulWrite=RD.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=ID.bind(null,t),t}class Ah{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Qh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return P2(this.persistence,new x2,t.initialUser,this.serializer)}Cu(t){return new sb(Lp.mi,this.serializer)}Du(t){return new q2}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ah.provider={build:()=>new Ah};class xD extends Ah{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){qt(this.persistence.referenceDelegate instanceof Eh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new y2(s,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?hn.withCacheSize(this.cacheSizeBytes):hn.DEFAULT;return new sb((s=>Eh.mi(s,n)),this.serializer)}}class ep{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>KT(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=DD.bind(null,this.syncEngine),await cD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new fD})()}createDatastore(t){const n=Qh(t.databaseInfo.databaseId),s=(function(u){return new K2(u)})(t.databaseInfo);return(function(u,f,m,p){return new W2(u,f,m,p)})(t.authCredentials,t.appCheckCredentials,s,n)}createRemoteStore(t){return(function(s,o,u,f,m){return new J2(s,o,u,f,m)})(this.localStore,this.datastore,t.asyncQueue,(n=>KT(this.syncEngine,n,0)),(function(){return jT.v()?new jT:new H2})())}createSyncEngine(t,n){return(function(o,u,f,m,p,g,v){const b=new _D(o,u,f,m,p,g);return v&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=Rt(n);ht(ea,"RemoteStore shutting down."),s.Ea.add(5),await gu(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}ep.provider={build:()=>new ep};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ib{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):tr("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout((()=>{this.muted||t(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const as="FirestoreClient";class MD{constructor(t,n,s,o,u){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=We.UNAUTHENTICATED,this.clientId=Sp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async f=>{ht(as,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(s,(f=>(ht(as,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Wi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const s=Gp(n,"Failed to shutdown persistence");t.reject(s)}})),t.promise}}async function wm(i,t){i.asyncQueue.verifyOperationInProgress(),ht(as,"Initializing OfflineComponentProvider");const n=i.configuration;await t.initialize(n);let s=n.initialUser;i.setCredentialChangeListener((async o=>{s.isEqual(o)||(await ab(t.localStore,o),s=o)})),t.persistence.setDatabaseDeletedListener((()=>i.terminate())),i._offlineComponents=t}async function YT(i,t){i.asyncQueue.verifyOperationInProgress();const n=await VD(i);ht(as,"Initializing OnlineComponentProvider"),await t.initialize(n,i.configuration),i.setCredentialChangeListener((s=>HT(t.remoteStore,s))),i.setAppCheckTokenChangeListener(((s,o)=>HT(t.remoteStore,o))),i._onlineComponents=t}async function VD(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){ht(as,"Using user provided OfflineComponentProvider");try{await wm(i,i._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!(function(o){return o.name==="FirebaseError"?o.code===tt.FAILED_PRECONDITION||o.code===tt.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;ho("Error using user provided cache. Falling back to memory cache: "+n),await wm(i,new Ah)}}else ht(as,"Using default OfflineComponentProvider"),await wm(i,new xD(void 0));return i._offlineComponents}async function Cb(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(ht(as,"Using user provided OnlineComponentProvider"),await YT(i,i._uninitializedComponentsProvider._online)):(ht(as,"Using default OnlineComponentProvider"),await YT(i,new ep))),i._onlineComponents}function PD(i){return Cb(i).then((t=>t.syncEngine))}async function Db(i){const t=await Cb(i),n=t.eventManager;return n.onListen=vD.bind(null,t.syncEngine),n.onUnlisten=bD.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=TD.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=AD.bind(null,t.syncEngine),n}function kD(i,t,n={}){const s=new Wi;return i.asyncQueue.enqueueAndForget((async()=>(function(u,f,m,p,g){const v=new Ib({next:w=>{v.Nu(),f.enqueueAndForget((()=>yb(u,b)));const V=w.docs.has(m);!V&&w.fromCache?g.reject(new ut(tt.UNAVAILABLE,"Failed to get document because the client is offline.")):V&&w.fromCache&&p&&p.source==="server"?g.reject(new ut(tt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(w)},error:w=>g.reject(w)}),b=new _b(Np(m.path),v,{includeMetadataChanges:!0,qa:!0});return gb(u,b)})(await Db(i),i.asyncQueue,t,n,s))),s.promise}function LD(i,t,n={}){const s=new Wi;return i.asyncQueue.enqueueAndForget((async()=>(function(u,f,m,p,g){const v=new Ib({next:w=>{v.Nu(),f.enqueueAndForget((()=>yb(u,b))),w.fromCache&&p.source==="server"?g.reject(new ut(tt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(w)},error:w=>g.reject(w)}),b=new _b(m,v,{includeMetadataChanges:!0,qa:!0});return gb(u,b)})(await Db(i),i.asyncQueue,t,n,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nb(i){const t={};return i.timeoutSeconds!==void 0&&(t.timeoutSeconds=i.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XT=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ob="firestore.googleapis.com",WT=!0;class ZT{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ut(tt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Ob,this.ssl=WT}else this.host=t.host,this.ssl=t.ssl??WT;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=rb;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<p2)throw new ut(tt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}JI("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Nb(t.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ut(tt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ut(tt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ut(tt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Wh{constructor(t,n,s,o){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ZT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ut(tt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ut(tt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ZT(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new HI;switch(s.type){case"firstParty":return new KI(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ut(tt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=XT.get(n);s&&(ht("ComponentProvider","Removing Datastore"),XT.delete(n),s.terminate())})(this),Promise.resolve()}}function UD(i,t,n,s={}){i=er(i,Wh);const o=bo(t),u=i._getSettings(),f={...u,emulatorOptions:i._getEmulatorOptions()},m=`${t}:${n}`;o&&(Z0(`https://${m}`),J0("Firestore",!0)),u.host!==Ob&&u.host!==m&&ho("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:m,ssl:o,emulatorOptions:s};if(!ts(p,f)&&(i._setSettings(p),s.mockUserToken)){let g,v;if(typeof s.mockUserToken=="string")g=s.mockUserToken,v=We.MOCK_USER;else{g=pR(s.mockUserToken,i._app?.options.projectId);const b=s.mockUserToken.sub||s.mockUserToken.user_id;if(!b)throw new ut(tt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new We(b)}i._authCredentials=new FI(new gE(g,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co{constructor(t,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new Co(this.firestore,t,this._query)}}class we{constructor(t,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Jr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new we(this.firestore,t,this._key)}toJSON(){return{type:we._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,s){if(fu(n,we._jsonSchema))return new we(t,s||null,new yt(ee.fromString(n.referencePath)))}}we._jsonSchemaVersion="firestore/documentReference/1.0",we._jsonSchema={type:Se("string",we._jsonSchemaVersion),referencePath:Se("string")};class Jr extends Co{constructor(t,n,s){super(t,n,Np(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new we(this.firestore,null,new yt(t))}withConverter(t){return new Jr(this.firestore,t,this._path)}}function su(i,t,...n){if(i=Fe(i),yE("collection","path",t),i instanceof Wh){const s=ee.fromString(t,...n);return hT(s),new Jr(i,null,s)}{if(!(i instanceof we||i instanceof Jr))throw new ut(tt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(ee.fromString(t,...n));return hT(s),new Jr(i.firestore,null,s)}}function au(i,t,...n){if(i=Fe(i),arguments.length===1&&(t=Sp.newId()),yE("doc","path",t),i instanceof Wh){const s=ee.fromString(t,...n);return cT(s),new we(i,null,new yt(s))}{if(!(i instanceof we||i instanceof Jr))throw new ut(tt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(ee.fromString(t,...n));return cT(s),new we(i.firestore,i instanceof Jr?i.converter:null,new yt(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JT="AsyncQueue";class t0{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new lb(this,"async_queue_retry"),this._c=()=>{const s=Sm();s&&ht(JT,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=t;const n=Sm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=Sm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Wi;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!Ro(t))throw t;ht(JT,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const n=this.ac.then((()=>(this.rc=!0,t().catch((s=>{throw this.nc=s,this.rc=!1,tr("INTERNAL UNHANDLED ERROR: ",e0(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(t,n,s){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const o=Fp.createAndSchedule(this,t,n,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&Tt(47125,{Pc:e0(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function e0(i){let t=i.message||"";return i.stack&&(t=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),t}class Do extends Wh{constructor(t,n,s,o){super(t,n,s,o),this.type="firestore",this._queue=new t0,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new t0(t),this._firestoreClient=void 0,await t}}}function zD(i,t){const n=typeof i=="object"?i:bp(),s=typeof i=="string"?i:mh,o=oa(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=dR("firestore");u&&UD(o,...u)}return o}function Yp(i){if(i._terminated)throw new ut(tt.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||BD(i),i._firestoreClient}function BD(i){const t=i._freezeSettings(),n=(function(o,u,f,m){return new cC(o,u,f,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,Nb(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(i._databaseId,i._app?.options.appId||"",i._persistenceKey,t);i._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(i._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),i._firestoreClient=new MD(i._authCredentials,i._appCheckCredentials,i._queue,n,i._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new kn(Ge.fromBase64String(t))}catch(n){throw new ut(tt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new kn(Ge.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:kn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(fu(t,kn._jsonSchema))return kn.fromBase64String(t.bytes)}}kn._jsonSchemaVersion="firestore/bytes/1.0",kn._jsonSchema={type:Se("string",kn._jsonSchemaVersion),bytes:Se("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zh{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new ut(tt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new He(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xp{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ei{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new ut(tt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new ut(tt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Vt(this._lat,t._lat)||Vt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ei._jsonSchemaVersion}}static fromJSON(t){if(fu(t,Ei._jsonSchema))return new Ei(t.latitude,t.longitude)}}Ei._jsonSchemaVersion="firestore/geoPoint/1.0",Ei._jsonSchema={type:Se("string",Ei._jsonSchemaVersion),latitude:Se("number"),longitude:Se("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bi{constructor(t){this._values=(t||[]).map((n=>n))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,t._values)}toJSON(){return{type:bi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(fu(t,bi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((n=>typeof n=="number")))return new bi(t.vectorValues);throw new ut(tt.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}bi._jsonSchemaVersion="firestore/vectorValue/1.0",bi._jsonSchema={type:Se("string",bi._jsonSchemaVersion),vectorValues:Se("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jD=/^__.*__$/;class qD{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return this.fieldMask!==null?new cs(t,this.data,this.fieldMask,n,this.fieldTransforms):new mu(t,this.data,n,this.fieldTransforms)}}class xb{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return new cs(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function Mb(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Tt(40011,{Ac:i})}}class Wp{constructor(t,n,s,o,u,f){this.settings=t,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Wp({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const n=this.path?.child(t),s=this.Vc({path:n,fc:!1});return s.gc(t),s}yc(t){const n=this.path?.child(t),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return Sh(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((n=>t.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>t.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(Mb(this.Ac)&&jD.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class HD{constructor(t,n,s){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=s||Qh(t)}Cc(t,n,s,o=!1){return new Wp({Ac:t,methodName:n,Dc:s,path:He.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Zp(i){const t=i._freezeSettings(),n=Qh(i._databaseId);return new HD(i._databaseId,!!t.ignoreUndefinedProperties,n)}function FD(i,t,n,s,o,u={}){const f=i.Cc(u.merge||u.mergeFields?2:0,t,n,o);Jp("Data must be an object, but it was:",f,s);const m=Vb(s,f);let p,g;if(u.merge)p=new bn(f.fieldMask),g=f.fieldTransforms;else if(u.mergeFields){const v=[];for(const b of u.mergeFields){const w=np(t,b,n);if(!f.contains(w))throw new ut(tt.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);kb(v,w)||v.push(w)}p=new bn(v),g=f.fieldTransforms.filter((b=>p.covers(b.field)))}else p=null,g=f.fieldTransforms;return new qD(new fn(m),p,g)}class Jh extends Xp{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Jh}}function GD(i,t,n,s){const o=i.Cc(1,t,n);Jp("Data must be an object, but it was:",o,s);const u=[],f=fn.empty();us(s,((p,g)=>{const v=tg(t,p,n);g=Fe(g);const b=o.yc(v);if(g instanceof Jh)u.push(v);else{const w=_u(g,b);w!=null&&(u.push(v),f.set(v,w))}}));const m=new bn(u);return new xb(f,m,o.fieldTransforms)}function $D(i,t,n,s,o,u){const f=i.Cc(1,t,n),m=[np(t,s,n)],p=[o];if(u.length%2!=0)throw new ut(tt.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<u.length;w+=2)m.push(np(t,u[w])),p.push(u[w+1]);const g=[],v=fn.empty();for(let w=m.length-1;w>=0;--w)if(!kb(g,m[w])){const V=m[w];let K=p[w];K=Fe(K);const Q=f.yc(V);if(K instanceof Jh)g.push(V);else{const L=_u(K,Q);L!=null&&(g.push(V),v.set(V,L))}}const b=new bn(g);return new xb(v,b,f.fieldTransforms)}function KD(i,t,n,s=!1){return _u(n,i.Cc(s?4:3,t))}function _u(i,t){if(Pb(i=Fe(i)))return Jp("Unsupported field value:",t,i),Vb(i,t);if(i instanceof Xp)return(function(s,o){if(!Mb(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(i,t),null;if(i===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),i instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(s,o){const u=[];let f=0;for(const m of s){let p=_u(m,o.wc(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}})(i,t)}return(function(s,o){if((s=Fe(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return MC(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=ie.fromDate(s);return{timestampValue:Th(o.serializer,u)}}if(s instanceof ie){const u=new ie(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Th(o.serializer,u)}}if(s instanceof Ei)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof kn)return{bytesValue:WE(o.serializer,s._byteString)};if(s instanceof we){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Pp(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof bi)return(function(f,m){return{mapValue:{fields:{[RE]:{stringValue:IE},[ph]:{arrayValue:{values:f.toArray().map((g=>{if(typeof g!="number")throw m.Sc("VectorValues must only contain numeric values.");return Op(m.serializer,g)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${zh(s)}`)})(i,t)}function Vb(i,t){const n={};return TE(i)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):us(i,((s,o)=>{const u=_u(o,t.mc(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function Pb(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof ie||i instanceof Ei||i instanceof kn||i instanceof we||i instanceof Xp||i instanceof bi)}function Jp(i,t,n){if(!Pb(n)||!_E(n)){const s=zh(n);throw s==="an object"?t.Sc(i+" a custom object"):t.Sc(i+" "+s)}}function np(i,t,n){if((t=Fe(t))instanceof Zh)return t._internalPath;if(typeof t=="string")return tg(i,t);throw Sh("Field path arguments must be of type string or ",i,!1,void 0,n)}const QD=new RegExp("[~\\*/\\[\\]]");function tg(i,t,n){if(t.search(QD)>=0)throw Sh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new Zh(...t.split("."))._internalPath}catch{throw Sh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function Sh(i,t,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${t}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${s}`),f&&(p+=` in document ${o}`),p+=")"),new ut(tt.INVALID_ARGUMENT,m+i+p)}function kb(i,t){return i.some((n=>n.isEqual(t)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lb{constructor(t,n,s,o,u){this._firestore=t,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new we(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new YD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(eg("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class YD extends Lb{data(){return super.data()}}function eg(i,t){return typeof t=="string"?tg(i,t):t instanceof Zh?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XD(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new ut(tt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ng{}class WD extends ng{}function ip(i,t,...n){let s=[];t instanceof ng&&s.push(t),s=s.concat(n),(function(u){const f=u.filter((p=>p instanceof ig)).length,m=u.filter((p=>p instanceof tf)).length;if(f>1||f>0&&m>0)throw new ut(tt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)i=o._apply(i);return i}class tf extends WD{constructor(t,n,s){super(),this._field=t,this._op=n,this._value=s,this.type="where"}static _create(t,n,s){return new tf(t,n,s)}_apply(t){const n=this._parse(t);return Ub(t._query,n),new Co(t.firestore,t.converter,Gm(t._query,n))}_parse(t){const n=Zp(t.firestore);return(function(u,f,m,p,g,v,b){let w;if(g.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new ut(tt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){i0(b,v);const K=[];for(const Q of b)K.push(n0(p,u,Q));w={arrayValue:{values:K}}}else w=n0(p,u,b)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||i0(b,v),w=KD(m,f,b,v==="in"||v==="not-in");return Ae.create(g,v,w)})(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}function rp(i,t,n){const s=t,o=eg("where",i);return tf._create(o,s,n)}class ig extends ng{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new ig(t,n)}_parse(t){const n=this._queryConstraints.map((s=>s._parse(t))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:Jn.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:((function(o,u){let f=o;const m=u.getFlattenedFilters();for(const p of m)Ub(f,p),f=Gm(f,p)})(t._query,n),new Co(t.firestore,t.converter,Gm(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function n0(i,t,n){if(typeof(n=Fe(n))=="string"){if(n==="")throw new ut(tt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!PE(t)&&n.indexOf("/")!==-1)throw new ut(tt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=t.path.child(ee.fromString(n));if(!yt.isDocumentKey(s))throw new ut(tt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return vT(i,new yt(s))}if(n instanceof we)return vT(i,n._key);throw new ut(tt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${zh(n)}.`)}function i0(i,t){if(!Array.isArray(i)||i.length===0)throw new ut(tt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function Ub(i,t){const n=(function(o,u){for(const f of o)for(const m of f.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(i.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(n!==null)throw n===t.op?new ut(tt.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new ut(tt.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class ZD{convertValue(t,n="none"){switch(rs(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ve(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(is(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw Tt(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const s={};return us(t,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(t){const n=t.fields?.[ph].arrayValue?.values?.map((s=>ve(s.doubleValue)));return new bi(n)}convertGeoPoint(t){return new Ei(ve(t.latitude),ve(t.longitude))}convertArray(t,n){return(t.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(t,n){switch(n){case"previous":const s=qh(t);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(tu(t));default:return null}}convertTimestamp(t){const n=ns(t);return new ie(n.seconds,n.nanos)}convertDocumentKey(t,n){const s=ee.fromString(t);qt(ib(s),9688,{name:t});const o=new eu(s.get(1),s.get(3)),u=new yt(s.popFirst(5));return o.isEqual(n)||tr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JD(i,t,n){let s;return s=i?i.toFirestore(t):t,s}class Hl{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Ws extends Lb{constructor(t,n,s,o,u,f){super(t,n,s,o,f),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new rh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const s=this._document.data.field(eg("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ut(tt.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=Ws._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Ws._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ws._jsonSchema={type:Se("string",Ws._jsonSchemaVersion),bundleSource:Se("string","DocumentSnapshot"),bundleName:Se("string"),bundle:Se("string")};class rh extends Ws{data(t={}){return super.data(t)}}class oo{constructor(t,n,s,o){this._firestore=t,this._userDataWriter=n,this._snapshot=o,this.metadata=new Hl(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const t=[];return this.forEach((n=>t.push(n))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach((s=>{t.call(n,new rh(this._firestore,this._userDataWriter,s.key,s,new Hl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ut(tt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((m=>{const p=new rh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Hl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const p=new rh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Hl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,v=-1;return m.type!==0&&(g=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),v=f.indexOf(m.doc.key)),{type:tN(m.type),doc:p,oldIndex:g,newIndex:v}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ut(tt.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=oo._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Sp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function tN(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Tt(61501,{type:i})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zb(i){i=er(i,we);const t=er(i.firestore,Do);return kD(Yp(t),i._key).then((n=>nN(t,i,n)))}oo._jsonSchemaVersion="firestore/querySnapshot/1.0",oo._jsonSchema={type:Se("string",oo._jsonSchemaVersion),bundleSource:Se("string","QuerySnapshot"),bundleName:Se("string"),bundle:Se("string")};class Bb extends ZD{constructor(t){super(),this.firestore=t}convertBytes(t){return new kn(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new we(this.firestore,null,n)}}function wh(i){i=er(i,Co);const t=er(i.firestore,Do),n=Yp(t),s=new Bb(t);return XD(i._query),LD(n,i._query).then((o=>new oo(t,s,i,o)))}function jb(i,t,n,...s){i=er(i,we);const o=er(i.firestore,Do),u=Zp(o);let f;return f=typeof(t=Fe(t))=="string"||t instanceof Zh?$D(u,"updateDoc",i._key,t,n,s):GD(u,"updateDoc",i._key,t),rg(o,[f.toMutation(i._key,Xn.exists(!0))])}function eN(i){return rg(er(i.firestore,Do),[new xp(i._key,Xn.none())])}function qb(i,t){const n=er(i.firestore,Do),s=au(i),o=JD(i.converter,t);return rg(n,[FD(Zp(i.firestore),"addDoc",s._key,o,i.converter!==null,{}).toMutation(s._key,Xn.exists(!1))]).then((()=>s))}function rg(i,t){return(function(s,o){const u=new Wi;return s.asyncQueue.enqueueAndForget((async()=>SD(await PD(s),o,u))),u.promise})(Yp(i),t)}function nN(i,t,n){const s=n.docs.get(t._key),o=new Bb(i);return new Ws(i,o,t._key,s,new Hl(n.hasPendingWrites,n.fromCache),t.converter)}(function(t,n=!0){(function(o){So=o})(Ao),wi(new Zn("firestore",((s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new Do(new GI(s.getProvider("auth-internal")),new QI(f,s.getProvider("app-check-internal")),(function(g,v){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new ut(tt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new eu(g.options.projectId,v)})(f,o),f);return u={useFetchStreams:n,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),Ln(aT,oT,t),Ln(aT,oT,"esm2020")})();var iN="firebase",rN="12.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ln(iN,rN,"app");const Hb="@firebase/installations",sg="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fb=1e4,Gb=`w:${sg}`,$b="FIS_v2",sN="https://firebaseinstallations.googleapis.com/v1",aN=3600*1e3,oN="installations",lN="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uN={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},na=new aa(oN,lN,uN);function Kb(i){return i instanceof ni&&i.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qb({projectId:i}){return`${sN}/projects/${i}/installations`}function Yb(i){return{token:i.token,requestStatus:2,expiresIn:hN(i.expiresIn),creationTime:Date.now()}}async function Xb(i,t){const s=(await t.json()).error;return na.create("request-failed",{requestName:i,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function Wb({apiKey:i}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":i})}function cN(i,{refreshToken:t}){const n=Wb(i);return n.append("Authorization",fN(t)),n}async function Zb(i){const t=await i();return t.status>=500&&t.status<600?i():t}function hN(i){return Number(i.replace("s","000"))}function fN(i){return`${$b} ${i}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dN({appConfig:i,heartbeatServiceProvider:t},{fid:n}){const s=Qb(i),o=Wb(i),u=t.getImmediate({optional:!0});if(u){const g=await u.getHeartbeatsHeader();g&&o.append("x-firebase-client",g)}const f={fid:n,authVersion:$b,appId:i.appId,sdkVersion:Gb},m={method:"POST",headers:o,body:JSON.stringify(f)},p=await Zb(()=>fetch(s,m));if(p.ok){const g=await p.json();return{fid:g.fid||n,registrationStatus:2,refreshToken:g.refreshToken,authToken:Yb(g.authToken)}}else throw await Xb("Create Installation",p)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jb(i){return new Promise(t=>{setTimeout(t,i)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mN(i){return btoa(String.fromCharCode(...i)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pN=/^[cdef][\w-]{21}$/,sp="";function gN(){try{const i=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(i),i[0]=112+i[0]%16;const n=yN(i);return pN.test(n)?n:sp}catch{return sp}}function yN(i){return mN(i).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ef(i){return`${i.appName}!${i.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t1=new Map;function e1(i,t){const n=ef(i);n1(n,t),_N(n,t)}function n1(i,t){const n=t1.get(i);if(n)for(const s of n)s(t)}function _N(i,t){const n=vN();n&&n.postMessage({key:i,fid:t}),TN()}let Xs=null;function vN(){return!Xs&&"BroadcastChannel"in self&&(Xs=new BroadcastChannel("[Firebase] FID Change"),Xs.onmessage=i=>{n1(i.data.key,i.data.fid)}),Xs}function TN(){t1.size===0&&Xs&&(Xs.close(),Xs=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EN="firebase-installations-database",bN=1,ia="firebase-installations-store";let Rm=null;function ag(){return Rm||(Rm=sE(EN,bN,{upgrade:(i,t)=>{switch(t){case 0:i.createObjectStore(ia)}}})),Rm}async function Rh(i,t){const n=ef(i),o=(await ag()).transaction(ia,"readwrite"),u=o.objectStore(ia),f=await u.get(n);return await u.put(t,n),await o.done,(!f||f.fid!==t.fid)&&e1(i,t.fid),t}async function i1(i){const t=ef(i),s=(await ag()).transaction(ia,"readwrite");await s.objectStore(ia).delete(t),await s.done}async function nf(i,t){const n=ef(i),o=(await ag()).transaction(ia,"readwrite"),u=o.objectStore(ia),f=await u.get(n),m=t(f);return m===void 0?await u.delete(n):await u.put(m,n),await o.done,m&&(!f||f.fid!==m.fid)&&e1(i,m.fid),m}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function og(i){let t;const n=await nf(i.appConfig,s=>{const o=AN(s),u=SN(i,o);return t=u.registrationPromise,u.installationEntry});return n.fid===sp?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}function AN(i){const t=i||{fid:gN(),registrationStatus:0};return r1(t)}function SN(i,t){if(t.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(na.create("app-offline"));return{installationEntry:t,registrationPromise:o}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},s=wN(i,n);return{installationEntry:n,registrationPromise:s}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:RN(i)}:{installationEntry:t}}async function wN(i,t){try{const n=await dN(i,t);return Rh(i.appConfig,n)}catch(n){throw Kb(n)&&n.customData.serverCode===409?await i1(i.appConfig):await Rh(i.appConfig,{fid:t.fid,registrationStatus:0}),n}}async function RN(i){let t=await r0(i.appConfig);for(;t.registrationStatus===1;)await Jb(100),t=await r0(i.appConfig);if(t.registrationStatus===0){const{installationEntry:n,registrationPromise:s}=await og(i);return s||n}return t}function r0(i){return nf(i,t=>{if(!t)throw na.create("installation-not-found");return r1(t)})}function r1(i){return IN(i)?{fid:i.fid,registrationStatus:0}:i}function IN(i){return i.registrationStatus===1&&i.registrationTime+Fb<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CN({appConfig:i,heartbeatServiceProvider:t},n){const s=DN(i,n),o=cN(i,n),u=t.getImmediate({optional:!0});if(u){const g=await u.getHeartbeatsHeader();g&&o.append("x-firebase-client",g)}const f={installation:{sdkVersion:Gb,appId:i.appId}},m={method:"POST",headers:o,body:JSON.stringify(f)},p=await Zb(()=>fetch(s,m));if(p.ok){const g=await p.json();return Yb(g)}else throw await Xb("Generate Auth Token",p)}function DN(i,{fid:t}){return`${Qb(i)}/${t}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lg(i,t=!1){let n;const s=await nf(i.appConfig,u=>{if(!s1(u))throw na.create("not-registered");const f=u.authToken;if(!t&&xN(f))return u;if(f.requestStatus===1)return n=NN(i,t),u;{if(!navigator.onLine)throw na.create("app-offline");const m=VN(u);return n=ON(i,m),m}});return n?await n:s.authToken}async function NN(i,t){let n=await s0(i.appConfig);for(;n.authToken.requestStatus===1;)await Jb(100),n=await s0(i.appConfig);const s=n.authToken;return s.requestStatus===0?lg(i,t):s}function s0(i){return nf(i,t=>{if(!s1(t))throw na.create("not-registered");const n=t.authToken;return PN(n)?{...t,authToken:{requestStatus:0}}:t})}async function ON(i,t){try{const n=await CN(i,t),s={...t,authToken:n};return await Rh(i.appConfig,s),n}catch(n){if(Kb(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await i1(i.appConfig);else{const s={...t,authToken:{requestStatus:0}};await Rh(i.appConfig,s)}throw n}}function s1(i){return i!==void 0&&i.registrationStatus===2}function xN(i){return i.requestStatus===2&&!MN(i)}function MN(i){const t=Date.now();return t<i.creationTime||i.creationTime+i.expiresIn<t+aN}function VN(i){const t={requestStatus:1,requestTime:Date.now()};return{...i,authToken:t}}function PN(i){return i.requestStatus===1&&i.requestTime+Fb<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kN(i){const t=i,{installationEntry:n,registrationPromise:s}=await og(t);return s?s.catch(console.error):lg(t).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LN(i,t=!1){const n=i;return await UN(n),(await lg(n,t)).token}async function UN(i){const{registrationPromise:t}=await og(i);t&&await t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zN(i){if(!i||!i.options)throw Im("App Configuration");if(!i.name)throw Im("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!i.options[n])throw Im(n);return{appName:i.name,projectId:i.options.projectId,apiKey:i.options.apiKey,appId:i.options.appId}}function Im(i){return na.create("missing-app-config-values",{valueName:i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a1="installations",BN="installations-internal",jN=i=>{const t=i.getProvider("app").getImmediate(),n=zN(t),s=oa(t,"heartbeat");return{app:t,appConfig:n,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},qN=i=>{const t=i.getProvider("app").getImmediate(),n=oa(t,a1).getImmediate();return{getId:()=>kN(n),getToken:o=>LN(n,o)}};function HN(){wi(new Zn(a1,jN,"PUBLIC")),wi(new Zn(BN,qN,"PRIVATE"))}HN();Ln(Hb,sg);Ln(Hb,sg,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ih="analytics",FN="firebase_id",GN="origin",$N=60*1e3,KN="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",ug="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dn=new Uh("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QN={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},An=new aa("analytics","Analytics",QN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YN(i){if(!i.startsWith(ug)){const t=An.create("invalid-gtag-resource",{gtagURL:i});return dn.warn(t.message),""}return i}function o1(i){return Promise.all(i.map(t=>t.catch(n=>n)))}function XN(i,t){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(i,t)),n}function WN(i,t){const n=XN("firebase-js-sdk-policy",{createScriptURL:YN}),s=document.createElement("script"),o=`${ug}?l=${i}&id=${t}`;s.src=n?n?.createScriptURL(o):o,s.async=!0,document.head.appendChild(s)}function ZN(i){let t=[];return Array.isArray(window[i])?t=window[i]:window[i]=t,t}async function JN(i,t,n,s,o,u){const f=s[o];try{if(f)await t[f];else{const p=(await o1(n)).find(g=>g.measurementId===o);p&&await t[p.appId]}}catch(m){dn.error(m)}i("config",o,u)}async function tO(i,t,n,s,o){try{let u=[];if(o&&o.send_to){let f=o.send_to;Array.isArray(f)||(f=[f]);const m=await o1(n);for(const p of f){const g=m.find(b=>b.measurementId===p),v=g&&t[g.appId];if(v)u.push(v);else{u=[];break}}}u.length===0&&(u=Object.values(t)),await Promise.all(u),i("event",s,o||{})}catch(u){dn.error(u)}}function eO(i,t,n,s){async function o(u,...f){try{if(u==="event"){const[m,p]=f;await tO(i,t,n,m,p)}else if(u==="config"){const[m,p]=f;await JN(i,t,n,s,m,p)}else if(u==="consent"){const[m,p]=f;i("consent",m,p)}else if(u==="get"){const[m,p,g]=f;i("get",m,p,g)}else if(u==="set"){const[m]=f;i("set",m)}else i(u,...f)}catch(m){dn.error(m)}}return o}function nO(i,t,n,s,o){let u=function(...f){window[s].push(arguments)};return window[o]&&typeof window[o]=="function"&&(u=window[o]),window[o]=eO(u,i,t,n),{gtagCore:u,wrappedGtag:window[o]}}function iO(i){const t=window.document.getElementsByTagName("script");for(const n of Object.values(t))if(n.src&&n.src.includes(ug)&&n.src.includes(i))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rO=30,sO=1e3;class aO{constructor(t={},n=sO){this.throttleMetadata=t,this.intervalMillis=n}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,n){this.throttleMetadata[t]=n}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}}const l1=new aO;function oO(i){return new Headers({Accept:"application/json","x-goog-api-key":i})}async function lO(i){const{appId:t,apiKey:n}=i,s={method:"GET",headers:oO(n)},o=KN.replace("{app-id}",t),u=await fetch(o,s);if(u.status!==200&&u.status!==304){let f="";try{const m=await u.json();m.error?.message&&(f=m.error.message)}catch{}throw An.create("config-fetch-failed",{httpStatus:u.status,responseMessage:f})}return u.json()}async function uO(i,t=l1,n){const{appId:s,apiKey:o,measurementId:u}=i.options;if(!s)throw An.create("no-app-id");if(!o){if(u)return{measurementId:u,appId:s};throw An.create("no-api-key")}const f=t.getThrottleMetadata(s)||{backoffCount:0,throttleEndTimeMillis:Date.now()},m=new fO;return setTimeout(async()=>{m.abort()},$N),u1({appId:s,apiKey:o,measurementId:u},f,m,t)}async function u1(i,{throttleEndTimeMillis:t,backoffCount:n},s,o=l1){const{appId:u,measurementId:f}=i;try{await cO(s,t)}catch(m){if(f)return dn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${f} provided in the "measurementId" field in the local Firebase config. [${m?.message}]`),{appId:u,measurementId:f};throw m}try{const m=await lO(i);return o.deleteThrottleMetadata(u),m}catch(m){const p=m;if(!hO(p)){if(o.deleteThrottleMetadata(u),f)return dn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${f} provided in the "measurementId" field in the local Firebase config. [${p?.message}]`),{appId:u,measurementId:f};throw m}const g=Number(p?.customData?.httpStatus)===503?Xv(n,o.intervalMillis,rO):Xv(n,o.intervalMillis),v={throttleEndTimeMillis:Date.now()+g,backoffCount:n+1};return o.setThrottleMetadata(u,v),dn.debug(`Calling attemptFetch again in ${g} millis`),u1(i,v,s,o)}}function cO(i,t){return new Promise((n,s)=>{const o=Math.max(t-Date.now(),0),u=setTimeout(n,o);i.addEventListener(()=>{clearTimeout(u),s(An.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function hO(i){if(!(i instanceof ni)||!i.customData)return!1;const t=Number(i.customData.httpStatus);return t===429||t===500||t===503||t===504}class fO{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach(t=>t())}}async function dO(i,t,n,s,o){if(o&&o.global){i("event",n,s);return}else{const u=await t,f={...s,send_to:u};i("event",n,f)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mO(){if(eE())try{await nE()}catch(i){return dn.warn(An.create("indexeddb-unavailable",{errorInfo:i?.toString()}).message),!1}else return dn.warn(An.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function pO(i,t,n,s,o,u,f){const m=uO(i);m.then(w=>{n[w.measurementId]=w.appId,i.options.measurementId&&w.measurementId!==i.options.measurementId&&dn.warn(`The measurement ID in the local Firebase config (${i.options.measurementId}) does not match the measurement ID fetched from the server (${w.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(w=>dn.error(w)),t.push(m);const p=mO().then(w=>{if(w)return s.getId()}),[g,v]=await Promise.all([m,p]);iO(u)||WN(u,g.measurementId),o("js",new Date);const b=f?.config??{};return b[GN]="firebase",b.update=!0,v!=null&&(b[FN]=v),o("config",g.measurementId,b),g.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gO{constructor(t){this.app=t}_delete(){return delete Yl[this.app.options.appId],Promise.resolve()}}let Yl={},a0=[];const o0={};let Cm="dataLayer",yO="gtag",l0,c1,u0=!1;function _O(){const i=[];if(tE()&&i.push("This is a browser extension environment."),SR()||i.push("Cookies are not available."),i.length>0){const t=i.map((s,o)=>`(${o+1}) ${s}`).join(" "),n=An.create("invalid-analytics-context",{errorInfo:t});dn.warn(n.message)}}function vO(i,t,n){_O();const s=i.options.appId;if(!s)throw An.create("no-app-id");if(!i.options.apiKey)if(i.options.measurementId)dn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${i.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw An.create("no-api-key");if(Yl[s]!=null)throw An.create("already-exists",{id:s});if(!u0){ZN(Cm);const{wrappedGtag:u,gtagCore:f}=nO(Yl,a0,o0,Cm,yO);c1=u,l0=f,u0=!0}return Yl[s]=pO(i,a0,o0,t,l0,Cm,n),new gO(i)}function TO(i=bp()){i=Fe(i);const t=oa(i,Ih);return t.isInitialized()?t.getImmediate():EO(i)}function EO(i,t={}){const n=oa(i,Ih);if(n.isInitialized()){const o=n.getImmediate();if(ts(t,n.getOptions()))return o;throw An.create("already-initialized")}return n.initialize({options:t})}function bO(i,t,n,s){i=Fe(i),dO(c1,Yl[i.app.options.appId],t,n,s).catch(o=>dn.error(o))}const c0="@firebase/analytics",h0="0.10.18";function AO(){wi(new Zn(Ih,(t,{options:n})=>{const s=t.getProvider("app").getImmediate(),o=t.getProvider("installations-internal").getImmediate();return vO(s,o,n)},"PUBLIC")),wi(new Zn("analytics-internal",i,"PRIVATE")),Ln(c0,h0),Ln(c0,h0,"esm2020");function i(t){try{const n=t.getProvider(Ih).getImmediate();return{logEvent:(s,o,u)=>bO(n,s,o,u)}}catch(n){throw An.create("interop-component-reg-failed",{reason:n})}}}AO();function h1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const SO=h1,f1=new aa("auth","Firebase",h1());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ch=new Uh("@firebase/auth");function wO(i,...t){Ch.logLevel<=Mt.WARN&&Ch.warn(`Auth (${Ao}): ${i}`,...t)}function sh(i,...t){Ch.logLevel<=Mt.ERROR&&Ch.error(`Auth (${Ao}): ${i}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ir(i,...t){throw cg(i,...t)}function Ai(i,...t){return cg(i,...t)}function d1(i,t,n){const s={...SO(),[t]:n};return new aa("auth","Firebase",s).create(t,{appName:i.name})}function Zs(i){return d1(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function cg(i,...t){if(typeof i!="string"){const n=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(n,...s)}return f1.create(i,...t)}function At(i,t,...n){if(!i)throw cg(t,...n)}function Qi(i){const t="INTERNAL ASSERTION FAILED: "+i;throw sh(t),new Error(t)}function rr(i,t){i||Qi(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ap(){return typeof self<"u"&&self.location?.href||""}function RO(){return f0()==="http:"||f0()==="https:"}function f0(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IO(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(RO()||tE()||"connection"in navigator)?navigator.onLine:!0}function CO(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vu{constructor(t,n){this.shortDelay=t,this.longDelay=n,rr(n>t,"Short delay should be less than long delay!"),this.isMobile=_R()||ER()}get(){return IO()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hg(i,t){rr(i.emulator,"Emulator should always be set here");const{url:n}=i.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m1{static initialize(t,n,s){this.fetchImpl=t,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Qi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Qi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Qi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DO={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NO=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],OO=new vu(3e4,6e4);function fg(i,t){return i.tenantId&&!t.tenantId?{...t,tenantId:i.tenantId}:t}async function No(i,t,n,s,o={}){return p1(i,o,async()=>{let u={},f={};s&&(t==="GET"?f=s:u={body:JSON.stringify(s)});const m=hu({key:i.config.apiKey,...f}).slice(1),p=await i._getAdditionalHeaders();p["Content-Type"]="application/json",i.languageCode&&(p["X-Firebase-Locale"]=i.languageCode);const g={method:t,headers:p,...u};return TR()||(g.referrerPolicy="no-referrer"),i.emulatorConfig&&bo(i.emulatorConfig.host)&&(g.credentials="include"),m1.fetch()(await g1(i,i.config.apiHost,n,m),g)})}async function p1(i,t,n){i._canInitEmulator=!1;const s={...DO,...t};try{const o=new MO(i),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Xc(i,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Xc(i,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw Xc(i,"email-already-in-use",f);if(p==="USER_DISABLED")throw Xc(i,"user-disabled",f);const v=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw d1(i,v,g);ir(i,v)}}catch(o){if(o instanceof ni)throw o;ir(i,"network-request-failed",{message:String(o)})}}async function xO(i,t,n,s,o={}){const u=await No(i,t,n,s,o);return"mfaPendingCredential"in u&&ir(i,"multi-factor-auth-required",{_serverResponse:u}),u}async function g1(i,t,n,s){const o=`${t}${n}?${s}`,u=i,f=u.config.emulator?hg(i.config,o):`${i.config.apiScheme}://${o}`;return NO.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}class MO{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Ai(this.auth,"network-request-failed")),OO.get())})}}function Xc(i,t,n){const s={appName:i.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=Ai(i,t,s);return o.customData._tokenResponse=n,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VO(i,t){return No(i,"POST","/v1/accounts:delete",t)}async function Dh(i,t){return No(i,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xl(i){if(i)try{const t=new Date(Number(i));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function PO(i,t=!1){const n=Fe(i),s=await n.getIdToken(t),o=dg(s);At(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u?.sign_in_provider;return{claims:o,token:s,authTime:Xl(Dm(o.auth_time)),issuedAtTime:Xl(Dm(o.iat)),expirationTime:Xl(Dm(o.exp)),signInProvider:f||null,signInSecondFactor:u?.sign_in_second_factor||null}}function Dm(i){return Number(i)*1e3}function dg(i){const[t,n,s]=i.split(".");if(t===void 0||n===void 0||s===void 0)return sh("JWT malformed, contained fewer than 3 sections"),null;try{const o=Q0(n);return o?JSON.parse(o):(sh("Failed to decode base64 JWT payload"),null)}catch(o){return sh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function d0(i){const t=dg(i);return At(t,"internal-error"),At(typeof t.exp<"u","internal-error"),At(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ou(i,t,n=!1){if(n)return t;try{return await t}catch(s){throw s instanceof ni&&kO(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function kO({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LO{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class op{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Xl(this.lastLoginAt),this.creationTime=Xl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nh(i){const t=i.auth,n=await i.getIdToken(),s=await ou(i,Dh(t,{idToken:n}));At(s?.users.length,t,"internal-error");const o=s.users[0];i._notifyReloadListener(o);const u=o.providerUserInfo?.length?y1(o.providerUserInfo):[],f=zO(i.providerData,u),m=i.isAnonymous,p=!(i.email&&o.passwordHash)&&!f?.length,g=m?p:!1,v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new op(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(i,v)}async function UO(i){const t=Fe(i);await Nh(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function zO(i,t){return[...i.filter(s=>!t.some(o=>o.providerId===s.providerId)),...t]}function y1(i){return i.map(({providerId:t,...n})=>({providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BO(i,t){const n=await p1(i,{},async()=>{const s=hu({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:u}=i.config,f=await g1(i,o,"/v1/token",`key=${u}`),m=await i._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:s};return i.emulatorConfig&&bo(i.emulatorConfig.host)&&(p.credentials="include"),m1.fetch()(f,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function jO(i,t){return No(i,"POST","/v2/accounts:revokeToken",fg(i,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){At(t.idToken,"internal-error"),At(typeof t.idToken<"u","internal-error"),At(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):d0(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){At(t.length!==0,"internal-error");const n=d0(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(At(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await BO(t,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(t,n,s){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new lo;return s&&(At(typeof s=="string","internal-error",{appName:t}),f.refreshToken=s),o&&(At(typeof o=="string","internal-error",{appName:t}),f.accessToken=o),u&&(At(typeof u=="number","internal-error",{appName:t}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new lo,this.toJSON())}_performRefresh(){return Qi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fr(i,t){At(typeof i=="string"||typeof i>"u","internal-error",{appName:t})}class Yn{constructor({uid:t,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new LO(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new op(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const n=await ou(this,this.stsTokenManager.getToken(this.auth,t));return At(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return PO(this,t)}reload(){return UO(this)}_assign(t){this!==t&&(At(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>({...n})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new Yn({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(t){At(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),n&&await Nh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(_i(this.auth.app))return Promise.reject(Zs(this.auth));const t=await this.getIdToken();return await ou(this,VO(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,f=n.photoURL??void 0,m=n.tenantId??void 0,p=n._redirectEventId??void 0,g=n.createdAt??void 0,v=n.lastLoginAt??void 0,{uid:b,emailVerified:w,isAnonymous:V,providerData:K,stsTokenManager:Q}=n;At(b&&Q,t,"internal-error");const L=lo.fromJSON(this.name,Q);At(typeof b=="string",t,"internal-error"),Fr(s,t.name),Fr(o,t.name),At(typeof w=="boolean",t,"internal-error"),At(typeof V=="boolean",t,"internal-error"),Fr(u,t.name),Fr(f,t.name),Fr(m,t.name),Fr(p,t.name),Fr(g,t.name),Fr(v,t.name);const Z=new Yn({uid:b,auth:t,email:o,emailVerified:w,displayName:s,isAnonymous:V,photoURL:f,phoneNumber:u,tenantId:m,stsTokenManager:L,createdAt:g,lastLoginAt:v});return K&&Array.isArray(K)&&(Z.providerData=K.map(q=>({...q}))),p&&(Z._redirectEventId=p),Z}static async _fromIdTokenResponse(t,n,s=!1){const o=new lo;o.updateFromServerResponse(n);const u=new Yn({uid:n.localId,auth:t,stsTokenManager:o,isAnonymous:s});return await Nh(u),u}static async _fromGetAccountInfoResponse(t,n,s){const o=n.users[0];At(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?y1(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!u?.length,m=new lo;m.updateFromIdToken(s);const p=new Yn({uid:o.localId,auth:t,stsTokenManager:m,isAnonymous:f}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new op(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m0=new Map;function Yi(i){rr(i instanceof Function,"Expected a class definition");let t=m0.get(i);return t?(rr(t instanceof i,"Instance stored in cache mismatched with class"),t):(t=new i,m0.set(i,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}_1.type="NONE";const p0=_1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ah(i,t,n){return`firebase:${i}:${t}:${n}`}class uo{constructor(t,n,s){this.persistence=t,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=ah(this.userKey,o.apiKey,u),this.fullPersistenceKey=ah("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await Dh(this.auth,{idToken:t}).catch(()=>{});return n?Yn._fromGetAccountInfoResponse(this.auth,n,t):null}return Yn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,s="authUser"){if(!n.length)return new uo(Yi(p0),t,s);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||Yi(p0);const f=ah(s,t.config.apiKey,t.name);let m=null;for(const g of n)try{const v=await g._get(f);if(v){let b;if(typeof v=="string"){const w=await Dh(t,{idToken:v}).catch(()=>{});if(!w)break;b=await Yn._fromGetAccountInfoResponse(t,w,v)}else b=Yn._fromJSON(t,v);g!==u&&(m=b),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new uo(u,t,s):(u=p[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(f)}catch{}})),new uo(u,t,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g0(i){const t=i.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(b1(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(v1(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(S1(t))return"Blackberry";if(w1(t))return"Webos";if(T1(t))return"Safari";if((t.includes("chrome/")||E1(t))&&!t.includes("edge/"))return"Chrome";if(A1(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(n);if(s?.length===2)return s[1]}return"Other"}function v1(i=Je()){return/firefox\//i.test(i)}function T1(i=Je()){const t=i.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function E1(i=Je()){return/crios\//i.test(i)}function b1(i=Je()){return/iemobile/i.test(i)}function A1(i=Je()){return/android/i.test(i)}function S1(i=Je()){return/blackberry/i.test(i)}function w1(i=Je()){return/webos/i.test(i)}function mg(i=Je()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function qO(i=Je()){return mg(i)&&!!window.navigator?.standalone}function HO(){return bR()&&document.documentMode===10}function R1(i=Je()){return mg(i)||A1(i)||w1(i)||S1(i)||/windows phone/i.test(i)||b1(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I1(i,t=[]){let n;switch(i){case"Browser":n=g0(Je());break;case"Worker":n=`${g0(Je())}-${i}`;break;default:n=i}const s=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ao}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FO{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const s=u=>new Promise((f,m)=>{try{const p=t(u);f(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const s of this.queue)await s(t),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GO(i,t={}){return No(i,"GET","/v2/passwordPolicy",fg(i,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $O=6;class KO{constructor(t){const n=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??$O,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,n),this.validatePasswordCharacterOptions(t,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(t,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=t.length>=s),o&&(n.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<t.length;o++)s=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QO{constructor(t,n,s,o){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new y0(this),this.idTokenSubscription=new y0(this),this.beforeStateQueue=new FO(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=f1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=Yi(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await uo.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await Dh(this,{idToken:t}),s=await Yn._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(_i(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,f=s?._redirectEventId,m=await this.tryRedirectSignIn(t);(!u||u===f)&&m?.user&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return At(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await Nh(t)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=CO()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(_i(this.app))return Promise.reject(Zs(this));const n=t?Fe(t):null;return n&&At(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&At(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return _i(this.app)?Promise.reject(Zs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return _i(this.app)?Promise.reject(Zs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Yi(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await GO(this),n=new KO(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new aa("auth","Firebase",t())}onAuthStateChanged(t,n,s){return this.registerStateListener(this.authStateSubscription,t,n,s)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,s){return this.registerStateListener(this.idTokenSubscription,t,n,s)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await jO(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,n){const s=await this.getOrInitRedirectPersistenceManager(n);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&Yi(t)||this._popupRedirectResolver;At(n,this,"argument-error"),this.redirectPersistenceManager=await uo.create(this,[Yi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(At(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const p=t.addObserver(n,s,o);return()=>{f=!0,p()}}else{const p=t.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return At(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=I1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(t["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){if(_i(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&wO(`Error while retrieving App Check token: ${t.error}`),t?.token}}function pg(i){return Fe(i)}class y0{constructor(t){this.auth=t,this.observer=null,this.addObserver=DR(n=>this.observer=n)}get next(){return At(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function YO(i){gg=i}function XO(i){return gg.loadJS(i)}function WO(){return gg.gapiScript}function ZO(i){return`__${i}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JO(i,t){const n=oa(i,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(ts(u,t??{}))return o;ir(o,"already-initialized")}return n.initialize({options:t})}function tx(i,t){const n=t?.persistence||[],s=(Array.isArray(n)?n:[n]).map(Yi);t?.errorMap&&i._updateErrorMap(t.errorMap),i._initializeWithPersistence(s,t?.popupRedirectResolver)}function ex(i,t,n){const s=pg(i);At(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const o=!1,u=C1(t),{host:f,port:m}=nx(t),p=m===null?"":`:${m}`,g={url:`${u}//${f}${p}/`},v=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){At(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),At(ts(g,s.config.emulator)&&ts(v,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=v,s.settings.appVerificationDisabledForTesting=!0,bo(f)?(Z0(`${u}//${f}${p}`),J0("Auth",!0)):ix()}function C1(i){const t=i.indexOf(":");return t<0?"":i.substr(0,t+1)}function nx(i){const t=C1(i),n=/(\/\/)?([^?#/]+)/.exec(i.substr(t.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:_0(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:_0(f)}}}function _0(i){if(!i)return null;const t=Number(i);return isNaN(t)?null:t}function ix(){function i(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D1{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return Qi("not implemented")}_getIdTokenResponse(t){return Qi("not implemented")}_linkToIdToken(t,n){return Qi("not implemented")}_getReauthenticationResolver(t){return Qi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function co(i,t){return xO(i,"POST","/v1/accounts:signInWithIdp",fg(i,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rx="http://localhost";class ra extends D1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new ra(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):ir("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const f=new ra(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(t){const n=this.buildRequest();return co(t,n)}_linkToIdToken(t,n){const s=this.buildRequest();return s.idToken=n,co(t,s)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,co(t,n)}buildRequest(){const t={requestUri:rx,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=hu(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N1{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tu extends N1{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gr extends Tu{constructor(){super("facebook.com")}static credential(t){return ra._fromParams({providerId:Gr.PROVIDER_ID,signInMethod:Gr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Gr.credentialFromTaggedObject(t)}static credentialFromError(t){return Gr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Gr.credential(t.oauthAccessToken)}catch{return null}}}Gr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Gr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r extends Tu{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return ra._fromParams({providerId:$r.PROVIDER_ID,signInMethod:$r.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return $r.credentialFromTaggedObject(t)}static credentialFromError(t){return $r.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:s}=t;if(!n&&!s)return null;try{return $r.credential(n,s)}catch{return null}}}$r.GOOGLE_SIGN_IN_METHOD="google.com";$r.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr extends Tu{constructor(){super("github.com")}static credential(t){return ra._fromParams({providerId:Kr.PROVIDER_ID,signInMethod:Kr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Kr.credentialFromTaggedObject(t)}static credentialFromError(t){return Kr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Kr.credential(t.oauthAccessToken)}catch{return null}}}Kr.GITHUB_SIGN_IN_METHOD="github.com";Kr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr extends Tu{constructor(){super("twitter.com")}static credential(t,n){return ra._fromParams({providerId:Qr.PROVIDER_ID,signInMethod:Qr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return Qr.credentialFromTaggedObject(t)}static credentialFromError(t){return Qr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=t;if(!n||!s)return null;try{return Qr.credential(n,s)}catch{return null}}}Qr.TWITTER_SIGN_IN_METHOD="twitter.com";Qr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,s,o=!1){const u=await Yn._fromIdTokenResponse(t,s,o),f=v0(s);return new _o({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(t,n,s){await t._updateTokensIfNecessary(s,!0);const o=v0(s);return new _o({user:t,providerId:o,_tokenResponse:s,operationType:n})}}function v0(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh extends ni{constructor(t,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Oh.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,n,s,o){return new Oh(t,n,s,o)}}function O1(i,t,n,s){return(t==="reauthenticate"?n._getReauthenticationResolver(i):n._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Oh._fromErrorAndOperation(i,u,t,s):u})}async function sx(i,t,n=!1){const s=await ou(i,t._linkToIdToken(i.auth,await i.getIdToken()),n);return _o._forOperation(i,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ax(i,t,n=!1){const{auth:s}=i;if(_i(s.app))return Promise.reject(Zs(s));const o="reauthenticate";try{const u=await ou(i,O1(s,o,t,i),n);At(u.idToken,s,"internal-error");const f=dg(u.idToken);At(f,s,"internal-error");const{sub:m}=f;return At(i.uid===m,s,"user-mismatch"),_o._forOperation(i,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&ir(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ox(i,t,n=!1){if(_i(i.app))return Promise.reject(Zs(i));const s="signIn",o=await O1(i,s,t),u=await _o._fromIdTokenResponse(i,s,o);return n||await i._updateCurrentUser(u.user),u}function lx(i,t,n,s){return Fe(i).onIdTokenChanged(t,n,s)}function ux(i,t,n){return Fe(i).beforeAuthStateChanged(t,n)}const xh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x1{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(xh,"1"),this.storage.removeItem(xh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cx=1e3,hx=10;class M1 extends x1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=R1(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&t(n,o,s)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((f,m,p)=>{this.notifyListeners(f,p)});return}const s=t.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);HO()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,hx):o()}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:s}),!0)})},cx)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}M1.type="LOCAL";const fx=M1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V1 extends x1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}V1.type="SESSION";const P1=V1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dx(i){return Promise.all(i.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rf{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(o=>o.isListeningto(t));if(n)return n;const s=new rf(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!f?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async g=>g(n.origin,u)),p=await dx(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}rf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yg(i="",t=10){let n="";for(let s=0;s<t;s++)n+=Math.floor(Math.random()*10);return i+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mx{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,p)=>{const g=yg("",20);o.port1.start();const v=setTimeout(()=>{p(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(b){const w=b;if(w.data.eventId===g)switch(w.data.status){case"ack":clearTimeout(v),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(w.data.response);break;default:clearTimeout(v),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:t,eventId:g,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Si(){return window}function px(i){Si().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k1(){return typeof Si().WorkerGlobalScope<"u"&&typeof Si().importScripts=="function"}async function gx(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function yx(){return navigator?.serviceWorker?.controller||null}function _x(){return k1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L1="firebaseLocalStorageDb",vx=1,Mh="firebaseLocalStorage",U1="fbase_key";class Eu{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function sf(i,t){return i.transaction([Mh],t?"readwrite":"readonly").objectStore(Mh)}function Tx(){const i=indexedDB.deleteDatabase(L1);return new Eu(i).toPromise()}function lp(){const i=indexedDB.open(L1,vx);return new Promise((t,n)=>{i.addEventListener("error",()=>{n(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(Mh,{keyPath:U1})}catch(o){n(o)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(Mh)?t(s):(s.close(),await Tx(),t(await lp()))})})}async function T0(i,t,n){const s=sf(i,!0).put({[U1]:t,value:n});return new Eu(s).toPromise()}async function Ex(i,t){const n=sf(i,!1).get(t),s=await new Eu(n).toPromise();return s===void 0?null:s.value}function E0(i,t){const n=sf(i,!0).delete(t);return new Eu(n).toPromise()}const bx=800,Ax=3;class z1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await lp(),this.db)}async _withRetries(t){let n=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(n++>Ax)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return k1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=rf._getInstance(_x()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await gx(),!this.activeServiceWorker)return;this.sender=new mx(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||yx()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await lp();return await T0(t,xh,"1"),await E0(t,xh),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>T0(s,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(s=>Ex(s,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>E0(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const u=sf(o,!1).getAll();return new Eu(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(t.length!==0)for(const{fbase_key:o,value:u}of t)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),bx)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}z1.type="LOCAL";const Sx=z1;new vu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wx(i,t){return t?Yi(t):(At(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _g extends D1{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return co(t,this._buildIdpRequest())}_linkToIdToken(t,n){return co(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return co(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function Rx(i){return ox(i.auth,new _g(i),i.bypassAuthState)}function Ix(i){const{auth:t,user:n}=i;return At(n,t,"internal-error"),ax(n,new _g(i),i.bypassAuthState)}async function Cx(i){const{auth:t,user:n}=i;return At(n,t,"internal-error"),sx(n,new _g(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B1{constructor(t,n,s,o,u=!1){this.auth=t,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=t;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return Rx;case"linkViaPopup":case"linkViaRedirect":return Cx;case"reauthViaPopup":case"reauthViaRedirect":return Ix;default:ir(this.auth,"internal-error")}}resolve(t){rr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){rr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dx=new vu(2e3,1e4);class so extends B1{constructor(t,n,s,o,u){super(t,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,so.currentPopupAction&&so.currentPopupAction.cancel(),so.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return At(t,this.auth,"internal-error"),t}async onExecution(){rr(this.filter.length===1,"Popup operations only handle one event");const t=yg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ai(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ai(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,so.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ai(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,Dx.get())};t()}}so.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nx="pendingRedirect",oh=new Map;class Ox extends B1{constructor(t,n,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let t=oh.get(this.auth._key());if(!t){try{const s=await xx(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(n){t=()=>Promise.reject(n)}oh.set(this.auth._key(),t)}return this.bypassAuthState||oh.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function xx(i,t){const n=Px(t),s=Vx(i);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function Mx(i,t){oh.set(i._key(),t)}function Vx(i){return Yi(i._redirectPersistence)}function Px(i){return ah(Nx,i.config.apiKey,i.name)}async function kx(i,t,n=!1){if(_i(i.app))return Promise.reject(Zs(i));const s=pg(i),o=wx(s,t),f=await new Ox(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,t)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lx=600*1e3;class Ux{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(n=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!zx(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){if(t.error&&!j1(t)){const s=t.error.code?.split("auth/")[1]||"internal-error";n.onError(Ai(this.auth,s))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const s=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=Lx&&this.cachedEventUids.clear(),this.cachedEventUids.has(b0(t))}saveEventToCache(t){this.cachedEventUids.add(b0(t)),this.lastProcessedEventTime=Date.now()}}function b0(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(t=>t).join("-")}function j1({type:i,error:t}){return i==="unknown"&&t?.code==="auth/no-auth-event"}function zx(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return j1(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bx(i,t={}){return No(i,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jx=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,qx=/^https?/;async function Hx(i){if(i.config.emulator)return;const{authorizedDomains:t}=await Bx(i);for(const n of t)try{if(Fx(n))return}catch{}ir(i,"unauthorized-domain")}function Fx(i){const t=ap(),{protocol:n,hostname:s}=new URL(t);if(i.startsWith("chrome-extension://")){const f=new URL(i);return f.hostname===""&&s===""?n==="chrome-extension:"&&i.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!qx.test(n))return!1;if(jx.test(i))return s===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gx=new vu(3e4,6e4);function A0(){const i=Si().___jsl;if(i?.H){for(const t of Object.keys(i.H))if(i.H[t].r=i.H[t].r||[],i.H[t].L=i.H[t].L||[],i.H[t].r=[...i.H[t].L],i.CP)for(let n=0;n<i.CP.length;n++)i.CP[n]=null}}function $x(i){return new Promise((t,n)=>{function s(){A0(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{A0(),n(Ai(i,"network-request-failed"))},timeout:Gx.get()})}if(Si().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Si().gapi?.load)s();else{const o=ZO("iframefcb");return Si()[o]=()=>{gapi.load?s():n(Ai(i,"network-request-failed"))},XO(`${WO()}?onload=${o}`).catch(u=>n(u))}}).catch(t=>{throw lh=null,t})}let lh=null;function Kx(i){return lh=lh||$x(i),lh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qx=new vu(5e3,15e3),Yx="__/auth/iframe",Xx="emulator/auth/iframe",Wx={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Zx=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Jx(i){const t=i.config;At(t.authDomain,i,"auth-domain-config-required");const n=t.emulator?hg(t,Xx):`https://${i.config.authDomain}/${Yx}`,s={apiKey:t.apiKey,appName:i.name,v:Ao},o=Zx.get(i.config.apiHost);o&&(s.eid=o);const u=i._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${hu(s).slice(1)}`}async function tM(i){const t=await Kx(i),n=Si().gapi;return At(n,i,"internal-error"),t.open({where:document.body,url:Jx(i),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Wx,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=Ai(i,"network-request-failed"),m=Si().setTimeout(()=>{u(f)},Qx.get());function p(){Si().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eM={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},nM=500,iM=600,rM="_blank",sM="http://localhost";class S0{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function aM(i,t,n,s=nM,o=iM){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p={...eM,width:s.toString(),height:o.toString(),top:u,left:f},g=Je().toLowerCase();n&&(m=E1(g)?rM:n),v1(g)&&(t=t||sM,p.scrollbars="yes");const v=Object.entries(p).reduce((w,[V,K])=>`${w}${V}=${K},`,"");if(qO(g)&&m!=="_self")return oM(t||"",m),new S0(null);const b=window.open(t||"",m,v);At(b,i,"popup-blocked");try{b.focus()}catch{}return new S0(b)}function oM(i,t){const n=document.createElement("a");n.href=i,n.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lM="__/auth/handler",uM="emulator/auth/handler",cM=encodeURIComponent("fac");async function w0(i,t,n,s,o,u){At(i.config.authDomain,i,"auth-domain-config-required"),At(i.config.apiKey,i,"invalid-api-key");const f={apiKey:i.config.apiKey,appName:i.name,authType:n,redirectUrl:s,v:Ao,eventId:o};if(t instanceof N1){t.setDefaultLanguage(i.languageCode),f.providerId=t.providerId||"",CR(t.getCustomParameters())||(f.customParameters=JSON.stringify(t.getCustomParameters()));for(const[v,b]of Object.entries({}))f[v]=b}if(t instanceof Tu){const v=t.getScopes().filter(b=>b!=="");v.length>0&&(f.scopes=v.join(","))}i.tenantId&&(f.tid=i.tenantId);const m=f;for(const v of Object.keys(m))m[v]===void 0&&delete m[v];const p=await i._getAppCheckToken(),g=p?`#${cM}=${encodeURIComponent(p)}`:"";return`${hM(i)}?${hu(m).slice(1)}${g}`}function hM({config:i}){return i.emulator?hg(i,uM):`https://${i.authDomain}/${lM}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nm="webStorageSupport";class fM{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=P1,this._completeRedirectFn=kx,this._overrideRedirectResult=Mx}async _openPopup(t,n,s,o){rr(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const u=await w0(t,n,s,ap(),o);return aM(t,u,yg())}async _openRedirect(t,n,s,o){await this._originValidation(t);const u=await w0(t,n,s,ap(),o);return px(u),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(rr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(t);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(t){const n=await tM(t),s=new Ux(t);return n.register("authEvent",o=>(At(o?.authEvent,t,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=n,s}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(Nm,{type:Nm},o=>{const u=o?.[0]?.[Nm];u!==void 0&&n(!!u),ir(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Hx(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return R1()||T1()||mg()}}const dM=fM;var R0="@firebase/auth",I0="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mM{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(s=>{t(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){At(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pM(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function gM(i){wi(new Zn("auth",(t,{options:n})=>{const s=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),u=t.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;At(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:f,authDomain:m,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:I1(i)},g=new QO(s,o,u,p);return tx(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,s)=>{t.getProvider("auth-internal").initialize()})),wi(new Zn("auth-internal",t=>{const n=pg(t.getProvider("auth").getImmediate());return(s=>new mM(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ln(R0,I0,pM(i)),Ln(R0,I0,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yM=300,_M=W0("authIdTokenMaxAge")||yM;let C0=null;const vM=i=>async t=>{const n=t&&await t.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>_M)return;const o=n?.token;C0!==o&&(C0=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function TM(i=bp()){const t=oa(i,"auth");if(t.isInitialized())return t.getImmediate();const n=JO(i,{popupRedirectResolver:dM,persistence:[Sx,fx,P1]}),s=W0("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=vM(u.toString());ux(n,f,()=>f(n.currentUser)),lx(n,m=>f(m))}}const o=Y0("auth");return o&&ex(n,`http://${o}`),n}function EM(){return document.getElementsByTagName("head")?.[0]??document}YO({loadJS(i){return new Promise((t,n)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=t,s.onerror=o=>{const u=Ai("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",EM().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});gM("Browser");const bM={apiKey:"AIzaSyARNuvbTBxAdIkhe422aiYdujRKOKgdnh8",authDomain:"ems-system-2b0ae.firebaseapp.com",projectId:"ems-system-2b0ae",storageBucket:"ems-system-2b0ae.firebasestorage.app",messagingSenderId:"1092774936128",appId:"1:1092774936128:web:1666a68edb8db226b7a9a5",measurementId:"G-SRCELKT1S2"},vg=aE(bM);TO(vg);TM(vg);const sr=zD(vg);function q1(i){var t,n,s="";if(typeof i=="string"||typeof i=="number")s+=i;else if(typeof i=="object")if(Array.isArray(i)){var o=i.length;for(t=0;t<o;t++)i[t]&&(n=q1(i[t]))&&(s&&(s+=" "),s+=n)}else for(n in i)i[n]&&(s&&(s+=" "),s+=n);return s}function Js(){for(var i,t,n=0,s="",o=arguments.length;n<o;n++)(i=arguments[n])&&(t=q1(i))&&(s&&(s+=" "),s+=t);return s}function AM(i){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.firstChild?t.insertBefore(n,t.firstChild):t.appendChild(n),n.styleSheet?n.styleSheet.cssText=i:n.appendChild(document.createTextNode(i))}AM(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var bu=i=>typeof i=="number"&&!isNaN(i),sa=i=>typeof i=="string",ar=i=>typeof i=="function",SM=i=>sa(i)||bu(i),up=i=>sa(i)||ar(i)?i:null,wM=(i,t)=>i===!1||bu(i)&&i>0?i:t,cp=i=>B.isValidElement(i)||sa(i)||ar(i)||bu(i);function RM(i,t,n=300){let{scrollHeight:s,style:o}=i;requestAnimationFrame(()=>{o.minHeight="initial",o.height=s+"px",o.transition=`all ${n}ms`,requestAnimationFrame(()=>{o.height="0",o.padding="0",o.margin="0",setTimeout(t,n)})})}function IM({enter:i,exit:t,appendPosition:n=!1,collapse:s=!0,collapseDuration:o=300}){return function({children:u,position:f,preventExitTransition:m,done:p,nodeRef:g,isIn:v,playToast:b}){let w=n?`${i}--${f}`:i,V=n?`${t}--${f}`:t,K=B.useRef(0);return B.useLayoutEffect(()=>{let Q=g.current,L=w.split(" "),Z=q=>{q.target===g.current&&(b(),Q.removeEventListener("animationend",Z),Q.removeEventListener("animationcancel",Z),K.current===0&&q.type!=="animationcancel"&&Q.classList.remove(...L))};Q.classList.add(...L),Q.addEventListener("animationend",Z),Q.addEventListener("animationcancel",Z)},[]),B.useEffect(()=>{let Q=g.current,L=()=>{Q.removeEventListener("animationend",L),s?RM(Q,p,o):p()};v||(m?L():(K.current=1,Q.className+=` ${V}`,Q.addEventListener("animationend",L)))},[v]),re.createElement(re.Fragment,null,u)}}function D0(i,t){return{content:H1(i.content,i.props),containerId:i.props.containerId,id:i.props.toastId,theme:i.props.theme,type:i.props.type,data:i.props.data||{},isLoading:i.props.isLoading,icon:i.props.icon,reason:i.removalReason,status:t}}function H1(i,t,n=!1){return B.isValidElement(i)&&!sa(i.type)?B.cloneElement(i,{closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:n}):ar(i)?i({closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:n}):i}function CM({closeToast:i,theme:t,ariaLabel:n="close"}){return re.createElement("button",{className:`Toastify__close-button Toastify__close-button--${t}`,type:"button",onClick:s=>{s.stopPropagation(),i(!0)},"aria-label":n},re.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},re.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function DM({delay:i,isRunning:t,closeToast:n,type:s="default",hide:o,className:u,controlledProgress:f,progress:m,rtl:p,isIn:g,theme:v}){let b=o||f&&m===0,w={animationDuration:`${i}ms`,animationPlayState:t?"running":"paused"};f&&(w.transform=`scaleX(${m})`);let V=Js("Toastify__progress-bar",f?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${v}`,`Toastify__progress-bar--${s}`,{"Toastify__progress-bar--rtl":p}),K=ar(u)?u({rtl:p,type:s,defaultClassName:V}):Js(V,u),Q={[f&&m>=1?"onTransitionEnd":"onAnimationEnd"]:f&&m<1?null:()=>{g&&n()}};return re.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":b},re.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${v} Toastify__progress-bar--${s}`}),re.createElement("div",{role:"progressbar","aria-hidden":b?"true":"false","aria-label":"notification timer",className:K,style:w,...Q}))}var NM=1,F1=()=>`${NM++}`;function OM(i,t,n){let s=1,o=0,u=[],f=[],m=t,p=new Map,g=new Set,v=q=>(g.add(q),()=>g.delete(q)),b=()=>{f=Array.from(p.values()),g.forEach(q=>q())},w=({containerId:q,toastId:Y,updateId:at})=>{let rt=q?q!==i:i!==1,dt=p.has(Y)&&at==null;return rt||dt},V=(q,Y)=>{p.forEach(at=>{var rt;(Y==null||Y===at.props.toastId)&&((rt=at.toggle)==null||rt.call(at,q))})},K=q=>{var Y,at;(at=(Y=q.props)==null?void 0:Y.onClose)==null||at.call(Y,q.removalReason),q.isActive=!1},Q=q=>{if(q==null)p.forEach(K);else{let Y=p.get(q);Y&&K(Y)}b()},L=()=>{o-=u.length,u=[]},Z=q=>{var Y,at;let{toastId:rt,updateId:dt}=q.props,I=dt==null;q.staleId&&p.delete(q.staleId),q.isActive=!0,p.set(rt,q),b(),n(D0(q,I?"added":"updated")),I&&((at=(Y=q.props).onOpen)==null||at.call(Y))};return{id:i,props:m,observe:v,toggle:V,removeToast:Q,toasts:p,clearQueue:L,buildToast:(q,Y)=>{if(w(Y))return;let{toastId:at,updateId:rt,data:dt,staleId:I,delay:S}=Y,R=rt==null;R&&o++;let M={...m,style:m.toastStyle,key:s++,...Object.fromEntries(Object.entries(Y).filter(([P,D])=>D!=null)),toastId:at,updateId:rt,data:dt,isIn:!1,className:up(Y.className||m.toastClassName),progressClassName:up(Y.progressClassName||m.progressClassName),autoClose:Y.isLoading?!1:wM(Y.autoClose,m.autoClose),closeToast(P){p.get(at).removalReason=P,Q(at)},deleteToast(){let P=p.get(at);if(P!=null){if(n(D0(P,"removed")),p.delete(at),o--,o<0&&(o=0),u.length>0){Z(u.shift());return}b()}}};M.closeButton=m.closeButton,Y.closeButton===!1||cp(Y.closeButton)?M.closeButton=Y.closeButton:Y.closeButton===!0&&(M.closeButton=cp(m.closeButton)?m.closeButton:!0);let N={content:q,props:M,staleId:I};m.limit&&m.limit>0&&o>m.limit&&R?u.push(N):bu(S)?setTimeout(()=>{Z(N)},S):Z(N)},setProps(q){m=q},setToggle:(q,Y)=>{let at=p.get(q);at&&(at.toggle=Y)},isToastActive:q=>{var Y;return(Y=p.get(q))==null?void 0:Y.isActive},getSnapshot:()=>f}}var an=new Map,lu=[],hp=new Set,xM=i=>hp.forEach(t=>t(i)),G1=()=>an.size>0;function MM(){lu.forEach(i=>K1(i.content,i.options)),lu=[]}var VM=(i,{containerId:t})=>{var n;return(n=an.get(t||1))==null?void 0:n.toasts.get(i)};function $1(i,t){var n;if(t)return!!((n=an.get(t))!=null&&n.isToastActive(i));let s=!1;return an.forEach(o=>{o.isToastActive(i)&&(s=!0)}),s}function PM(i){if(!G1()){lu=lu.filter(t=>i!=null&&t.options.toastId!==i);return}if(i==null||SM(i))an.forEach(t=>{t.removeToast(i)});else if(i&&("containerId"in i||"id"in i)){let t=an.get(i.containerId);t?t.removeToast(i.id):an.forEach(n=>{n.removeToast(i.id)})}}var kM=(i={})=>{an.forEach(t=>{t.props.limit&&(!i.containerId||t.id===i.containerId)&&t.clearQueue()})};function K1(i,t){cp(i)&&(G1()||lu.push({content:i,options:t}),an.forEach(n=>{n.buildToast(i,t)}))}function LM(i){var t;(t=an.get(i.containerId||1))==null||t.setToggle(i.id,i.fn)}function Q1(i,t){an.forEach(n=>{(t==null||!(t!=null&&t.containerId)||t?.containerId===n.id)&&n.toggle(i,t?.id)})}function UM(i){let t=i.containerId||1;return{subscribe(n){let s=OM(t,i,xM);an.set(t,s);let o=s.observe(n);return MM(),()=>{o(),an.delete(t)}},setProps(n){var s;(s=an.get(t))==null||s.setProps(n)},getSnapshot(){var n;return(n=an.get(t))==null?void 0:n.getSnapshot()}}}function zM(i){return hp.add(i),()=>{hp.delete(i)}}function BM(i){return i&&(sa(i.toastId)||bu(i.toastId))?i.toastId:F1()}function Au(i,t){return K1(i,t),t.toastId}function af(i,t){return{...t,type:t&&t.type||i,toastId:BM(t)}}function of(i){return(t,n)=>Au(t,af(i,n))}function kt(i,t){return Au(i,af("default",t))}kt.loading=(i,t)=>Au(i,af("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t}));function jM(i,{pending:t,error:n,success:s},o){let u;t&&(u=sa(t)?kt.loading(t,o):kt.loading(t.render,{...o,...t}));let f={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},m=(g,v,b)=>{if(v==null){kt.dismiss(u);return}let w={type:g,...f,...o,data:b},V=sa(v)?{render:v}:v;return u?kt.update(u,{...w,...V}):kt(V.render,{...w,...V}),b},p=ar(i)?i():i;return p.then(g=>m("success",s,g)).catch(g=>m("error",n,g)),p}kt.promise=jM;kt.success=of("success");kt.info=of("info");kt.error=of("error");kt.warning=of("warning");kt.warn=kt.warning;kt.dark=(i,t)=>Au(i,af("default",{theme:"dark",...t}));function qM(i){PM(i)}kt.dismiss=qM;kt.clearWaitingQueue=kM;kt.isActive=$1;kt.update=(i,t={})=>{let n=VM(i,t);if(n){let{props:s,content:o}=n,u={delay:100,...s,...t,toastId:t.toastId||i,updateId:F1()};u.toastId!==i&&(u.staleId=i);let f=u.render||o;delete u.render,Au(f,u)}};kt.done=i=>{kt.update(i,{progress:1})};kt.onChange=zM;kt.play=i=>Q1(!0,i);kt.pause=i=>Q1(!1,i);function HM(i){var t;let{subscribe:n,getSnapshot:s,setProps:o}=B.useRef(UM(i)).current;o(i);let u=(t=B.useSyncExternalStore(n,s,s))==null?void 0:t.slice();function f(m){if(!u)return[];let p=new Map;return i.newestOnTop&&u.reverse(),u.forEach(g=>{let{position:v}=g.props;p.has(v)||p.set(v,[]),p.get(v).push(g)}),Array.from(p,g=>m(g[0],g[1]))}return{getToastToRender:f,isToastActive:$1,count:u?.length}}function FM(i){let[t,n]=B.useState(!1),[s,o]=B.useState(!1),u=B.useRef(null),f=B.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:m,pauseOnHover:p,closeToast:g,onClick:v,closeOnClick:b}=i;LM({id:i.toastId,containerId:i.containerId,fn:n}),B.useEffect(()=>{if(i.pauseOnFocusLoss)return w(),()=>{V()}},[i.pauseOnFocusLoss]);function w(){document.hasFocus()||Z(),window.addEventListener("focus",L),window.addEventListener("blur",Z)}function V(){window.removeEventListener("focus",L),window.removeEventListener("blur",Z)}function K(I){if(i.draggable===!0||i.draggable===I.pointerType){q();let S=u.current;f.canCloseOnClick=!0,f.canDrag=!0,S.style.transition="none",i.draggableDirection==="x"?(f.start=I.clientX,f.removalDistance=S.offsetWidth*(i.draggablePercent/100)):(f.start=I.clientY,f.removalDistance=S.offsetHeight*(i.draggablePercent===80?i.draggablePercent*1.5:i.draggablePercent)/100)}}function Q(I){let{top:S,bottom:R,left:M,right:N}=u.current.getBoundingClientRect();I.nativeEvent.type!=="touchend"&&i.pauseOnHover&&I.clientX>=M&&I.clientX<=N&&I.clientY>=S&&I.clientY<=R?Z():L()}function L(){n(!0)}function Z(){n(!1)}function q(){f.didMove=!1,document.addEventListener("pointermove",at),document.addEventListener("pointerup",rt)}function Y(){document.removeEventListener("pointermove",at),document.removeEventListener("pointerup",rt)}function at(I){let S=u.current;if(f.canDrag&&S){f.didMove=!0,t&&Z(),i.draggableDirection==="x"?f.delta=I.clientX-f.start:f.delta=I.clientY-f.start,f.start!==I.clientX&&(f.canCloseOnClick=!1);let R=i.draggableDirection==="x"?`${f.delta}px, var(--y)`:`0, calc(${f.delta}px + var(--y))`;S.style.transform=`translate3d(${R},0)`,S.style.opacity=`${1-Math.abs(f.delta/f.removalDistance)}`}}function rt(){Y();let I=u.current;if(f.canDrag&&f.didMove&&I){if(f.canDrag=!1,Math.abs(f.delta)>f.removalDistance){o(!0),i.closeToast(!0),i.collapseAll();return}I.style.transition="transform 0.2s, opacity 0.2s",I.style.removeProperty("transform"),I.style.removeProperty("opacity")}}let dt={onPointerDown:K,onPointerUp:Q};return m&&p&&(dt.onMouseEnter=Z,i.stacked||(dt.onMouseLeave=L)),b&&(dt.onClick=I=>{v&&v(I),f.canCloseOnClick&&g(!0)}),{playToast:L,pauseToast:Z,isRunning:t,preventExitTransition:s,toastRef:u,eventHandlers:dt}}var GM=typeof window<"u"?B.useLayoutEffect:B.useEffect,lf=({theme:i,type:t,isLoading:n,...s})=>re.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:i==="colored"?"currentColor":`var(--toastify-icon-color-${t})`,...s});function $M(i){return re.createElement(lf,{...i},re.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function KM(i){return re.createElement(lf,{...i},re.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function QM(i){return re.createElement(lf,{...i},re.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function YM(i){return re.createElement(lf,{...i},re.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function XM(){return re.createElement("div",{className:"Toastify__spinner"})}var fp={info:KM,warning:$M,success:QM,error:YM,spinner:XM},WM=i=>i in fp;function ZM({theme:i,type:t,isLoading:n,icon:s}){let o=null,u={theme:i,type:t};return s===!1||(ar(s)?o=s({...u,isLoading:n}):B.isValidElement(s)?o=B.cloneElement(s,u):n?o=fp.spinner():WM(t)&&(o=fp[t](u))),o}var JM=i=>{let{isRunning:t,preventExitTransition:n,toastRef:s,eventHandlers:o,playToast:u}=FM(i),{closeButton:f,children:m,autoClose:p,onClick:g,type:v,hideProgressBar:b,closeToast:w,transition:V,position:K,className:Q,style:L,progressClassName:Z,updateId:q,role:Y,progress:at,rtl:rt,toastId:dt,deleteToast:I,isIn:S,isLoading:R,closeOnClick:M,theme:N,ariaLabel:P}=i,D=Js("Toastify__toast",`Toastify__toast-theme--${N}`,`Toastify__toast--${v}`,{"Toastify__toast--rtl":rt},{"Toastify__toast--close-on-click":M}),se=ar(Q)?Q({rtl:rt,position:K,type:v,defaultClassName:D}):Js(D,Q),Wt=ZM(i),X=!!at||!p,ot={closeToast:w,type:v,theme:N},mt=null;return f===!1||(ar(f)?mt=f(ot):B.isValidElement(f)?mt=B.cloneElement(f,ot):mt=CM(ot)),re.createElement(V,{isIn:S,done:I,position:K,preventExitTransition:n,nodeRef:s,playToast:u},re.createElement("div",{id:dt,tabIndex:0,onClick:g,"data-in":S,className:se,...o,style:L,ref:s,...S&&{role:Y,"aria-label":P}},Wt!=null&&re.createElement("div",{className:Js("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!R})},Wt),H1(m,i,!t),mt,!i.customProgressBar&&re.createElement(DM,{...q&&!X?{key:`p-${q}`}:{},rtl:rt,theme:N,delay:p,isRunning:t,isIn:S,closeToast:w,hide:b,type:v,className:Z,controlledProgress:X,progress:at||0})))},t4=(i,t=!1)=>({enter:`Toastify--animate Toastify__${i}-enter`,exit:`Toastify--animate Toastify__${i}-exit`,appendPosition:t}),e4=IM(t4("bounce",!0)),n4={position:"top-right",transition:e4,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:i=>i.altKey&&i.code==="KeyT"};function i4(i){let t={...n4,...i},n=i.stacked,[s,o]=B.useState(!0),u=B.useRef(null),{getToastToRender:f,isToastActive:m,count:p}=HM(t),{className:g,style:v,rtl:b,containerId:w,hotKeys:V}=t;function K(L){let Z=Js("Toastify__toast-container",`Toastify__toast-container--${L}`,{"Toastify__toast-container--rtl":b});return ar(g)?g({position:L,rtl:b,defaultClassName:Z}):Js(Z,up(g))}function Q(){n&&(o(!0),kt.play())}return GM(()=>{var L;if(n){let Z=u.current.querySelectorAll('[data-in="true"]'),q=12,Y=(L=t.position)==null?void 0:L.includes("top"),at=0,rt=0;Array.from(Z).reverse().forEach((dt,I)=>{let S=dt;S.classList.add("Toastify__toast--stacked"),I>0&&(S.dataset.collapsed=`${s}`),S.dataset.pos||(S.dataset.pos=Y?"top":"bot");let R=at*(s?.2:1)+(s?0:q*I);S.style.setProperty("--y",`${Y?R:R*-1}px`),S.style.setProperty("--g",`${q}`),S.style.setProperty("--s",`${1-(s?rt:0)}`),at+=S.offsetHeight,rt+=.025})}},[s,p,n]),B.useEffect(()=>{function L(Z){var q;let Y=u.current;V(Z)&&((q=Y.querySelector('[tabIndex="0"]'))==null||q.focus(),o(!1),kt.pause()),Z.key==="Escape"&&(document.activeElement===Y||Y!=null&&Y.contains(document.activeElement))&&(o(!0),kt.play())}return document.addEventListener("keydown",L),()=>{document.removeEventListener("keydown",L)}},[V]),re.createElement("section",{ref:u,className:"Toastify",id:w,onMouseEnter:()=>{n&&(o(!1),kt.pause())},onMouseLeave:Q,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":t["aria-label"]},f((L,Z)=>{let q=Z.length?{...v}:{...v,pointerEvents:"none"};return re.createElement("div",{tabIndex:-1,className:K(L),"data-stacked":n,style:q,key:`c-${L}`},Z.map(({content:Y,props:at})=>re.createElement(JM,{...at,stacked:n,collapseAll:Q,isIn:m(at.toastId,at.containerId),key:`t-${at.key}`},Y)))}))}const r4=()=>{const[i,t]=B.useState("HR"),[n,s]=B.useState(""),[o,u]=B.useState(""),[f,m]=B.useState(""),[p,g]=B.useState(!1),[v,b]=B.useState(""),[w,V]=B.useState(""),K=ls(),{login:Q}=kh(),L=async q=>{q.preventDefault(),m("");try{const at=ip(su(sr,i==="HR"?"users":"employee"),rp("name","==",n)),rt=await wh(at);if(rt.empty){m("User not found!");return}let dt;if(rt.forEach(I=>{dt={id:I.id,...I.data()}}),!dt){m("User not found!");return}if(dt.password!==o){m("Incorrect password");return}if(i==="HR"&&dt.role!=="HR"){m("Invalid role for this account");return}Q(dt.id,i,dt.name),kt.success(`Logged in as ${i}`),K(i==="HR"?"/hrinfo":"/emsinfo")}catch(Y){m(Y.message||"Something went wrong")}},Z=async q=>{if(q.preventDefault(),m(""),v!==w){m("Passwords do not match!");return}try{const at=ip(su(sr,i==="HR"?"users":"employee"),rp("name","==",n)),rt=await wh(at);if(rt.empty){m("User not found!");return}const dt=rt.docs[0].ref;await jb(dt,{password:v}),kt.success("Password updated successfully!"),g(!1),s(""),b(""),V("")}catch(Y){m(Y.message||"Something went wrong")}};return F.jsxs("div",{className:"container mt-5",style:{maxWidth:"500px"},children:[F.jsxs("ul",{className:"nav nav-tabs mb-3",children:[F.jsx("li",{className:"nav-item",children:F.jsx("button",{className:`nav-link ${i==="HR"?"active":""}`,onClick:()=>t("HR"),children:"HR"})}),F.jsx("li",{className:"nav-item",children:F.jsx("button",{className:`nav-link ${i==="EMP"?"active":""}`,onClick:()=>t("EMP"),children:"Employee"})})]}),F.jsxs("div",{className:"card shadow p-4",children:[F.jsx("h3",{className:"text-center mb-3",children:p?"Reset Password":`${i} Login`}),f&&F.jsx("div",{className:"alert alert-danger",children:f}),p?F.jsxs("form",{onSubmit:Z,children:[F.jsxs("div",{className:"mb-3",children:[F.jsx("label",{className:"form-label",children:"Name"}),F.jsx("input",{type:"text",className:"form-control",value:n,onChange:q=>s(q.target.value),placeholder:"Enter your name",required:!0})]}),F.jsxs("div",{className:"mb-3",children:[F.jsx("label",{className:"form-label",children:"New Password"}),F.jsx("input",{type:"password",className:"form-control",value:v,onChange:q=>b(q.target.value),placeholder:"Enter new password",required:!0})]}),F.jsxs("div",{className:"mb-3",children:[F.jsx("label",{className:"form-label",children:"Confirm New Password"}),F.jsx("input",{type:"password",className:"form-control",value:w,onChange:q=>V(q.target.value),placeholder:"Confirm new password",required:!0})]}),F.jsx("button",{type:"submit",className:"btn btn-success w-100",children:"Reset Password"}),F.jsx("p",{className:"text-center mt-2",children:F.jsx("button",{type:"button",className:"btn btn-link",onClick:()=>g(!1),children:"Back to Login"})})]}):F.jsxs("form",{onSubmit:L,children:[F.jsxs("div",{className:"mb-3",children:[F.jsx("label",{htmlFor:"name",className:"form-label",children:"Name"}),F.jsx("input",{type:"text",id:"name",className:"form-control",value:n,onChange:q=>s(q.target.value),placeholder:"Enter your name",required:!0})]}),F.jsxs("div",{className:"mb-3",children:[F.jsx("label",{htmlFor:"password",className:"form-label",children:"Password"}),F.jsx("input",{type:"password",id:"password",className:"form-control",value:o,onChange:q=>u(q.target.value),placeholder:"Enter your password",required:!0})]}),F.jsx("button",{type:"submit",className:"btn btn-primary w-100",children:"Login"}),F.jsx("p",{className:"text-center mt-2",children:F.jsx("button",{type:"button",className:"btn btn-link",onClick:()=>g(!0),children:"Forgot Password?"})})]})]})]})},s4=()=>{const[i,t]=B.useState({name:"",password:"",role:"HR"}),n=ls(),s=u=>{t({...i,[u.target.name]:u.target.value})},o=async u=>{u.preventDefault();try{const f=su(sr,"users"),m=ip(f,rp("name","==",i.name));if(!(await wh(m)).empty){kt.error("Username already taken. Please choose another.");return}await qb(f,i),kt.success("HR registered successfully!"),t({name:"",password:"",role:"HR"}),n("/login")}catch(f){console.error("Error adding user:",f),kt.error("Failed to register HR.")}};return F.jsxs("div",{className:"login-container",children:[F.jsx("h2",{className:"text-center m-2",children:"HR Registration"}),F.jsxs("form",{className:"login-content",onSubmit:o,children:[F.jsxs("div",{className:"mb-3",children:[F.jsx("label",{htmlFor:"name",className:"form-label",children:"Name"}),F.jsx("input",{type:"text",className:"form-control",id:"name",name:"name",value:i.name,onChange:s,required:!0})]}),F.jsxs("div",{className:"mb-3",children:[F.jsx("label",{htmlFor:"password",className:"form-label",children:"Password"}),F.jsx("input",{type:"password",className:"form-control",id:"password",name:"password",value:i.password,onChange:s,required:!0})]}),F.jsx("button",{type:"submit",className:"btn btn-primary",children:"Register HR"})]})]})},a4=()=>{const[i,t]=B.useState({name:"",empId:0,password:"",role:"",salary:0,dob:"",mobile:0}),n=ls(),s=u=>{t({...i,[u.target.name]:u.target.value})},o=async u=>{u.preventDefault();try{await qb(su(sr,"employee"),i),kt.success(" Employee created successfully!",{position:"top-right",autoClose:2e3}),setTimeout(()=>n("/hrinfo"),2e3)}catch{kt.error(" Failed to create employee")}};return F.jsxs("div",{className:"container mt-4",children:[F.jsx("h3",{children:"Create Employee"}),F.jsxs("form",{onSubmit:o,children:[Object.keys(i).map(u=>F.jsxs("div",{className:"mb-3",children:[F.jsx("label",{className:"form-label",children:u}),F.jsx("input",{type:"text",name:u,value:i[u],onChange:s,className:"form-control",required:!0})]},u)),F.jsx("button",{className:"btn btn-success",type:"submit",children:"Save"})]})]})},o4=()=>{const[i,t]=B.useState(""),[n,s]=B.useState([]),o=ls();B.useEffect(()=>{(async()=>{const v=(await wh(su(sr,"employee"))).docs.map(b=>({id:b.id,...b.data()}));s(v)})()},[]);const u=async p=>{await eN(au(sr,"employee",p)),s(n.filter(g=>g.id!==p))},f=p=>{o(`/edit/${p}`)},m=()=>{o("/create")};return F.jsxs("div",{className:"container mt-4",children:[F.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[F.jsx("input",{type:"text",className:"form-control w-50",placeholder:"Search employee...",value:i,onChange:p=>t(p.target.value)}),F.jsx("button",{className:"btn btn-primary ms-3",onClick:m,children:"Create Employee"})]}),F.jsxs("table",{className:"table table-bordered table-hover",children:[F.jsx("thead",{className:"table-dark",children:F.jsxs("tr",{children:[F.jsx("th",{children:"Name"}),F.jsx("th",{children:"Emp ID"}),F.jsx("th",{children:"Password"}),F.jsx("th",{children:"Role"}),F.jsx("th",{children:"Salary"}),F.jsx("th",{children:"DOB"}),F.jsx("th",{children:"Mobile"}),F.jsx("th",{children:"Actions"})]})}),F.jsx("tbody",{children:n.filter(p=>p.name.toLowerCase().includes(i.toLowerCase())).map(p=>F.jsxs("tr",{children:[F.jsx("td",{children:p.name}),F.jsx("td",{children:p.empId}),F.jsx("td",{children:p.password}),F.jsx("td",{children:p.role}),F.jsxs("td",{children:["",p.salary.toLocaleString()]}),F.jsx("td",{children:p.dob}),F.jsx("td",{children:p.mobile}),F.jsxs("td",{children:[F.jsx("button",{className:"btn btn-sm btn-warning me-2",onClick:()=>f(p.id),children:"Edit"}),F.jsx("button",{className:"btn btn-sm btn-danger",onClick:()=>u(p.id),children:"Delete"})]})]},p.id))})]})]})},l4=()=>{const{id:i}=lw(),[t,n]=B.useState({}),s=ls();B.useEffect(()=>{(async()=>{if(i){const m=au(sr,"employee",i),p=await zb(m);p.exists()&&n(p.data())}})()},[i]);const o=f=>{n({...t,[f.target.name]:f.target.value})},u=async f=>{if(f.preventDefault(),i)try{await jb(au(sr,"employee",i),t),kt.success(" Employee updated successfully!",{position:"top-right",autoClose:2e3}),setTimeout(()=>s("/hrinfo"),2e3)}catch{kt.error(" Failed to update employee")}};return F.jsxs("div",{className:"container mt-4",children:[F.jsx("h3",{children:"Edit Employee"}),F.jsxs("form",{onSubmit:u,children:[Object.keys(t).map(f=>F.jsxs("div",{className:"mb-3",children:[F.jsx("label",{className:"form-label",children:f}),F.jsx("input",{type:"text",name:f,value:t[f],onChange:o,className:"form-control",required:!0})]},f)),F.jsx("button",{className:"btn btn-primary",type:"submit",children:"Update"})]})]})},u4=()=>{const{Auth:i}=kh(),[t,n]=B.useState(null),[s,o]=B.useState(!0),[u,f]=B.useState(null);return B.useEffect(()=>{(async()=>{if(i)try{const p=au(sr,"employee",i),g=await zb(p);g.exists()&&n({id:g.id,...g.data()})}catch(p){console.error("Error fetching employee:",p)}finally{o(!1)}})()},[i]),B.useEffect(()=>{f(Math.floor(Math.random()*7)+20)},[]),s?F.jsx("p",{className:"text-center mt-5",children:"Loading your profile..."}):t?F.jsx("div",{className:"w-100 min-vh-100 bg-white",style:{padding:"40px 0",fontFamily:"monospace",background:"#f8f9fa"},children:F.jsxs("div",{className:"mx-auto",style:{maxWidth:"800px",background:"#fff",border:"1px solid #dee2e6",padding:"40px",boxShadow:"0 0 32px rgba(0,0,0,0.08)"},children:[F.jsxs("div",{className:"d-flex align-items-center mb-4",children:[F.jsx("div",{className:"rounded-circle bg-primary text-white d-flex justify-content-center align-items-center",style:{width:80,height:80,fontSize:32,marginRight:24},children:t.name.charAt(0).toUpperCase()}),F.jsxs("div",{children:[F.jsx("h2",{className:"mb-1",style:{fontWeight:700},children:t.name}),F.jsxs("span",{className:"text-muted",children:["Employee ID: ",t.empId]})]})]}),F.jsx("hr",{}),F.jsxs("div",{className:"row mb-4",children:[F.jsxs("div",{className:"col-md-6 mb-2",children:[F.jsx("strong",{children:"Role:"})," ",t.role]}),F.jsxs("div",{className:"col-md-6 mb-2",children:[F.jsx("strong",{children:"Salary:"})," ",t.salary.toLocaleString()]}),F.jsxs("div",{className:"col-md-6 mb-2",children:[F.jsx("strong",{children:"Date of Birth:"})," ",t.dob]}),F.jsxs("div",{className:"col-md-6 mb-2",children:[F.jsx("strong",{children:"Mobile:"})," ",t.mobile]}),F.jsxs("div",{className:"col-md-6 mb-2",children:[F.jsx("strong",{children:"Leave Info:"})," ",t.leaveInfo," days"]}),F.jsxs("div",{className:"col-md-6 mb-2",children:[F.jsx("strong",{children:"Working Days:"})," ",u??t.workingDays]})]}),F.jsx("div",{className:"text-end text-muted",style:{fontSize:14},children:F.jsxs("span",{children:["Generated on: ",new Date().toLocaleDateString()]})})]})}):F.jsx("p",{className:"text-center text-danger mt-5",children:"No employee data found."})},c4=[{path:"/register",component:s4,protected:!1,role:"HR"},{path:"/login",component:r4,protected:!1,role:"HR"},{path:"/hrinfo",component:o4,protected:!0,role:"HR"},{path:"/create",component:a4,protected:!0,role:"HR"},{path:"/edit/:id",component:l4,protected:!0,role:"HR"},{path:"/emsinfo",component:u4,protected:!0,role:"EMP"},{path:"/ems-firebase",component:G0,protected:!0,role:"EMP"}],h4=()=>{const[i,t]=B.useState(0);return F.jsxs(F.Fragment,{children:[F.jsx(iR,{}),F.jsxs(Aw,{children:[c4.map(({path:n,component:s,protected:o,role:u},f)=>F.jsx(xm,{path:n,element:o?F.jsx(rR,{role:u,path:n,children:F.jsx(s,{})}):F.jsx(s,{})},f)),F.jsx(xm,{path:"*",element:F.jsx(G0,{})})]}),F.jsx(i4,{})]})};xS.createRoot(document.getElementById("root")).render(F.jsx(B.StrictMode,{children:F.jsx($w,{children:F.jsx(nR,{children:F.jsx(h4,{})})})}));
